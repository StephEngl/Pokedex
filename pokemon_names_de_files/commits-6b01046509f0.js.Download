"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["commits","ui_packages_file-renderer-blob_FileRendererBlob_tsx"],{58924:(e,t,n)=>{n.d(t,{A:()=>i});let i={activityHeader:"ActivityHeader-module__activityHeader--Flalv",footer:"ActivityHeader-module__footer--FVHp7",narrowViewportWrapper:"ActivityHeader-module__narrowViewportWrapper--Hjl75",edits:"ActivityHeader-module__edits--LwHTE"}},8489:(e,t,n)=>{n.d(t,{A:()=>i});let i={avatarOuter:"Avatar-module__avatarOuter--MZJZH",avatarInner:"Avatar-module__avatarInner--rVuJD",avatarLink:"Avatar-module__avatarLink--S36bm",hiddenActivityAvatar:"Avatar-module__hiddenActivityAvatar--TkNWK",activityAvatar:"Avatar-module__activityAvatar--yNkmi",issueViewerAvatar:"Avatar-module__issueViewerAvatar--grA_h",avatarWithDivider:"Avatar-module__avatarWithDivider--QAWxt",avatarWithoutDivider:"Avatar-module__avatarWithoutDivider--VO6EM"}},62475:(e,t,n)=>{n.d(t,{M:()=>i});function i(e){if(null==e)throw Error("Failed to load page data.")}},66256:(e,t,n)=>{n.d(t,{z:()=>WebWorker});let WebWorker=class WebWorker{set onmessage(e){this.worker.onmessage=e}postMessage(e){this.worker.postMessage(e)}terminate(){this.worker.terminate()}constructor(e,t){try{this.worker=new Worker(e)}catch{console.warn("Web workers are not available. Please enable web workers to benefit from the improved performance."),this.worker=new MainThreadWorker(t)}}};let MainThreadWorker=class MainThreadWorker{async postMessage(e){if(this.terminated)return;let t={data:this.job({data:e})};this.onmessage?.(t)}terminate(){this.terminated=!0}constructor(e){this.terminated=!1,this.job=e}}},35524:(e,t,n)=>{n.d(t,{N:()=>DebouncedWorkerManager});let DebouncedWorkerManager=class DebouncedWorkerManager{post(e){if(this.debounceOverrideCondition&&this.debounceOverrideCondition(e))return this.delayId&&clearTimeout(this.delayId),this.postNow(e);this.idle()?(this.delayId&&clearTimeout(this.delayId),this.delayId=setTimeout(()=>{this.postNow(e)},this.delayMs)):this.nextRequest=e}postNow(e){this.currentRequest=e,this.worker.postMessage(e)}idle(){return!this.currentRequest}terminate(){this.worker.terminate()}constructor(e,t=200,n){this.currentRequest=void 0,this.nextRequest=void 0,this.worker=e,this.delayMs=t,this.debounceOverrideCondition=n,this.worker.onmessage=({data:e})=>{this.onResponse&&this.onResponse(e),this.nextRequest?(this.postNow(this.nextRequest),this.nextRequest=void 0):this.currentRequest=void 0}}}},51752:(e,t,n)=>{n.d(t,{Bq:()=>a,Sp:()=>l,mU:()=>i,tD:()=>r});let i={issueComment:"react-issue-comment",commentsContainer:"react-comments-container",markdownBody:"markdown-body",issueBody:"react-issue-body"},a={issueCommentComposer:"react-issue-comment-composer"};function r(){var e,t;let n=document.querySelector(`${l(i.commentsContainer)} ${(e=a.issueCommentComposer,`#${e}`)}[data-inside-side-panel=true]`);return n||document.querySelector((t=a.issueCommentComposer,`#${t}`))}function l(e){return`.${e}`}},39029:(e,t,n)=>{n.d(t,{k:()=>i});let i={canNotCommentOnIssue:"You do not have permissions to comment on this issue.",confirmations:{deleteCommentTitle:"Delete comment",deleteCommentContent:"Are you sure you'd like to delete this comment?",deleteCommentConfirmButtonContent:"Delete"},hiddenComment:"Hidden comment",hiddenCommentWithReason:"Hidden as",issueLockedToCollaborators:"This conversation has been locked and limited to collaborators.",repoArchived:"This repository has been archived.",sentViaEmail:"via email",commentAuthor:"Author",spammyBadge:"Spammy",spammyBadgeTooltip:"This user is marked as spammy. Their comments will only show in staff mode.",sponsorBadge:"Sponsor",newComment:"new Comment",newCommentPlaceholder:"Use Markdown to format your comment",commentSubjectAuthor:(e,t)=>`${e?"You are the":"This user is the"} author${t?` of this ${t}`:""}`,sponsor:(e,t)=>`${e}'s sponsor since ${t}`,noDescriptionProvided:"No description provided.",staleCommentErrorPrefix:"GraphQL error: STALE_DATA",issueConvertedToDiscussion:"Commenting has been disabled because this issue was converted to a"}},35373:(e,t,n)=>{n.d(t,{Y:()=>i});let i={avatarLink:"avatar-link",commentAuthorAssociation:"comment-author-association",commentSubjectAuthor:"comment-subject-author",spammyLabel:"spammy-label",sponsorLabel:"sponsor-label",commentHeader:"comment-header",commentHeaderLeftSideItems:"comment-header-left-side-items",commentHeaderRightSideItems:"comment-header-right-side-items",commentHeaderHamburger:"comment-header-hamburger",commentHeaderHamburgerOpen:"comment-header-hamburger-open",commentMenuRefComment:"comment-menu-ref-comment",commentViewerOuterBox:e=>e?`comment-viewer-outer-box-${e}`:"comment-viewer-outer-box",commentComposer:"comment-composer",markdownBody:"markdown-body",commentBox:(e="")=>`markdown-editor-${e}`,readonlyCommentBox:(e="")=>`readonly-markdown-editor-${e}`,commentSkeleton:"comment-skeleton"}},65876:(e,t,n)=>{n.d(t,{t:()=>i});let i={ghostUser:{displayName:"Ghost",login:"ghost",avatarUrl:"https://avatars.githubusercontent.com/ghost",path:"/ghost",url:"/ghost"},localStorageKeys:{issueComment:(e,t,n)=>`${e}-i${t}-c${n}.view-issue-comment`,issueNewComment:(e,t)=>`${e}-i${t}.view-issue-comment-new`}}},34313:(e,t,n)=>{n.d(t,{x:()=>f});var i=n(42031),a=n(3312),r=n(27010),l=n(92203),s=n(29816),o=n(96540),d=n(51752);let c={focusCommentComposer:"r"};var u=n(65876),m=n(40571);function f({commentBoxRef:e,markdownComposerRef:t,onChange:n,onCancel:f,referenceId:h,hasSingleKeyShortcutEnabled:p,insidePortal:g}){let[x,y]=(0,s.F)(u.t.localStorageKeys.issueNewComment("viewer",h),""),[b,j]=(0,o.useState)(x),C=(0,o.useMemo)(()=>(0,i.KG)(b),[b]),v=(0,r.X)(),N=void 0!==p?p:v?.current_user_settings?.use_single_key_shortcut||!1,{anyItemPickerOpen:w}=(0,a.t)(),k=(0,o.useCallback)(e=>{j(e),y(e)},[y]),S=(0,o.useCallback)(e=>{k(e),n(),""===e&&f()},[k,f,n]);(0,o.useImperativeHandle)(t,()=>({appendText:e=>{S(`${b}

${e}`)},setText:e=>{S(e)},focus:()=>{e.current?.focus()}}),[S,b,e]),(0,o.useEffect)(()=>j(b),[b,j]);let L=(0,o.useCallback)(t=>{if(!(!N||w())&&e&&e.current){t.preventDefault();let n=window.getSelection();if(n&&n.anchorNode){let e={anchorNode:n.anchorNode,range:n.getRangeAt(0)},t=n.anchorNode.parentElement,i=t?.closest(d.Sp(d.mU.issueComment))??t?.closest(d.Sp(d.mU.issueBody));if(i&&i instanceof HTMLDivElement){let t=(0,m.E)(i,e);k(`${t}`)}}e.current.scrollIntoView(),e.current.focus()}},[w,k,e,N]),D=(0,o.useCallback)(()=>{e.current?e.current.reset():j(""),y(void 0)},[e,y]);return(0,l._N)([c.focusCommentComposer],L,{triggerWhenInputElementHasFocus:!1,triggerWhenPortalIsActive:g}),{handleMarkdownBodyChanged:S,markdownValidationResult:C,markdownBody:b,resetMarkdownBody:D}}},58431:(e,t,n)=>{n.d(t,{i:()=>a});var i=n(39029);function a(e,t,n=null){return e?i.k.repoArchived:t?i.k.issueLockedToCollaborators:n||i.k.canNotCommentOnIssue}},40571:(e,t,n)=>{n.d(t,{E:()=>d,s:()=>r});var i=n(66661),a=n(51752);function r(e){if(!e)return e;let t=e.split("\n"),n="";for(let e of t)n=n.concat(`> ${e}
`);return n}let l=e=>t=>{for(let n of e.matchAll(/(!\[[^[]+?\]\([^()]+\/)([\w\d-]+)(.+)/g)){let e=n[1],i=n[2],a=n[3];if(!e||!i||!a)continue;let r=`${e}${i}${a.split(")")[0]})`,l=t.split(i);if(l.length<2)continue;let s=l[0]?.match(/!\[[^[]+$/),o=l[1]?.split(")")[0],d=`${s}${i}${o})`;t=t.replaceAll(d,r)}return t},s=e=>"none"===e.style.display||"hidden"===e.style.visibility||"true"===e.ariaHidden,o=e=>{let t=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,{acceptNode:()=>NodeFilter.FILTER_ACCEPT}),n=t.nextNode();for(;n;)n instanceof HTMLElement&&s(n)&&n.remove(),n=t.nextNode()};function d(e,t,n){if(!e)return;let r=e.querySelector((0,a.Sp)(a.mU.markdownBody)),s=new i.g("",o);t&&r.contains(t.anchorNode)&&r.contains(t.range.startContainer)&&r.contains(t.range.endContainer)&&!t.range.collapsed&&""!==t.range.toString().trim()?s.range=t.range:s.select(r),n&&(s.processSelectionTextFn=l(n));let d=(0,a.tD)();if(d){let e=d?.querySelector("textarea");if(e)return s.insert(e),e.value}}},52030:(e,t,n)=>{var i=n(15086),a=n(77475),r=n(74848),l=n(48799),s=n(55991),o=n(20120),d=n(96540);function c(e){let t=(0,o.B)(),[n]=(0,d.useState)(t?.repo),[i]=(0,d.useState)(t?.currentUser);return(0,r.jsx)(s.Q,{user:i,children:(0,r.jsx)(l.d,{repository:n,children:e.children})})}try{c.displayName||(c.displayName="App")}catch{}var u=n(27234),m=n(96642),f=n(4805),h=n(90408),p=n(93743),g=n(66996),x=n(89539),y=n(34610),b=n(81115),j=n(555),C=n(93653),v=n(18312),N=n(38621),w=n(65481),k=n(30729);function S(){return(0,r.jsxs)(w.A,{variant:"warning",className:"mb-4",children:[(0,r.jsx)(k.A,{icon:N.AlertIcon,className:"mr-2"}),(0,r.jsx)("span",{className:"overflow-hidden",children:"This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository."})]})}try{S.displayName||(S.displayName="SpoofedCommitWarningBanner")}catch{}var L=n(75177),D=n(52438);function I({oid:e,repo:t}){return(0,D.N)(e,t.id)?(0,r.jsxs)(w.A,{className:"mb-4",children:[(0,r.jsx)(L.A,{as:"img",src:"/images/modules/commit/flowers@2x.png",alt:"flower image",className:"mr-4 mt-1 float-left",sx:{width:"88px",height:"49px"}}),(0,r.jsx)("h2",{children:"Thanks for everything, Jim."}),(0,r.jsx)("p",{children:"We will miss you."})]}):null}try{I.displayName||(I.displayName="WeirichCommitBanner")}catch{}function E({oid:e,repo:t,commitBranchState:n}){return(0,r.jsxs)(r.Fragment,{children:[n.loading||0!==n.branches.length?null:(0,r.jsx)(S,{}),(0,r.jsx)(I,{oid:e,repo:t})]})}try{E.displayName||(E.displayName="CommitBanners")}catch{}var A=n(53738),T=n(91467),R=n(24664),_=n(93843),F=n(77175),O=n(72207),M=n(20300),B=n(56389),U=n(87330),$=n(34614),P=n(55847),H=n(47139),K=n(94977),V=n(20053),z=n(66863),G=n(92384),W=n(53094),q=n(6835),Q=n(70475),Y=n(68494),X=n(43935),J=n(2676);function Z({data:e,repo:t,className:n}){return e.loading||0!==e.branches.length?(0,r.jsxs)("div",{className:(0,V.$)(n,"d-flex flex-items-center flex-wrap fgColor-muted gap-1"),children:[(0,r.jsx)(k.A,{className:"mr-1",icon:N.GitBranchIcon}),e.loading?(0,r.jsx)(M.O,{width:"60px",variant:"rounded",height:"22px"}):e.branches.map((n,i)=>(0,r.jsxs)("div",{children:[(0,r.jsx)(ee,{branch:n,repo:t}),i!==e.branches.length-1?(0,r.jsx)("span",{className:"ml-1 user-select-none",children:"+"}):null]},n.branch))]}):null}function ee({branch:e,repo:t}){let n=e.branch;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(J.A,{className:"mx-1",href:(0,p.bSP)({repo:t,head:n}),children:e.branch}),e.prs.length>0?(0,r.jsxs)(r.Fragment,{children:["(",e.prs.map((t,n)=>(0,r.jsxs)(d.Fragment,{children:[(0,r.jsx)(et,{pullRequest:t}),n!==e.prs.length-1?(0,r.jsx)(r.Fragment,{children:",\xa0"}):null]},`pr-${t.repo.ownerLogin}-${t.repo.name}-${t.number}`)),")"]}):null]})}function et({pullRequest:e}){let{repo:t,number:n,showPrefix:i}=e,a=i?`${t.ownerLogin}/${t.name}`:"";return(0,r.jsxs)($.A,{href:(0,p.oDn)({repo:t,number:n}),className:"fgColor-muted","data-hovercard-url":(0,p.i9S)({owner:t.ownerLogin,repo:t.name,pullRequestNumber:n}),children:[a,"#",n]})}try{Z.displayName||(Z.displayName="CommitBranchInfo")}catch{}try{ee.displayName||(ee.displayName="BranchFragment")}catch{}try{et.displayName||(et.displayName="PullRequestLink")}catch{}let en={"commit-message-container":"CommitHeader-module__commit-message-container--nl1pf","commit-header-actions":"CommitHeader-module__commit-header-actions--kHXV1"};var ei=n(15091);function ea({commit:e,repo:t}){return(0,r.jsxs)(r.Fragment,{children:[`${e.parents.length} parent${e.parents.length>1||0===e.parents.length?"s":""} `,e.parents.map((e,n)=>(0,r.jsxs)(d.Fragment,{children:[0!==n?" + ":"",(0,r.jsx)($.A,{to:(0,p.$Qz)({owner:t.ownerLogin,repo:t.name,commitish:e})+new URL(x.fV.origin+x.fV.pathname+x.fV.search,x.fV.origin).search,as:ei.N,className:"color-fg-default Link--inTextBlock","data-hotkey":function(e){switch(e){case 0:return"p";case 1:return"o";default:return}}(n),"data-hovercard-url":(0,p.fQd)({owner:t.ownerLogin,repo:t.name,commitish:e}),children:(0,W.F)(e)})]},e))]})}try{ea.displayName||(ea.displayName="CommitParents")}catch{}var er=n(8338),el=n(91246);function es({data:e,repo:t,className:n}){if(0===e.tags.length)return null;let i=e.tags.length>2&&e.tags.length<25,a=e.tags.length>=25;return(0,r.jsxs)("div",{className:(0,V.$)(n,"d-flex flex-items-center flex-wrap gap-1"),children:[(0,r.jsx)(k.A,{className:"mr-2 fgColor-muted",icon:N.TagIcon}),(0,r.jsx)($.A,{href:(0,p.cpj)({owner:t.ownerLogin,repo:t.name,tag:e.tags[0]}),className:"fgColor-default",children:e.tags[0]}),i?(0,r.jsx)(eo,{tags:e.tags,repo:t}):null,a?(0,r.jsx)(ed,{tags:e.tags,repo:t}):null,e.tags.length>1?(0,r.jsx)($.A,{href:(0,p.cpj)({owner:t.ownerLogin,repo:t.name,tag:e.tags[e.tags.length-1]}),className:"fgColor-muted",children:e.tags[e.tags.length-1]}):null]})}function eo({tags:e,repo:t}){let[n,i]=(0,d.useState)(!1),a=(0,d.useRef)(null),l=(0,d.useCallback)(()=>{i(!0),requestAnimationFrame(()=>a.current?.focus())},[]);return n?(0,r.jsx)(r.Fragment,{children:e.slice(1,e.length-1).map((e,n)=>(0,r.jsx)($.A,{ref:0===n?a:null,href:(0,p.cpj)({owner:t.ownerLogin,repo:t.name,tag:e}),className:"fgColor-muted mx-1",children:e},e))}):(0,r.jsx)(U.K,{"aria-label":"Show more tags",unsafeDisableTooltip:!0,icon:N.KebabHorizontalIcon,size:"small",variant:"invisible",onClick:l})}function ed({tags:e,repo:t}){let[n,i]=(0,d.useState)(!1),a=(0,d.useRef)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(U.K,{"aria-label":"Show all tags",unsafeDisableTooltip:!0,icon:N.KebabHorizontalIcon,size:"small",variant:"invisible",onClick:()=>i(!0),ref:a}),n&&(0,r.jsx)(el.l,{title:`${e.length} tags`,onClose:()=>i(!1),returnFocusRef:a,width:"medium",height:e.length>=12?"small":"auto",renderBody:()=>(0,r.jsx)(er.l,{className:"overflow-y-auto py-2","data-testid":"tag-dialog-list",children:e.map(e=>(0,r.jsx)(er.l.LinkItem,{href:(0,p.cpj)({owner:t.ownerLogin,repo:t.name,tag:e}),children:e},e))})})]})}try{es.displayName||(es.displayName="CommitTagInfo")}catch{}try{eo.displayName||(eo.displayName="ExpandedTags")}catch{}try{ed.displayName||(ed.displayName="CommitTagsDialog")}catch{}let ec=(0,d.memo)(eu);function eu({commit:e,commitInfo:t,repo:n}){let i=(0,d.useRef)(null),a=(0,G.I)(`${(0,p.$Qz)({owner:n.ownerLogin,repo:n.name,commitish:e.oid})}/deferred_commit_data`);return(0,r.jsxs)(B.z,{children:[(0,r.jsx)(B.z.TitleArea,{variant:"large",sx:{minWidth:0,alignItems:"center"},children:(0,r.jsxs)(B.z.Title,{as:"h1",sx:{minWidth:0},className:"f2",children:["Commit ",(0,r.jsx)("span",{className:"text-mono bgColor-muted rounded p-1",children:(0,W.F)(e.oid)})]})}),(0,r.jsxs)(B.z.ContextArea,{children:[(0,r.jsx)(B.z.ContextBar,{children:(0,r.jsx)(ef,{})}),(0,r.jsx)(B.z.ContextAreaActions,{children:(0,r.jsx)(U.K,{as:$.A,href:(0,p.IO9)({repo:n,action:"tree",commitish:e.oid}),icon:N.FileCodeIcon,"aria-label":"Browse files"})})]}),(0,r.jsx)(B.z.Actions,{className:(0,V.$)(en["commit-header-actions"]),children:(0,r.jsxs)("div",{className:"d-none d-md-flex gap-2 flex-items-center flex-justify-between flex-md-justify-end",children:[(0,r.jsx)(ef,{}),(0,r.jsx)(K.A,{text:"Browse the repository at this point in the history",direction:"sw",sx:{display:"flex"},children:(0,r.jsx)(P.Q,{as:$.A,sx:{color:"fg.default"},href:(0,p.IO9)({repo:n,action:"tree",commitish:e.oid}),leadingVisual:N.FileCodeIcon,children:"Browse files"})})]})}),(0,r.jsx)(B.z.Description,{children:(0,r.jsxs)("div",{className:"d-flex flex-column gap-2 width-full",children:[(0,r.jsx)(Q.j,{commit:e,repo:n,settings:{fontColor:"fg.default",avatarSize:20,fontWeight:"bold"},textVariant:"muted",children:(0,r.jsx)(em,{deferredData:a,oid:e.oid,repo:n})}),(0,r.jsxs)(X.Z,{className:"pt-0",children:[(e.shortMessageMarkdown||e.bodyMessageHtml)&&(0,r.jsxs)("div",{className:(0,V.$)(en["commit-message-container"]),children:[e.shortMessageMarkdown&&(0,r.jsx)(F.yx,{ref:i,html:e.shortMessageMarkdown,className:"ws-pre-wrap f5 wb-break-word text-mono"}),e.bodyMessageHtml&&(0,r.jsx)(F.yx,{html:e.bodyMessageHtml,className:"ws-pre-wrap extended-commit-description-container f6 wb-break-word text-mono mt-2"})]}),(0,r.jsxs)("div",{className:"p-2 d-flex gap-2 flex-column flex-md-row flex-justify-between",children:[(0,r.jsxs)("div",{className:"d-flex flex-row flex-items-center",children:[(0,r.jsx)(Z,{data:t,repo:n}),t.tags.length>0&&(0,r.jsx)("span",{className:"px-2",children:"\xb7"}),(0,r.jsx)(es,{data:t,repo:n})]}),(0,r.jsxs)("pre",{className:"color-fg-muted d-flex flex-items-center",children:[(0,r.jsx)(ea,{commit:e,repo:n})," commit ",(0,r.jsx)("span",{className:"fgColor-default",children:(0,W.F)(e.oid)}),(0,r.jsx)(Y.w,{sha:e.oid,direction:"sw"})]})]})]})]})})]})}function em({deferredData:e,oid:t,repo:n}){let{helpUrl:i}=(0,z.D)(),a=void 0===e,l="";try{l=e?.statusCheckStatus?.short_text?.split("checks")[0]?.trim()||""}catch{}return(0,r.jsxs)(r.Fragment,{children:[a&&(0,r.jsx)(M.O,{className:"ml-2",variant:"rounded",width:"62px"}),e?.statusCheckStatus&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"d-flex ml-2 mr-1",children:"\xb7"}),(0,r.jsx)(q.d,{oid:t,status:e?.statusCheckStatus?.state,descriptionString:l,repo:n}),e?.signatureInformation&&e?.verifiedStatus!=="unsigned"&&(0,r.jsx)("span",{className:"d-flex ml-2",children:"\xb7"})]}),e?.signatureInformation&&(0,r.jsx)("div",{className:"ml-2",children:(0,r.jsx)(O.h,{commitOid:t,hasSignature:!0,verificationStatus:e.verifiedStatus,signature:{helpUrl:i,...e.signatureInformation}})})]})}function ef(){let e=(0,_.u)("diff_ux_refresh_beta");return(0,r.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[(0,r.jsx)(H.A,{variant:"success",children:e?"Preview":"Alpha"}),(0,r.jsx)($.A,{href:"https://gh.io/new-commit-details-feedback",target:"_blank",rel:"noopener noreferrer",className:"no-wrap f5 text-normal",children:"Give feedback"})]})}try{ec.displayName||(ec.displayName="CommitHeader")}catch{}try{eu.displayName||(eu.displayName="CommitHeaderUnmemoized")}catch{}try{em.displayName||(em.displayName="DeferredCommitHeaderData")}catch{}try{ef.displayName||(ef.displayName="Feedback")}catch{}function eh({unavailableReason:e,commit:t,commitInfo:n}){let i=(0,l.t)(),a=ep[e];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T.B,{"data-hpc":!0,padding:{narrow:"normal",regular:"spacious"},children:(0,r.jsx)(ec,{commit:t,commitInfo:n,repo:i})}),(0,r.jsxs)(R.A,{children:[(0,r.jsx)(R.A.Visual,{children:a.visual}),(0,r.jsx)(R.A.Heading,{children:a.heading}),(0,r.jsx)(R.A.Description,{children:a.description}),a.secondaryAction]})]})}let ep={corrupt:{visual:(0,r.jsx)(N.AlertIcon,{}),heading:"Sorry, this diff is unavailable.",description:"The repository may be missing relevant data.",secondaryAction:(0,r.jsx)(R.A.SecondaryAction,{href:(0,p.y2B)(),children:"Please contact support for more information"})},"missing commits":{visual:(0,r.jsx)(N.AlertIcon,{}),heading:"Sorry, this diff is unavailable.",description:"The repository may be missing relevant data.",secondaryAction:(0,r.jsx)(R.A.SecondaryAction,{href:(0,p.y2B)(),children:"Please contact support for more information"})},timeout:{visual:(0,r.jsx)(N.HourglassIcon,{}),heading:"Sorry, this diff is taking too long to generate.",description:"It may be too large to display on GitHub."},"too busy":{visual:(0,r.jsx)(N.HourglassIcon,{}),heading:"Sorry, this diff is temporarily unavailable due to heavy server load.",description:"Please try again later."}};try{eh.displayName||(eh.displayName="CommitUnavailable")}catch{}var eg=n(49983),ex=n(8258),ey=n(25013),eb=n(27010),ej=n(80603),eC=n(24272),ev=n(35822);let eN="commit-details-marker-portal";var ew=n(80171);let ek={extraDiffEntries:[],loading:!0,error:!1};var eS=n(37827);function eL(){let[e,t]=(0,d.useState)(!1);return(0,r.jsx)("div",{className:e?"":"pt-4",children:!e&&(0,r.jsx)(eS.l,{title:"Some content is hidden",description:(0,r.jsx)("div",{className:"d-flex flex-items-center",style:{justifyContent:"center"},children:"Large Commits have some content hidden by default. Use the searchbox below for content that may be hidden."}),variant:"warning",onDismiss:()=>t(!0)})})}try{eL.displayName||(eL.displayName="VirtualizedBanner")}catch{}var eD=n(9640),eI=n(54387),eE=n(76451),eA=n(52873),eT=n(71437),eR=n(72661);async function e_(e,t,n){let i=await (0,ew.Sr)(`${t}?pathDigest=${n}${function(e){let t="";for(let n=0;n<e.length;n++)t+=`&lineRanges[]=${JSON.stringify(e[n])}`;return t}(e)}`);if(i.ok)return await i.json()??void 0}async function eF({repo:e,sha1:t,sha2:n,entry:i}){let a=await (0,ew.Sr)((0,eR.RD)((0,p.uxJ)({owner:e.ownerLogin,repo:e.name,entry:i,sha1:t,sha2:n})));if(a.ok){let e=await a.json();return(0,eR.Av)(e),e.diffLines}}function eO(e,t){let n=new Map;for(let t of e){let e=`${t.left}-${t.right}`;n.set(e,t)}return t.map(e=>{let t=`${e.left}-${e.right}`,i=n.get(t);return i?{...e,position:i.position}:{...e,position:null,threadsData:void 0}})}var eM=n(82967),eB=n(89323);function eU({oid:e,path:t,repo:n,isViewable:i=!0,copilotDiffChatProps:a}){return(0,r.jsxs)(eB.W,{children:[(0,r.jsx)(eB.W.Anchor,{children:(0,r.jsx)("button",{className:"Button Button--iconOnly Button--invisible","aria-label":"More options",children:(0,r.jsx)(N.KebabHorizontalIcon,{})})}),(0,r.jsx)(eB.W.Overlay,{children:(0,r.jsxs)(er.l,{children:[(0,r.jsxs)(er.l.LinkItem,{href:(0,p.nD_)({repo:n.name,owner:n.ownerLogin,filePath:t,commitish:e}),inactiveText:i?void 0:"Action unavailable",children:[(0,r.jsx)(er.l.LeadingVisual,{children:(0,r.jsx)(N.EyeIcon,{})}),"View file"]}),a&&(0,r.jsx)(eM.$,{...a})]})})]})}try{eU.displayName||(eU.displayName="BlobActionsMenu")}catch{}let e$=(0,d.memo)(function({commitOid:e,path:t,proseDiffHtml:n,fileRendererInfo:i,dependencyDiffPath:a}){let{loaded:s,richDiffData:o}=function(e,t,n,i){let a=!!t.proseDiffHtml||!!t.fileRendererInfo||!!i,r=(0,l.t)(),[s,o]=(0,d.useState)(a),[c,u]=(0,d.useState)(t),m=(0,d.useCallback)(async()=>{let t=await (0,ew.lS)(`${(0,p.$Qz)({owner:r.ownerLogin,repo:r.name,commitish:e})}/rich_diff/${encodeURIComponent(n)}`);t.ok&&u(await t.json()),o(!0)},[e,n,r]);return(0,d.useEffect)(()=>{a||m()},[a,m]),{loaded:s,richDiffData:c}}(e,{proseDiffHtml:n,fileRendererInfo:i},t,a);return(0,r.jsx)(m.Uz,{dependencyDiffPath:a,fileRendererInfo:o.fileRendererInfo,loading:!s,proseDiffHtml:o.proseDiffHtml})});try{e$.displayName||(e$.displayName="CommitRichDiff")}catch{}let eP={diffHeaderWrapper:"Diff-module__diffHeaderWrapper--rsdD4"},eH={isInMergeQueue:!1,state:"OPEN"},eK=d.memo(eV);function eV({prId:e,diffMatches:t,focusedSearchResult:n,diffEntryData:i,splitPreference:a,lineSpacing:l,contextLinePathURL:c,recalcTotalHeightOfVirtualWindow:u,onOptionCollapseToggle:f,helpUrl:h,headerStickyOffset:p=0,repo:g,oid:x,index:y,ignoreWhitespace:b,virtualizerScrollTo:j}){let C=(0,s.i)(),v=(0,d.useMemo)(()=>({filteredMarkers:[],activeGlobalMarkerID:"",decrementActiveMarker:ey.l,incrementActiveMarker:ey.l,onActivateGlobalMarkerNavigation:ey.l,overlayPortalContainerName:eN}),[]),N=(0,o.B)().commentInfo,{getThreadDataByPathAndPosition:w,getInlineCommentInfoByPathAndPosition:k,initialExpandedThreadId:S}=(0,eE.B)(),L=function(e,t){let n=(0,o.B)(),{commit:i,commentInfo:a}=n,r=(0,eT.I)({commit:i,repo:n.repo,viewerCanReply:a.canComment,getInlineCommentInfoByPathAndPosition:t}),{addComment:l,deleteComment:s,editComment:c,hideComment:u,unhideComment:m}=(0,eA.X)(),{findInlineComment:f}=(0,eE.B)(),h=(0,d.useCallback)(({filePath:e,onCompleted:t,onError:n,text:i,thread:a})=>{let[r,s]=a.id.split("::");if(!r||!s){n(Error("Invalid threadId"));return}l(i,e,s).then(e=>{e.comment?t?.(e.comment.id):n(Error("Failed to add comment"))})},[l]),p=(0,d.useCallback)(({text:e,diffLine:t,filePath:n,onCompleted:i,onError:a})=>{t&&t.position&&l(e,n,t.position.toString()).then(e=>{if(e.comment){let a=e.comment.id,r=`${n}::${t.position}`;i?.(r,a)}else a?.(Error("Failed to add comment"))})},[l]),g=(0,d.useCallback)(({comment:e,text:t,onCompleted:n,onError:i})=>{let a=f(e.id);if(!a){i(Error("Comment not found"));return}c(t,{id:a.id,bodyVersion:a.bodyVersion}).then(e=>{e.updatedFields?n?.():i(Error("Failed to edit comment"))})},[c,f]),x=(0,d.useCallback)(({commentId:e,onCompleted:t,onError:n})=>{let i=f(e);if(!i){n?.(Error("Comment not found"));return}s(i.id.toString()).then(e=>{"success"===e?t?.():"error"===e&&n?.(Error("Failed to delete comment"))})},[s,f]),y=(0,d.useCallback)(({commentId:e,reason:t,onCompleted:n,onError:i})=>{let a=f(e);if(!a){i?.(Error("Comment not found"));return}u(a.id.toString(),t).then(e=>{"success"===e?n?.():"error"===e&&i(Error("Failed to hide comment"))})},[f,u]),b=(0,d.useCallback)(({commentId:e,onCompleted:t,onError:n})=>{let i=f(e);if(!i){n?.(Error("Comment not found"));return}m(i.id.toString()).then(e=>{"success"===e?t?.():"error"===e&&n(Error("Failed to unhide comment"))})},[f,m]);return(0,d.useMemo)(()=>({batchingEnabled:!1,commentSubjectType:"commit",multilineEnabled:!1,resolvingEnabled:!1,suggestedChangesEnabled:!1,lazyFetchReactionGroups:!0,addThread:p,addThreadReply:h,deleteComment:x,editComment:g,pendingSuggestedChangesBatch:[],submitSuggestedChanges:ey.l,addSuggestedChangeToPendingBatch:ey.l,removeSuggestedChangeFromPendingBatch:ey.l,addFileLevelThread:ey.l,resolveThread:ey.l,unresolveThread:ey.l,hideComment:y,unhideComment:b,fetchThread:r,commentBoxConfig:{pasteUrlsAsPlainText:e.pasteUrlsAsPlainText,useMonospaceFont:e.useMonospaceFont}}),[p,h,x,g,r,y,b,e])}((0,eA.X)().commentBoxConfig,k),[D,I]=(0,d.useState)(ez(i.current[y],w)),E=(0,d.useCallback)(e=>{I(ez(e,w))},[w]),[A,T]=(0,d.useState)(D.collapsed),[R,_]=(0,d.useState)(D.defaultToRichDiff),[F,O]=(0,d.useState)(D.diffManuallyExpanded),M=(0,d.useRef)(!1);(0,d.useEffect)(()=>{T(D.collapsed)},[D.collapsed]);let B=(0,d.useRef)([]),U=(0,d.useCallback)(async e=>{B.current.push(e);let t=await e_(B.current,c,D.pathDigest);if(void 0!==t){let e={...D};e.diffLines=eO(e.diffLines,t.diffEntryWithContext),E(e),i.current[y]=e,u()}},[c,i,D,y]),$=async()=>{B.current=[],M.current||((D.newTreeEntry?.lineCount??0)<5e3?B.current.push({start:1,end:Math.max(D.oldTreeEntry?.lineCount??0,D.newTreeEntry?.lineCount??0)}):B.current=function(e,t){let n=[];for(let t=0;t<e.length;t++)if("HUNK"===e[t].type){let i=e[t-1>=0?t-1:0],a=e[t+1<e.length?t+1:e.length-1],r=i?.blobLineNumber,l=a?.blobLineNumber;r&&l&&(n.push({start:r,end:r+40}),n.push({start:Math.max(l-40,1),end:l}))}let i=e[e.length-1].blobLineNumber;return i<t&&n.push({start:i,end:i+40}),n}(D.diffLines,D.newTreeEntry?.lineCount??0)),M.current=!M.current;let e=await e_(B.current,c,D.pathDigest);if(void 0!==e){let t={...D};t.diffLines=eO(t.diffLines,e.diffEntryWithContext),E(t),i.current[y]=t,u()}},P=(0,d.useCallback)(async()=>{if(0===D.diffLines.length){let e=await eF({repo:g,sha1:D.oldOid,sha2:D.newOid,entry:D.diffNumber.toString()});if(!e)return;let t={...D};t.diffLines=e,E(t),i.current[y]=t}D.diffManuallyExpanded=!0,i.current[y].diffManuallyExpanded=!0,O(!0),u(),requestAnimationFrame(()=>{j?.(y,{align:"center"})})},[i,D,y,u]);(0,d.useEffect)(()=>{E(i.current[y]),B.current=[]},[b,y,i,x,g.name,g.ownerLogin,D.path,E]);let H=(0,d.useMemo)(()=>{if(D.isBinary||(0,eI.dK)(D))return!1;if(M.current||(i.current[y]?.diffLines?.[1]?.blobLineNumber||0)>1)return!0;let e=i.current[y]?.diffLines?.length||0,t=i.current[y]?.diffLines?.[e-1]?.blobLineNumber||0,n=i.current[y]?.newTreeEntry?.lineCount||0;return t<n||e-1<n},[i.current[y]?.diffLines,i.current[y]?.newTreeEntry?.lineCount,y,i,D]),K=(0,d.useMemo)(()=>({avatarUrl:C?.avatarURL??"",diffViewPreference:a,isSiteAdmin:!1,login:C?.login??"",lineSpacingPreference:l,tabSizePreference:C?.tabSize??8,viewerCanComment:N.canComment,viewerCanApplySuggestion:!1}),[a,C?.avatarURL,C,C?.login,C?.tabSize,l]),V=(0,d.useMemo)(()=>{if(e&&D.copilotChatReferenceData)return{referenceData:D.copilotChatReferenceData,queryVariables:{pullRequestId:e,startOid:D.oldOid,endOid:D.newOid}}},[D,e]);return(0,r.jsxs)("div",{className:"position-relative",style:{contain:"layout"},children:[(0,r.jsx)("div",{className:eP.diffHeaderWrapper,style:{"--header-sticky-offset":`${p}px`},children:(0,r.jsx)(eD.B,{areLinesExpanded:M.current,canExpandOrCollapseLines:H,defaultToRichDiff:D.defaultToRichDiff,fileLinkHref:`#diff-${D.pathDigest}`,isCollapsed:A,isBinary:D.isBinary,size:D.diffSize,canToggleRichDiff:D.canToggleRichDiff,linesAdded:D.linesAdded,linesChanged:D.linesChanged,linesDeleted:D.linesDeleted,newMode:D.newTreeEntry?.mode,newPath:D.newTreeEntry?.path,oldMode:D.oldTreeEntry?.mode,oldPath:D.oldTreeEntry?.path,patchStatus:D.status,path:D.path,onToggleExpandAllLines:$,onToggleFileCollapsed:e=>{e.altKey?f(!A):(D.collapsed=!A,i.current[y].collapsed=!A,T(!A))},onToggleDiffDisplay:e=>_(e),rightSideContent:(0,r.jsx)(eU,{oid:"REMOVED"===D.status&&D.deletedSha?D.deletedSha:x,path:D.path,repo:g,isViewable:!D.isSubmodule,copilotDiffChatProps:V})})}),A?null:(0,r.jsx)("div",{className:"border position-relative rounded-bottom-2",children:R?(0,r.jsx)(e$,{commitOid:x,path:D.path,proseDiffHtml:D.proseDifffHtml,fileRendererInfo:D.renderInfo,dependencyDiffPath:D.dependencyDiffPath}):(0,r.jsx)(m.T5,{diffContext:"commit",copilotChatReferenceData:e?D.copilotChatReferenceData:void 0,searchResults:t,focusedSearchResult:n,diffEntryData:D,baseHelpUrl:h,commentingEnabled:!0,commentBatchPending:!1,repositoryId:g.id.toString(),subject:eH,subjectId:e?.toString()??"",viewerData:K,newCommitOid:D.newOid,oldCommitOid:D.oldOid,addInjectedContextLines:U,commentingImplementation:L,markerNavigationImplementation:v,diffLinesManuallyUnhidden:F,onHandleLoadDiff:P,initialExpandedThreadId:S})})]},`${D.pathDigest}_${D.diffLines.length}`)}function ez(e,t){for(let n of e.diffLines??[]){let i=t(e.path,n.position);i?n.threadsData={totalCommentsCount:i.count,totalCount:i.count,threads:(i.threads??[]).map(e=>({id:e.id,diffSide:e.diffSide,commentsData:e.commentsData,line:n.blobLineNumber,isOutdated:!1}))}:n.threadsData=void 0}return e}try{eK.displayName||(eK.displayName="Diff")}catch{}try{eV.displayName||(eV.displayName="DiffUnmemoized")}catch{}var eG=n(760),eW=n(84217);let eq=(0,d.memo)(eQ);function eQ({treeToggleElement:e,headerInfo:t,searchBox:n}){let i=(0,d.useRef)(null),a=function(e){let[t,n]=(0,d.useState)(!1),i=(0,d.useCallback)(e=>{let i=e[e.length-1].intersectionRatio<1;i!==t&&n(i)},[t,n]);return(0,d.useEffect)(()=>{let t=e.current,n=new IntersectionObserver(i,{root:t?.ownerDocument,threshold:[1],rootMargin:"-1px 0px 0px 0px"});return e.current&&n.observe(e.current),()=>{t&&n.unobserve(t)}},[e,i]),t}(i),l=a?"d-none d-sm-flex":"";return(0,r.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between gap-2 pt-3 pt-lg-4 pb-2 position-sticky top-0 color-bg-default",style:{zIndex:2},ref:i,children:[(0,r.jsxs)("div",{className:"d-flex flex-items-center",children:[e,(0,r.jsxs)(eW.A,{as:"h2",className:"mx-2 f4",children:[t.filesChangedString," file",t.filesChanged>1?"s":""," changed"]}),(0,r.jsxs)(eD.C,{className:l,isAddition:!0,children:["+",t.additions]}),(0,r.jsxs)(eD.C,{className:l,isAddition:!1,children:["-",t.deletions]}),(0,r.jsx)("span",{className:`${l} ml-2 fgColor-muted text-small`,style:{whiteSpace:"nowrap"},children:"lines changed"})]}),(0,r.jsxs)("div",{className:"d-flex gap-2 flex-items-center",children:[a&&(0,r.jsx)(eY,{}),void 0!==n&&n,(0,r.jsx)(eG.G,{reloadOnWhitespaceChange:!0})]})]})}let eY=()=>(0,r.jsx)(P.Q,{leadingVisual:N.ArrowUpIcon,variant:"invisible",className:"fgColor-default px-2 f6 gap-1",onClick:e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})},children:"Top"});try{eq.displayName||(eq.displayName="DiffsHeader")}catch{}try{eQ.displayName||(eQ.displayName="DiffsHeaderUnmemoized")}catch{}try{eY.displayName||(eY.displayName="GoToTopButton")}catch{}let eX=d.memo(eJ);function eJ(){return(0,r.jsx)("div",{className:"pt-3",children:(0,r.jsxs)("div",{className:"border borderColor-muted rounded-top-2",children:[(0,r.jsx)("div",{className:"gap-2 p-3 border-bottom borderColor-muted bgColor-muted rounded-top-2",children:(0,r.jsx)(M.O,{height:"sm",variant:"rounded",width:"140px"})}),(0,r.jsxs)("div",{className:"d-flex flex-column gap-2 p-3",children:[(0,r.jsx)(M.O,{height:"sm",variant:"rounded",width:"random"}),(0,r.jsx)(M.O,{height:"sm",variant:"rounded",width:"random"}),(0,r.jsx)(M.O,{height:"sm",variant:"rounded",width:"random"}),(0,r.jsx)(M.O,{height:"sm",variant:"rounded",width:"random"})]})]})})}try{eX.displayName||(eX.displayName="LoadingContentBlock")}catch{}try{eJ.displayName||(eJ.displayName="LoadingContentBlockUnmemoized")}catch{}function eZ({diffEntryData:e,contextLinePathURL:t,repo:n,oid:i,treeToggleElement:a,headerInfo:l,totalFileCount:s}){let c=(0,f.n)(),u=(0,d.useRef)(e),m=(0,eb.X)(),h=(0,o.B)();return(0,r.jsxs)("div",{"data-hpc":!0,children:[s>40&&(0,r.jsx)(eL,{}),(0,r.jsx)(eq,{treeToggleElement:a,headerInfo:l}),e.map((e,a)=>(0,r.jsx)("div",{className:0===a?"pt-0":"pt-3",children:(0,r.jsx)(eK,{onOptionCollapseToggle:ey.l,prId:void 0,diffEntryData:u,index:a,helpUrl:m.helpUrl,lineSpacing:c.lineSpacing,splitPreference:c.splitPreference,contextLinePathURL:t,recalcTotalHeightOfVirtualWindow:ey.l,repo:n,ignoreWhitespace:h.ignoreWhitespace,oid:i})},e.pathDigest))]})}try{eZ.displayName||(eZ.displayName="SSRDiffs")}catch{}let e0=(0,d.memo)(e1);function e1({totalFileCount:e,diffEntryData:t,contextLinePathURL:n,selectedPathDigest:i,unselectedFileExtensions:a,repo:l,oid:s,ignoreWhitespace:c,commitInfo:h,filterTerm:g,searchTerm:y,setSearchTerm:b,isTreeExpanded:j,treeToggleElement:C,headerInfo:v}){let N=(0,f.n)(),k=N.lineSpacing,S=(0,o.B)(),L=(0,d.useCallback)(()=>I({}),[]),[D,I]=(0,d.useState)({}),E=(0,d.useRef)(t),{findInDiffWorkerPath:A}=(0,z.D)(),T=(0,d.useRef)(t),R=(0,d.useRef)(e>40),_=(0,d.useRef)(null),[F,O]=(0,d.useState)(c),M=(0,d.useRef)(0),[B,U]=(0,d.useState)(s),{focusedSearchResult:$,setFocusedSearchResult:P,searchResults:H,currentIndex:K,setCurrentIndex:V}=(0,m.xB)(E.current,y,A,D);function G(e){for(let t of E.current)t.collapsed=e;L()}(0,d.useEffect)(()=>{a&&a.size>0?E.current=T.current.filter(e=>!a.has((0,eg.QC)(e.path))):E.current=T.current,g&&(E.current=E.current.filter(e=>e.path.toLowerCase().includes(g.toLowerCase()))),R.current=E.current.length>40,L()},[a?.size,g]),(0,d.useEffect)(()=>{E.current=t,T.current=t,R.current=e>40,L(),O(c),U(s)},[S.path]);let W=(0,eb.X)(),q=(0,p.VWf)({owner:S.repo.ownerLogin,repo:S.repo.name,sha1:S.commit.sha1,sha2:S.commit.sha2,oid:S.commit.oid}),Q=function(e,t,n,i,a,r){let[l,s]=(0,d.useState)(ek),o=(0,d.useRef)([]),c=(0,d.useRef)(n);return(0,d.useEffect)(()=>{if(!i||!a)return;let r=!1,l=async(e,t,n)=>{s(ek);let a=await (0,ew.lS)(`${i}&start_entry=${e}&bytes=${t}&lines=${n}`);if(!r)try{if(a.ok){let e=await a.json();e&&(e.loading=e.loadMore,o.current=o.current.concat(e.extraDiffEntries),e.extraDiffEntries=o.current,e.loadMore&&c.current!==e.asyncDiffLoadInfo.startIndex?(c.current=e.asyncDiffLoadInfo.startIndex,s(e),setTimeout(()=>l(e.asyncDiffLoadInfo.startIndex,e.asyncDiffLoadInfo.byteCount,e.asyncDiffLoadInfo.lineShownCount),0)):(c.current===e.asyncDiffLoadInfo.startIndex?e.error=!0:e.error=!1,e.loading=!1,s(e)))}else s(e=>({...e,loading:!1,error:!0,extraDiffEntries:o.current}))}catch{s(e=>({...e,loading:!1,error:!0,extraDiffEntries:o.current}))}};return l(n,e,t),function(){r=!0}},[e,t,a,n,i,r]),(0,d.useEffect)(()=>{o.current=[],c.current=n},[i,n,r]),l}(S.asyncDiffLoadInfo.byteCount,S.asyncDiffLoadInfo.lineShownCount,S.asyncDiffLoadInfo.startIndex,q,S.moreDiffsToLoad,c);(0,d.useEffect)(()=>{let e=E.current.concat(Q.extraDiffEntries);a&&a.size>0?E.current=e.filter(e=>!a.has((0,eg.QC)(e.path))):E.current=e,g&&(E.current=E.current.filter(e=>e.path.toLowerCase().includes(g.toLowerCase()))),T.current=e,L()},[Q.extraDiffEntries.length]);let Y=(0,d.useRef)(null),X=(0,eC.h)({parentRef:Y,shouldUseScrollRef:R.current,size:j?0:E.current.length,estimateSize:(0,d.useCallback)(e=>{var t;let n;return R.current?(t=E.current[e],n=67,t?.collapsed?n:t?.newTreeEntry?.isGenerated&&!t?.diffManuallyExpanded?199:t?.isTooBig?104:(t?.diffLines&&("compact"===k?n+=20*t.diffLines.length:n+=25*t.diffLines.length),t?.newTreeEntry?.lineCount&&t.newTreeEntry.lineCount>(t?.diffLines[t?.diffLines.length-1]?.right??0)&&(n+=32),n)):0},[E.current.length,D]),useVirtualImpl:ej.Y,rangeExtractor(e){if(!R.current)return(0,ev.v)(e);let t=x.fV.hash.substring(1),n=(0,ex.pd)(t),i=document.querySelector("[data-path-digest]:focus-within")?.getAttribute("data-path-digest"),a=E.current.findIndex(e=>e.pathDigest===i),r=E.current.findIndex(e=>n?.endsWith(e.pathDigest));return a<0&&r<0?(0,ev.v)(e):Array.from(new Set([...(0,ev.v)(e),...[a,r].filter(e=>e>-1)])).sort((e,t)=>e-t)}});(0,d.useEffect)(()=>{let e=i.includes("R"),t=i.includes("L"),n=t||e,a=n?t?i.split("L")[0]:i.split("R")[0]:i,r=e2(a??i,E.current);if(-1===r){if(Q.error&&null!==_){let e=_.current?.childNodes[0];e?.focus(),e?.scrollIntoView({block:"center"})}return}if(R.current)X.scrollToIndex(r,{align:"center"}),requestAnimationFrame(()=>{if(n&&e4(Y,i));else{let e=Y.current?.querySelectorAll(`[aria-label="collapse file: ${E.current[r]?.path}"]`);e&&1===e.length&&e[0].focus()}});else if(n&&e4(Y,i));else{let e=Y.current?.querySelectorAll(`[data-diff-anchor=diff-${a}]`);if(e&&1===e.length){let t=e[0].getBoundingClientRect().top+(x.cg?.scrollY??0)-67-60;x.cg?.scrollTo(0,t);let n=Y.current?.querySelectorAll(`[aria-label="collapse file: ${E.current[r]?.path}"]`);n&&1===n.length&&n[0].focus()}}},[i,Q]);let J=!R.current&&0===E.current.length,Z=(0,r.jsx)(m.n$,{currentPathDigestIndex:M,searchTerm:y,focusedSearchResult:$,currentIndex:K,setCurrentIndex:V,setFocusedSearchResult:P,setSearchTerm:b,searchResults:H,scrollDiffCellIntoView:e=>{let t=e2(e?.pathDigest??"",E.current);-1!==t&&(X.scrollToIndex(t,{align:"center"}),requestAnimationFrame(()=>{(function(e,t){let n=x.XC?.getElementById(`match-${t}-${e}`);n&&n.scrollIntoView({block:"center"})})(e?.indexWithinDigest??0,e?.pathDigest??"")}))}});return(0,r.jsxs)("div",{"data-hpc":!0,ref:Y,children:[R.current&&(0,r.jsx)(eL,{}),(0,r.jsx)(eq,{treeToggleElement:C,headerInfo:v,searchBox:Z}),(0,r.jsx)(u.dE,{id:eN}),!R.current&&E.current.map((e,t)=>{let i,a;return H.has(e?.pathDigest??"")&&(i=H.get(e?.pathDigest??"")??[]),$&&e?.pathDigest===$?.pathDigest&&(a=$?.indexWithinDigest??-1),(0,r.jsx)("div",{style:{paddingTop:0===t?0:16,left:3,right:3},children:(0,r.jsx)(eK,{prId:h?.branches[0]?.prs[0]?.globalRelayId,diffEntryData:E,diffMatches:i,focusedSearchResult:a,onOptionCollapseToggle:G,index:t,splitPreference:N.splitPreference,contextLinePathURL:n,recalcTotalHeightOfVirtualWindow:ey.l,repo:l,helpUrl:W.helpUrl,oid:B,ignoreWhitespace:F,lineSpacing:N.lineSpacing})},e.pathDigest)}),(0,r.jsx)("div",{role:"alert",className:"sr-only",children:J&&(0,r.jsx)("h3",{className:"d-flex flex-justify-center",children:"There are no files selected for viewing"})}),R.current&&(0,r.jsx)("div",{style:{height:X.totalSize,width:"100%",position:"relative"},children:X.virtualItems.map(e=>{let t,i;let a=E.current[e.index];return(H.has(a?.pathDigest??"")&&(t=H.get(a?.pathDigest??"")??[]),$&&a?.pathDigest===$?.pathDigest&&(i=$?.indexWithinDigest??-1),a)?(0,r.jsx)("div",{ref:e.measureRef,"data-key":e.key,style:{position:"absolute",paddingTop:0===e.index?0:16,left:3,right:3,transform:`translateY(${e.start}px)`},children:(0,r.jsx)(eK,{prId:h?.branches[0]?.prs[0]?.globalRelayId,diffMatches:t,focusedSearchResult:i,diffEntryData:E,index:e.index,splitPreference:N.splitPreference,contextLinePathURL:n,onOptionCollapseToggle:G,recalcTotalHeightOfVirtualWindow:L,headerStickyOffset:-e.start,helpUrl:W.helpUrl,repo:l,oid:B,ignoreWhitespace:F,lineSpacing:k,virtualizerScrollTo:X.scrollToIndex})},a.pathDigest):null})}),S.moreDiffsToLoad&&(0,r.jsxs)(r.Fragment,{children:[Q.loading&&(0,r.jsx)(eX,{}),Q.error&&(0,r.jsx)("div",{style:{justifyContent:"center",paddingTop:"16px"},ref:_,children:(0,r.jsx)(w.A,{variant:"danger",tabIndex:0,children:(0,r.jsx)("div",{className:"d-flex flex-items-center",style:{justifyContent:"center"},children:"There was a problem loading the remainder of the diff."})})})]})]})}function e2(e,t){for(let n=0;n<t.length;n++)if(e===t[n]?.pathDigest)return n;return -1}function e4(e,t){let n=e.current?.querySelectorAll(`[data-line-anchor=diff-${t}]`);return!!n&&1===n.length&&(n[0].focus(),!0)}try{e0.displayName||(e0.displayName="Diffs")}catch{}try{e1.displayName||(e1.displayName="DiffsUnmemoized")}catch{}var e3=n(70170),e8=n(32e3),e7=n(51194),e6=n(13619);let e5="diff_file_tree",e9=(0,d.memo)(te);function te({contentId:e,diffs:t,onFileSelected:n,diffsHeader:i,unselectedFileExtensions:a,onFilterTextChange:l,onFileExtensionsChange:s}){let[o,c]=(0,d.useState)(""),{getCommentCountByPath:u}=(0,eE.B)(),m=(0,d.useRef)(null),f=(0,d.useRef)(null),h=(0,d.useRef)(null),p=(0,d.useMemo)(()=>(0,eg.hr)(t),[t]),g=t;a&&a.size>0&&(g=g.filter(e=>!a.has((0,eg.QC)(e.path))));let x=(o?g.filter(e=>e.path.toLowerCase().includes(o.toLowerCase())):g).map(e=>{let t=u(e.path);return{...e,totalCommentsCount:t??0}});return(0,r.jsxs)("div",{className:"d-flex flex-column gap-2",id:e5,tabIndex:-1,children:[(0,r.jsx)(y.ak,{commands:{"pull-requests-diff-file-tree:focus-file-tree":function(){let t=document.getElementById(e),n=document.getElementById(e5),i=!1;if(t?.contains(document.activeElement)&&(i=!0),i){let e=h.current||n;f.current=t?.contains(document.activeElement)?document.activeElement:null,e?.focus()}else{let e=f.current||t;h.current=n?.contains(document.activeElement)?document.activeElement:null,e?.focus()}}}}),(0,r.jsx)("h2",{className:"sr-only",children:"File tree"}),(0,r.jsx)("div",{className:"d-md-none",ref:m,children:i}),(0,r.jsx)(tt,{filterText:o,onFilterTextChange:e=>{c(e),l(e)},fileExtensions:p,unselectedFileExtensions:a,onFileExtensionsChange:s}),(0,r.jsx)(e7.o,{diffs:x,renderPattern:"traditional",onSelect:e=>{n(e,(0,e6.nn)(window.innerWidth)<=e6.Gy.medium?"close_tree":void 0)}})]})}function tt({filterText:e,onFilterTextChange:t,fileExtensions:n,unselectedFileExtensions:i,onFileExtensionsChange:a}){let l=(0,d.useRef)((0,e3.s)(e=>t(e),250));return(0,r.jsx)(e8.kF,{filterText:e,fileExtensions:n,unselectedFileExtensions:i,onFilterTextChange:e=>l.current(e),onFilterChange:(e,t)=>{a(e,t.extension)}})}try{e9.displayName||(e9.displayName="FileTree")}catch{}try{te.displayName||(te.displayName="FileTreeUnmemoized")}catch{}try{tt.displayName||(tt.displayName="FileFilter")}catch{}var tn=n(77962);async function ti({repo:e,commitOid:t,untilCommentId:n}){let i=await (0,ew.Sr)((0,eR.RD)((0,p.clg)({owner:e.ownerLogin,repo:e.name,commitOid:t,untilCommentId:n})));if(i.ok){let e=await i.json();return(0,eR.Av)(e),e}throw Error("Failed to fetch comment data")}var ta=n(99793);async function tr(e,t){if(!t)return;let n=new FormData;n.set("file_tree_visible",e?"true":"false"),(0,ew.DI)((0,p.h6D)(t),{method:"PUT",body:n,headers:{Accept:"application/json"}})}let tl=(0,g.E7)(),ts="diff-content-parent";function to(){(0,j.L)(!0);let e=(0,o.B)(),{splitPagePaneHiddenSx:t,splitPageContentHidden:n,treeToggleElement:i,collapseTree:a,isMobileTreeExpanded:c}=function(e,t){let[n]=(0,b.I)(()=>!1,!0,[]),i=(0,s.i)(),a=(0,d.useRef)(null),l=(0,d.useRef)(null),[o,c]=(0,d.useState)(t),[u,m]=(0,d.useState)(!1),f=(0,d.useCallback)(()=>{(0,e6.nn)(window.innerWidth)<=e6.Gy.medium?(m(!0),requestAnimationFrame(()=>l.current?.focus())):(c(!0),tr(!0,i),requestAnimationFrame(()=>a.current?.focus()))},[i]),h=(0,d.useCallback)(()=>{(0,e6.nn)(window.innerWidth)<=e6.Gy.medium?(m(!1),requestAnimationFrame(()=>l.current?.focus())):(c(!1),tr(!1,i),requestAnimationFrame(()=>a.current?.focus()))},[i]),p=(0,d.useMemo)(()=>(0,r.jsx)(ta.L,{expanded:o,alignment:"left",ariaLabel:o?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:a,onToggleExpanded:()=>{o?h():f()},className:"d-none d-md-flex position-relative"}),[o,e,h,f]),g=(0,d.useMemo)(()=>(0,r.jsx)(ta.L,{expanded:u,alignment:"left",ariaLabel:u?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:l,onToggleExpanded:()=>{u?h():f()},className:"d-md-none position-relative"}),[u,e,h,f]),x=(0,d.useMemo)(()=>(0,r.jsxs)(r.Fragment,{children:[g,p]}),[g,p]);return{splitPagePaneHiddenSx:n&&!t?{display:"none",contain:"content"}:{contain:"content",flexDirection:["column","column","inherit"],"@media screen and (max-width: 768px)":u?{mt:-3}:{display:"none"},"@media screen and (min-width: 769px)":o?{height:"100vh",maxHeight:"100vh !important"}:{display:"none"}},splitPageContentHidden:{narrow:u,regular:!1},isMobileTreeExpanded:u,expandTree:f,collapseTree:h,treeToggleElement:x,treeToggleRef:a}}(e5,e.fileTreeExpanded),[g,N]=(0,d.useState)(()=>new Set),[w]=(0,b.I)(()=>!1,!0,[]),[k,S]=(0,d.useState)(""),[L,D]=(0,d.useState)(""),[I,T]=(0,d.useState)(""),[R,_]=(0,d.useState)(!1),F=(0,d.useCallback)((e,t)=>{S(e.pathDigest),"close_tree"===t&&a()},[a]),O=function(e){let t=(0,l.t)(),[n,i]=(0,d.useState)({branches:[],tags:[],loading:!0});return(0,d.useEffect)(()=>{let n=!1;return(async()=>{i({branches:[],tags:[],loading:!0});let a=await (0,ew.lS)((0,p.jnS)({owner:t.ownerLogin,repo:t.name,commitish:e}));if(!n)try{if(a.ok){let e=await a.json();e.loading=!1,e&&i({...e,loading:!1})}else i({branches:[],tags:[],loading:!1})}catch{i({branches:[],tags:[],loading:!1})}})(),function(){n=!0}},[t.ownerLogin,t.name,e]),n}(e.commit.oid),M=(0,p.t0c)({owner:e.repo.ownerLogin,repo:e.repo.name,commitish:e.commit.oid}),B=(0,d.useCallback)((e,t)=>{let n=new Set(g);"selectFileExtension"===e?n.delete(t):"unselectFileExtension"===e&&n.add(t),N(n)},[g]);(0,d.useEffect)(()=>{N(new Set)},[e.commit]),(0,d.useEffect)(()=>{let e=x.cg?.location.hash;if(e?.indexOf("diff-")!==-1){let t=e?.split("diff-");t&&2===t.length&&S(t[1]??"")}},[]);let U=(0,d.useMemo)(()=>({hideWhitespace:e.ignoreWhitespace,splitPreference:e.splitViewPreference,lineSpacing:e.diffLineSpacingPreference}),[e.diffLineSpacingPreference,e.ignoreWhitespace,e.splitViewPreference]),$=e.repo,P=(0,d.useMemo)(()=>({repository:{databaseId:$.id,nwo:`${$.ownerLogin}/${$.name}`,slashCommandsEnabled:!1},type:"commit",id:{id:e.commit.oid}}),[$.id,$.name,$.ownerLogin,e.commit.oid]);(0,d.useEffect)(()=>{(x.cg?.scrollY??0)>0&&x.cg?.scrollTo(0,0)},[e.path]);let{deferredCommentData:H,state:K}=function(e,t){let[n,i]=(0,d.useState)(void 0),[a,r]=(0,d.useState)("initial");return(0,d.useEffect)(()=>{let n;i(void 0),r("loading");let a=x.cg?.location.hash;a&&/^#commitcomment-\d+$/.test(a)&&(n=a.replace("#commitcomment-","")),(async()=>{i(await ti({repo:e,commitOid:t,untilCommentId:n})),r("loaded")})()},[t,e]),{deferredCommentData:n,state:a}}(e.repo,e.commit.oid),V=H?.threadMarkers,z=H?.inlineComments,[G,W]=(0,d.useState)(void 0);if((0,d.useEffect)(()=>{if("loaded"===K){let e=x.cg?.location.hash.slice(1);if(e&&H){if(/^commitcomment-\d+$/.test(e))H?.discussionComments.comments.find(t=>t.urlFragment===e)&&x.cg?.requestAnimationFrame(()=>{let t=document.getElementById(e??"");t&&(t.scrollIntoView({block:"center"}),t.focus())});else if(/^r\d+$/.test(e)){let t=e.replace("r","");for(let e of H.threadMarkers)if(e.threads){for(let n of e.threads)if(n.commentsData.comments){for(let e of n.commentsData.comments)if(e&&e.id&&e.id.toString()===t){W(n.id);return}}}}}}},[H,K]),e.unavailableReason)return(0,r.jsx)(eh,{commit:e.commit,commitInfo:O,unavailableReason:e.unavailableReason});let[q,Q]=function(e){let t=e.findIndex(e=>void 0===e.oldOid)-1;return[-2===t?e:e.slice(0,t+1),e.map(e=>({path:e.path,changeType:e.status,pathDigest:e.pathDigest}))]}(e.diffEntryData);return(0,r.jsx)(v.RelayEnvironmentProvider,{environment:tl,children:(0,r.jsx)(u.uo,{value:P,children:(0,r.jsxs)(eE.r,{initialInlineComments:z,initialFiles:V,initialExpandedThreadId:G,children:[(0,r.jsx)(y.ak,{commands:{"commit-diff-view:create-permalink":()=>{let t=(0,p.$Qz)({owner:e.repo.ownerLogin,repo:e.repo.name,commitish:e.commit.oid});window.history.pushState(null,document.title,t)}}}),(0,r.jsxs)(C.O7,{children:[(0,r.jsxs)(C.O7.Header,{children:[(0,r.jsx)(E,{commitBranchState:O,oid:e.commit.oid,repo:e.repo}),(0,r.jsx)(ec,{commit:e.commit,commitInfo:O,repo:e.repo})]}),(0,r.jsx)(C.O7.Pane,{position:"start",sticky:!0,sx:t,divider:{regular:"line",narrow:"none"},widthStorageKey:"diff-tree-pane-width",resizable:!0,children:(0,r.jsx)(e9,{contentId:ts,diffs:Q,onFileSelected:F,unselectedFileExtensions:g,diffsHeader:(0,r.jsx)(eq,{treeToggleElement:i,headerInfo:e.headerInfo}),onFileExtensionsChange:B,onFilterTextChange:D})}),(0,r.jsx)(C.O7.Content,{as:"div",width:"full",hidden:n,padding:"none",sx:{p:[3,3,3,4],pt:[0,0,0,0]},children:(0,r.jsx)(f.B,{viewSettings:U,children:(0,r.jsxs)("div",{id:ts,tabIndex:-1,children:[w?(0,r.jsx)(eZ,{diffEntryData:q,contextLinePathURL:M,repo:e.repo,oid:e.commit.oid,treeToggleElement:i,headerInfo:e.headerInfo,totalFileCount:e.diffEntryData?.length??0}):(0,r.jsx)(m.cP,{searchTerm:I,setSearchTerm:T,children:(0,r.jsx)(e0,{totalFileCount:e.diffEntryData?.length??0,treeToggleElement:i,headerInfo:e.headerInfo,isTreeExpanded:c,commitInfo:O,searchTerm:I,setSearchTerm:T,ignoreWhitespace:e.ignoreWhitespace,diffEntryData:q,contextLinePathURL:M,filterTerm:L,unselectedFileExtensions:g,selectedPathDigest:k,repo:e.repo,oid:e.commit.oid})}),(0,r.jsx)(tn.c,{comments:H?.discussionComments?.comments,commentCount:H?.discussionComments?.count,canLoadMore:H?.discussionComments?.canLoadMore,subscribed:H?.subscribed,providerState:K,repo:e.repo,commitOid:e.commit.oid,children:(0,r.jsx)(A.$,{commit:e.commit,commentInfo:e.commentInfo})}),(0,r.jsx)(h.nq,{})]})})})]})]})})})}try{to.displayName||(to.displayName="Commit")}catch{}function td({url:e}){return(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("p",{className:"color-fg-muted f6 mt-4",children:["Seeing something unexpected? Take a look at the",(0,r.jsxs)($.A,{inline:!0,href:e,children:[" ","GitHub commits guide"]}),"."]})})}try{td.displayName||(td.displayName="CommitHelpMessage")}catch{}let tc=(0,d.createContext)({since:null,until:null,author:null,currentBlobPath:"",pagination:{hasNextPage:!1,hasPreviousPage:!1,endCursor:"",startCursor:""},newPath:null,originalBranch:null});function tu({filters:e,children:t}){return(0,r.jsx)(tc.Provider,{value:e,children:t})}function tm(){return(0,d.useContext)(tc)}try{tc.displayName||(tc.displayName="FilterContext")}catch{}try{tu.displayName||(tu.displayName="FilterProvider")}catch{}var tf=n(52801),th=n(30595),tp=n(2662),tg=n(30801);function tx(){let e=tm();return e.newPath&&e.originalBranch}function ty(){let e=(0,l.t)(),t=tm();return tx()?(0,r.jsx)(tg.s,{sx:{pt:1,pb:0},children:(0,r.jsxs)("div",{className:"d-flex flex-items-baseline",children:[(0,r.jsx)(tg.s.Heading,{as:"h3",title:`Renamed to ${t.newPath}`,"data-testid":"commit-note-title"}),(0,r.jsx)(ei.N,{to:(0,p.GpY)({owner:e.ownerLogin,repo:e.name,ref:t.originalBranch,path:t.newPath}),children:"(Browse History)"})]})}):null}function tb(){let e=(0,tp.ej)();return e?.hasRenameCommits?(0,r.jsx)(tg.s,{children:(0,r.jsxs)("div",{className:"d-flex flex-items-baseline",children:[(0,r.jsx)(tg.s.Heading,{as:"h3",title:`Renamed from ${e?.oldName}`,"data-testid":"commit-note-title"}),(0,r.jsx)(ei.N,{to:e?.historyUrl,children:"(Browse History)"})]})}):null}function tj(){let e=(0,tp.ej)();return e?.hasRenameCommits?null:(0,r.jsx)(tg.s,{clipTimeline:"bottom",children:(0,r.jsx)(tg.s.Heading,{as:"h3",title:"End of commit history for this file","data-testid":"commit-note-title"})})}function tC(){let e=tm(),t=(0,tp.xs)();return!e.currentBlobPath||e.currentBlobPath&&e.pagination.hasNextPage?null:(0,r.jsxs)(r.Fragment,{children:[t&&(0,r.jsx)(tg.s,{leadingVisual:(0,r.jsx)(th.A,{size:"small"})}),!t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tb,{}),(0,r.jsx)(tj,{})]})]})}try{ty.displayName||(ty.displayName="RenamedToHistory")}catch{}try{tb.displayName||(tb.displayName="RenamedFromHistory")}catch{}try{tj.displayName||(tj.displayName="EndOfFileHistory")}catch{}try{tC.displayName||(tC.displayName="EndOfFile")}catch{}function tv({commitGroups:e,deferredDataUrl:t,softNavToCommit:n}){let i=tm(),a=(0,l.t)(),s=(0,G.wu)(t);return(0,r.jsxs)("div",{className:"mb-3","data-hpc":!0,children:[(0,r.jsx)(eW.A,{as:"h2",className:"sr-only",children:"Commit History"}),(0,r.jsx)(tf.f,{leadingContent:(0,r.jsx)(ty,{}),commitGroups:e,trailingContent:(0,r.jsx)(tC,{}),repository:a,deferredCommitData:s,shouldClipTimeline:function(){let e=tx(),t=tm();return!e&&!t.pagination.hasPreviousPage}(),currentBlobPath:i.currentBlobPath,softNavToCommit:n})]})}try{tv.displayName||(tv.displayName="CommitList")}catch{}var tN=n(25370),tw=n(72731),tk=n(82056),tS=n(53904),tL=n(84929),tD=n(96912),tI=n(5225);async function tE(e){let t=await (0,ew.lS)(e);return t.ok?await t.json():void 0}let tA=new Map,tT=(0,tI.A)(tE,{cache:tA});function tR(e,t){let n=new URL(x.fV.origin+x.fV.pathname+x.fV.search,x.fV.origin),i=n.searchParams;for(let e of t)i.has(e)&&i.delete(e);for(let[t,n]of Object.entries(e))i.set(t,n.toString());return n.pathname+n.search}var t_=n(6907);let tF=(0,d.lazy)(()=>Promise.resolve().then(n.bind(n,50162)).then(e=>({default:e.DatePicker}))),tO=()=>(0,r.jsx)(k.A,{icon:N.CalendarIcon,className:"fgColor-muted",sx:{my:"2px"}});function tM({repo:e,refInfo:t,path:n,author:i,contributorsUrl:a,since:s,until:o,sx:c}){let u=t.name;u===t.currentOid&&(u=(0,W.F)(t.currentOid));let m=(0,tw.Z)(),f=function(e){let t=(0,l.t)(),[n,i]=(0,d.useState)({users:[],error:!1,loading:!0});return(0,d.useEffect)(()=>{let t=!1;return(async()=>{i({users:[],error:!1,loading:!0});let n=await tT(e);if(t)return;let a=[],r=!1;try{n?a=n.authors:r=!0}catch{r=!0}i({users:a,error:r,loading:!1})})(),function(){t=!0}},[t,"",e,"all"]),n}(a),h=d.useMemo(()=>{let e=(0,tL.H)(s??""),t=(0,tL.H)(o??"");return(0,tD.f)(e)&&(0,tD.f)(t)?{from:e,to:t}:null},[s,o]),g=n?.split("/");return(0,r.jsxs)(L.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:2,...c},children:[n&&(0,r.jsx)("div",{className:"d-flex flex-items-center",children:(0,r.jsxs)("div",{className:"d-flex flex-items-baseline flex-column flex-sm-row",children:[(0,r.jsx)(eW.A,{as:"h2",className:"sr-only",children:"Breadcrumbs"}),(0,r.jsx)("span",{className:"fgColor-default no-wrap",children:"History for"}),(0,r.jsxs)(tS.A,{className:"ml-1",children:[(0,r.jsx)(tS.A.Item,{href:(0,p.GpY)({owner:e.ownerLogin,repo:e.name}),children:e.name}),g.map((n,i,a)=>{let l=(0,p.GpY)({owner:e.ownerLogin,repo:e.name,ref:t.name,path:a.slice(0,i+1).join("/")}),s=i===a.length-1;return(0,r.jsx)(tS.A.Item,{sx:{whiteSpace:"normal",...s?{fontWeight:"bold"}:{}},href:l,selected:s,children:n},l)})]}),(0,r.jsxs)("div",{className:"no-wrap",children:[(0,r.jsx)("span",{className:"mr-2 ml-0 ml-sm-2 fgColor-default",children:"on"}),(0,r.jsx)(J.A,{href:(0,p.IO9)({repo:e,commitish:t.name,action:"tree"}),children:u})]})]})}),!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eW.A,{as:"h2",className:"sr-only",children:"Branch selector"}),(0,r.jsx)(tN.PI,{cacheKey:t.listCacheKey,canCreate:!1,hotKey:"w",currentCommitish:t.name,getHref:t=>(0,p.GpY)({owner:e.ownerLogin,repo:e.name,ref:t}),selectedRefType:t.refType,defaultBranch:e.defaultBranch,owner:e.ownerLogin,repo:e.name,idEnding:"commits"})]}),(0,r.jsxs)("div",{className:"d-flex flex-column flex-sm-row gap-2",children:[(0,r.jsx)(eW.A,{as:"h2",className:"sr-only",children:"User selector"}),(0,r.jsx)(tk.T,{defaultText:"All users",width:"medium",usersState:f,showTypedInUser:!0,currentUser:i??void 0,onOpenChange:e=>e,onSelect:e=>{e.login!==i?.login&&m(tR({author:e.login},["author","before","after"]))},renderCustomFooter:()=>(0,r.jsx)(er.l.LinkItem,{href:tR({},["author"]),"aria-checked":null===i,children:"View commits for all users"})}),(0,r.jsxs)(d.Suspense,{fallback:(0,r.jsx)(P.Q,{leadingVisual:tO,trailingVisual:N.TriangleDownIcon,children:"All time"}),children:[(0,r.jsx)(eW.A,{as:"h2",className:"sr-only",children:"Datepicker"}),(0,r.jsx)(tF,{variant:"range",value:h,maxDate:new Date,showTodayButton:!0,showClearButton:!0,compressedHeader:!0,onChange:e=>{if(!e){m(tR({},["since","until"]));return}let t=function(e){if(e)return{startDate:(0,t_.x)(e.from,{representation:"date"}),endDate:(0,t_.x)(e.to,{representation:"date"})}}(e);if(!t)return;let{startDate:n,endDate:i}=t;m(tR({since:n,until:i},["before","after"]))},placeholder:"All time",anchor:({children:e,...t})=>(0,r.jsx)(P.Q,{...t,"data-testid":"date-picker-commits",leadingVisual:tO,trailingVisual:N.TriangleDownIcon,children:e})})]})]})]})}try{tF.displayName||(tF.displayName="DatePicker")}catch{}try{tO.displayName||(tO.displayName="StyledCalendarIcon")}catch{}try{tM.displayName||(tM.displayName="ListHeader")}catch{}var tB=n(91321);function tU({paginationInfo:e}){let t=e.hasPreviousPage,n=e.hasNextPage,i=e=>e?{"aria-disabled":!0,sx:{backgroundColor:"transparent",border:"none",cursor:"default",color:"primer.fg.disabled",fontWeight:"normal"},onClick:e=>e.preventDefault()}:{};return t||n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eW.A,{as:"h2",className:"sr-only",children:"Pagination"}),(0,r.jsx)("div",{className:"d-flex flex-justify-center mt-2",children:(0,r.jsxs)(tB.A,{children:[(0,r.jsx)(P.Q,{as:ei.N,to:t$(e,!1),className:"fgColor-accent text-normal",...i(!t),tabIndex:0,variant:"invisible","data-testid":"pagination-prev-button",leadingVisual:t?()=>(0,r.jsx)(k.A,{icon:N.ChevronLeftIcon,className:"fgColor-accent"}):null,children:"Previous"}),(0,r.jsx)(P.Q,{as:ei.N,to:t$(e,!0),className:"fgColor-accent text-normal",...i(!n),tabIndex:0,variant:"invisible","data-testid":"pagination-next-button",trailingVisual:n?()=>(0,r.jsx)(k.A,{icon:N.ChevronRightIcon,className:"fgColor-accent"}):null,children:"Next"})]})})]}):null}function t$(e,t){return tR(t?{after:e.endCursor}:{before:e.startCursor},[t?"before":"after"])}try{tU.displayName||(tU.displayName="Pagination")}catch{}var tP=n(31655);function tH({children:e,title:t}){return(0,r.jsxs)(tP.M,{rowGap:"none",children:[(0,r.jsx)(tP.M.Header,{divider:"line",sx:{mb:3},children:(0,r.jsx)("div",{className:"d-flex flex-items-center flex-justify-between",children:(0,r.jsx)(eW.A,{as:"h1",className:"f2 text-normal pb-2",id:"commits-pagehead",children:t})})}),(0,r.jsx)(tP.M.Content,{as:"div",children:(0,r.jsx)("div",{children:e})})]})}try{tH.displayName||(tH.displayName="Layout")}catch{}var tK=n(95777);function tV(){let e=(0,l.t)(),t=(0,z.D)(),n=(0,o.B)(),i=n.filters,a=n.commitGroups,s=n.metadata.softNavToCommit,c=`There isn't any commit history to show here${null!==i.since||null!==i.until?" for the selected date range":""}`;return(0,d.useEffect)(()=>{if(!x.fV.hash&&window.scrollY>0){let e=document.querySelector("#commits-pagehead");e?.scrollIntoView()}},[n.filters.pagination,n.filters.since,n.filters.until]),(0,r.jsx)(tu,{filters:n.filters,children:(0,r.jsxs)(tH,{title:"Commits",children:[(0,r.jsx)(tM,{repo:e,contributorsUrl:n.metadata.deferredContributorUrl,since:i.since,until:i.until,author:i.author,refInfo:n.refInfo,path:i.currentBlobPath,sx:{mb:3}}),0===a.length&&(0,r.jsx)(tK.M,{timeoutMessage:n.timedOutMessage,unavailableMessage:c}),a.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tv,{commitGroups:a,deferredDataUrl:n.metadata.deferredDataUrl,softNavToCommit:s}),(0,r.jsx)(tU,{paginationInfo:i.pagination})]}),n.metadata.showProfileHelp&&(0,r.jsx)(td,{url:`${t.helpUrl}/articles/troubleshooting-commits-on-your-timeline`})]})})}try{tV.displayName||(tV.displayName="Commits")}catch{}(0,a.o)("commits",()=>({App:c,routes:[(0,i.a)({path:"/:owner/:repo/commits",Component:tV}),(0,i.a)({path:"/:owner/:repo/commits/:ref",Component:tV}),(0,i.a)({path:"/:owner/:repo/commits/:ref/:path/*",Component:tV}),(0,i.a)({path:"/:owner/:repo/commit/:oid",Component:to}),(0,i.a)({path:"/:owner/:repo/commit/:oid/:path/*",Component:to}),(0,i.a)({path:"/_view_fragments/Voltron::CommitFragmentsController/show/:owner/:repo/:name/repo_layout",Component:to})]}))},52873:(e,t,n)=>{n.d(t,{X:()=>d});var i=n(48799),a=n(93743),r=n(20120),l=n(80171),s=n(53526),o=n(96540);function d(){let e=(0,i.t)(),t=(0,s.S)(),n=(0,r.B)(),{commit:d}=n,c=`/${(0,a.QU3)(e.ownerLogin)}/${(0,a.QU3)(e.name)}/commit_comment`,u=`${c}/create`,m=(0,o.useCallback)(async(e,t,n)=>{let i=new FormData;i.append("commit_id",d.oid),i.append("comment[body]",e),t&&n&&(i.append("path",t),i.append("position",n.toString()));let a=await (0,l.DI)(u,{method:"POST",body:i});return a.ok?{error:null,comment:(await a.json()).comment}:{error:Error("Failed to add comment"),comment:null}},[d.oid,u]),f=(0,o.useCallback)(async(e,t)=>{let n=new FormData;n.append("_method","put"),n.append("commit_comment[id]",t.id.toString()),n.append("commit_comment[body]",e),n.append("commit_comment[bodyVersion]",t.bodyVersion);let i=await (0,l.DI)(c,{method:"POST",body:n});if(!i.ok)return{error:Error("Failed to edit comment"),updatedFields:null};{let e=await i.json();return{error:null,updatedFields:{body:e.source,bodyVersion:e.bodyVersion,htmlBody:e.body}}}},[c]),h=(0,o.useCallback)(async e=>{if(!await t({content:"Are you sure you want to delete this comment?",title:"Delete comment",confirmButtonContent:"Delete",confirmButtonType:"danger"}))return"canceled";let n=new FormData;return(n.append("_method","delete"),n.append("commit_comment[id]",e),(await (0,l.DI)(c,{method:"POST",body:n})).ok)?"success":"error"},[c,t]),p=(0,o.useCallback)(async(e,t)=>{let n=new FormData;return(n.append("_method","put"),n.append("classifier",t),(await (0,l.DI)(`${c}/${e}/minimize`,{method:"POST",body:n,headers:{Accept:"application/json"}})).ok)?"success":"error"},[c]),g=(0,o.useCallback)(async e=>{let t=new FormData;return(t.append("_method","put"),(await (0,l.DI)(`${c}/${e}/unminimize`,{method:"POST",body:t,headers:{Accept:"application/json"}})).ok)?"success":"error"},[c]);return(0,o.useMemo)(()=>({addComment:m,commentBoxConfig:{pasteUrlsAsPlainText:n.pasteUrlLinkAsPlainText,useMonospaceFont:n.useMonospaceFont},editComment:f,deleteComment:h,hideComment:p,unhideComment:g}),[m,n.pasteUrlLinkAsPlainText,n.useMonospaceFont,h,f,p,g])}},66863:(e,t,n)=>{n.d(t,{D:()=>a});var i=n(27010);function a(){return(0,i.X)()}},71437:(e,t,n)=>{n.d(t,{I:()=>c,p:()=>m});var i=n(93743),a=n(93843),r=n(89539),l=n(80171),s=n(96540),o=n(76451),d=n(53094);function c({repo:e,commit:t,viewerCanReply:n,getInlineCommentInfoByPathAndPosition:r}){let{addComments:d}=(0,o.B)(),{diff_inline_comments:c}=(0,a.h)();return(0,s.useCallback)((a,s)=>new Promise(async(o,m)=>{let[f,h]=a.split("::");if(!f||!h){m(Error("Invalid threadId"));return}if(c&&!s){let i=r(f,Number(h));o(i?u(i,t,e,n,a):void 0);return}let p=await (0,l.lS)(`${(0,i.MLt)({owner:e.ownerLogin,repo:e.name,commitOid:t.oid,path:f,position:h})}${s?"&isRefetch=true":""}`);if(p.ok){let i=await p.json();d(i.comments,f,h),o(i.comments?u(i.comments,t,e,n,a):void 0)}else m(Error("Failed to fetch thread"))}),[d,t,c,r,e,n])}function u(e,t,n,i,a){return{commentsData:{comments:e.map(e=>m(e,t,n))},id:a,viewerCanReply:i}}function m(e,t,n){return{publishedAt:void 0,state:"",viewerRelationship:"",id:e.relayId,databaseId:e.id,body:e.body,bodyHTML:e.htmlBody,createdAt:e.createdAt,url:`${r.cg?.location.origin}${(0,i.$Qz)({owner:n.ownerLogin,repo:n.name,commitish:t.oid})}#${e.urlFragment}`,currentDiffResourcePath:`#${e.urlFragment}`,authorAssociation:e.authorAssociation?.toUpperCase(),author:{id:e.author.id,login:e.author.login,avatarUrl:e.author.avatarUrl,url:""},isHidden:e.isHidden,lastUserContentEdit:e.lastUserContentEdit,minimizedReason:e.minimizedReason,subjectType:"commit",viewerCanMinimize:e.viewerCanMinimize,viewerCanSeeMinimizeButton:e.viewerCanMinimize,viewerCanSeeUnminimizeButton:e.viewerCanMinimize,viewerCanDelete:e.viewerCanDelete,viewerCanUpdate:e.viewerCanUpdate,viewerCanReport:e.viewerCanReport,viewerCanReportToMaintainer:e.viewerCanReportToMaintainer,viewerCanBlockFromOrg:e.viewerCanBlockFromOrg,viewerCanUnblockFromOrg:e.viewerCanUnblockFromOrg,viewerDidAuthor:e.viewerDidAuthor,reference:{number:void 0,text:(0,d.F)(t.oid),author:{login:t.authors.length>0?t.authors[0]?.login??"":""}},repository:{id:n.id.toString(),isPrivate:n.private,name:n.name,owner:{id:n.ownerLogin,login:n.ownerLogin,url:""}}}}},92384:(e,t,n)=>{n.d(t,{I:()=>o,d_:()=>d,wu:()=>s});var i=n(72661),a=n(80171),r=n(96540),l=n(2662);function s(e,t){let[n,s]=(0,r.useState)(l.UI);return(0,r.useEffect)(()=>{if(!e)return;let t=!1;return(async()=>{s(l.UI);let n=await (0,a.Sr)((0,i.RD)(e));if(!t)try{if(n.ok){let e=await n.json();e.loading=!1,e&&((0,i.Av)(e),s(e))}else s(l.Xx)}catch{s(l.Xx)}})(),function(){t=!0}},[e,t]),n}function o(e){let[t,n]=(0,r.useState)(void 0);return(0,r.useEffect)(()=>{e&&(async()=>{let t=await (0,a.Sr)((0,i.RD)(e));try{if(t.ok){let e=await t.json();e&&((0,i.Av)(e),n(e.data))}}catch{}})()},[e]),t}function d(e,t,n,i){let[s,o]=(0,r.useState)(l.UI),d=(0,r.useRef)([...Array(n)]),c=(0,r.useRef)(t);return(0,r.useEffect)(()=>{if(!e)return;let n=!1;async function i(t){let r=await (0,a.Sr)(`${e}?start_entry=${t}`);if(!n)try{if(r.ok){let e=await r.json();if(e){let t=0;for(let n=c.current;n<e.nextIndex;n++)d.current[n]=e.deferredCommits[t],t++;e.deferredCommits=d.current,e.loadMore&&c.current!==e.nextIndex?(c.current=e.nextIndex,e.error=!1,o(e),setTimeout(()=>i(e.nextIndex),0)):(c.current===e.nextIndex?e.error=!0:e.error=!1,o(e))}}else o(e=>({...e,loading:!1,error:!0,extraDiffEntries:d.current}))}catch{o(e=>({...e,loading:!1,deferredCommits:d.current}))}}return i(t),function(){n=!0}},[e,i,t]),(0,r.useEffect)(()=>{d.current=[],c.current=t},[e,i,t]),s}},53094:(e,t,n)=>{n.d(t,{F:()=>i});function i(e){return e.slice(0,7)}},52438:(e,t,n)=>{n.d(t,{N:()=>i});function i(e,t){return"d28fac7f18aeacb00d8ad3460a0a5a901617c2d4"===e&&0xf122a7===t}},27234:(e,t,n)=>{n.d(t,{$S:()=>a.$,Su:()=>r.S,uo:()=>et.u,dE:()=>$,c7:()=>B,H1:()=>T.H,UA:()=>P.U,yF:()=>Y,cT:()=>Z,i4:()=>ee.i,nN:()=>et.n,L4:()=>q.L});var i=n(93900),a=n(7046),r=n(73248),l=n(74848),s=n(25013),o=n(85349),d=n(75177),c=n(30595),u=n(16255),m=n(96540),f=n(435),h=n(38621),p=n(87330),g=n(10452),x=n(52464);function y({markerId:e,markers:t}){let n=t.findIndex(t=>t.id===e);return(0,l.jsxs)(x.A,{sx:{color:"fg.muted"},children:[(0,l.jsx)(x.A,{sx:{fontWeight:500,color:"fg.default"},children:n+1})," of"," ",(0,l.jsx)(x.A,{sx:{fontWeight:500,color:"fg.default"},children:t.length})]})}function b({markerId:e,markerNavigationImplementation:t,onNavigate:n}){let{incrementActiveMarker:i,decrementActiveMarker:a,filteredMarkers:r}=t;return r.find(t=>t.id===e)&&r.length>1?(0,l.jsxs)(d.A,{sx:{pr:1,display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,l.jsx)(p.K,{unsafeDisableTooltip:!0,"aria-label":"Load previous marker",icon:h.ChevronLeftIcon,variant:"invisible",onClick:()=>{a(e),n()}}),(0,l.jsx)(p.K,{unsafeDisableTooltip:!0,"aria-label":"Load next marker",icon:h.ChevronRightIcon,variant:"invisible",onClick:()=>{i(e),n()}}),(0,l.jsx)(d.A,{sx:{ml:1},children:(0,l.jsx)(y,{markerId:e,markers:r})})]}):null}try{y.displayName||(y.displayName="MarkerPosition")}catch{}try{b.displayName||(b.displayName="GlobalMarkerNavigation")}catch{}function j({annotation:e,markerNavigationImplementation:t,onClose:n}){return(0,l.jsxs)(d.A,{sx:{width:"clamp(240px, 100vw, 540px)"},children:[(0,l.jsx)(d.A,{sx:{borderBottom:"1px solid",borderBottomColor:"border.default",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",p:1,background:"canvas.default"},children:(0,l.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center"},children:[(0,l.jsx)(b,{markerId:e.id,markerNavigationImplementation:t,onNavigate:n}),(0,l.jsx)(d.A,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center",justifyContent:"right",flexGrow:1},children:(0,l.jsx)(p.K,{unsafeDisableTooltip:!0,"aria-label":"Close annotation",icon:h.XIcon,variant:"invisible",onClick:n})})]})}),(0,l.jsx)(g.Y,{annotation:e})]})}try{j.displayName||(j.displayName="AnnotationDialog")}catch{}var C=n(65876),v=n(45079),N=n(89323),w=n(8338),k=n(30729),S=n(70819);function L({anchorRef:e,annotations:t,handleOpenChange:n,threads:i,onShowAnnotation:a,onShowCommentThread:r,ghostUser:s=C.t.ghostUser}){function o(e){return{display:"-webkit-box",overflow:"hidden","-webkit-box-orient":"vertical","-webkit-line-clamp":e.toString(),maxWidth:"unset"}}return(0,l.jsx)(N.W,{anchorRef:e,open:!0,onOpenChange:n,children:(0,l.jsx)(N.W.Overlay,{width:"small",children:(0,l.jsx)("div",{children:(0,l.jsxs)(w.l,{children:[t.map(e=>(0,l.jsxs)(w.l.Item,{onSelect:()=>a(e.id),children:[(0,l.jsx)(w.l.LeadingVisual,{sx:{mr:2},children:(0,l.jsx)(S.Xh,{annotationLevel:e.annotationLevel},e.id)}),(0,l.jsxs)(d.A,{sx:{...o(2)},children:[e.checkSuiteName," /"," ",(0,l.jsx)(x.A,{sx:{fontWeight:400,color:"fg.muted"},children:e.checkRun.name})]}),(0,l.jsx)(w.l.Description,{variant:"block",children:(0,l.jsx)(d.A,{sx:{...o(1)},children:e.title})}),(0,l.jsx)(w.l.TrailingVisual,{children:(0,l.jsx)(k.A,{icon:h.ArrowRightIcon})})]},e.id)),i.map(e=>(0,l.jsxs)(w.l.Item,{onSelect:()=>r(e.id),children:[(0,l.jsx)(w.l.LeadingVisual,{sx:{mr:2},children:(0,l.jsx)(v.r,{alt:e.author.login,size:20,src:e.author.avatarUrl??s.avatarUrl})}),"Thread by ",e.author.login,(0,l.jsxs)(w.l.Description,{variant:"block",children:[e.commentCount," comment",e.commentCount>1?"s":""]}),(0,l.jsx)(w.l.TrailingVisual,{children:(0,l.jsx)(k.A,{icon:h.ArrowRightIcon})})]},e.id))]})})})})}try{L.displayName||(L.displayName="MarkersListActionMenu")}catch{}var D=n(67819),I=n(36619),E=n(47139),A=n(14616),T=n(41095);function R({children:e}){return(0,l.jsx)(x.A,{sx:{fontWeight:500,color:"fg.default"},children:e})}function _({thread:e}){return void 0!==e&&e?.diffSide&&e.line?e.startLine&&e.startDiffSide?O({thread:e}):F({thread:e}):null}function F({thread:e}){let t="LEFT"===e.startDiffSide?"L":"R";return(0,l.jsxs)(x.A,{sx:{color:"fg.muted",pl:2},children:["Comment on lines"," ",(0,l.jsxs)(R,{children:[t,e.line]})]})}function O({thread:e}){let t="LEFT"===e.startDiffSide?"L":"R",n="LEFT"===e.diffSide?"L":"R";return(0,l.jsxs)(x.A,{sx:{color:"fg.muted",pl:2},children:["Comment on lines"," ",(0,l.jsxs)(R,{children:[t,e.startLine]})," ","to"," ",(0,l.jsxs)(R,{children:[n,e.line]})]})}function M({commentingImplementation:e,filePath:t,onClose:n,onRefreshThread:i,thread:a,threads:r,threadsConnectionId:s,markerNavigationImplementation:o,ghostUser:u,...f}){let{sendAnalyticsEvent:g}=(0,I.s)(),{resolveThread:x,unresolveThread:y,resolvingEnabled:j}=e,C=r.find(e=>e.id===a.id),v=a.commentsData.comments.length>0,N=!!a.isResolved,{addToast:w}=(0,D.Y6)(),k=C?.commentsConnectionId;return v?(0,l.jsxs)(d.A,{sx:{width:"clamp(240px, 100vw, 540px)"},children:[(0,l.jsx)(d.A,{sx:{borderBottom:"1px solid",borderBottomColor:"border.default",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",p:1,background:"canvas.default"},children:(0,l.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center"},children:[(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b,{markerId:a.id,markerNavigationImplementation:o,onNavigate:n}),(0,l.jsx)(_,{thread:C})]}),(0,l.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center",justifyContent:"right",flexGrow:1},children:[N&&(0,l.jsx)(E.A,{variant:"done",size:"large",children:"Resolved"}),j&&(0,l.jsx)(A.m,{text:N?"Unresolve conversation":"Resolve conversation",type:"label",direction:"w",id:"resolve-conversation",children:(0,l.jsx)(p.K,{"aria-labelledby":"resolve-conversation",unsafeDisableTooltip:!0,icon:N?h.CheckCircleFillIcon:h.CheckCircleIcon,sx:{color:N?"var(--fgColor-done, var(--color-done-fg)) !important":void 0},variant:"invisible",onClick:N?()=>{y({thread:a,onCompleted:()=>i(a.id),onError:()=>{w({type:"error",message:"Failed to unresolve thread"})}}),g("comments.unresolve_thread","RESOLVE_CONVERSATION_BUTTON")}:()=>{x({thread:a,onCompleted:()=>i(a.id),onError:()=>{w({type:"error",message:"Failed to resolve thread"})}}),g("comments.resolve_thread","RESOLVE_CONVERSATION_BUTTON")}})}),(0,l.jsx)(p.K,{unsafeDisableTooltip:!0,"aria-label":"Close thread",icon:h.XIcon,variant:"invisible",onClick:n})]})]})}),(0,l.jsx)(m.Suspense,{fallback:(0,l.jsxs)(d.A,{sx:{height:"90px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",color:"fg.muted",fontSize:0},children:[(0,l.jsx)(c.A,{}),(0,l.jsx)("p",{children:"Loading comments"})]}),children:(0,l.jsx)(T.H,{commentingImplementation:e,commentsConnectionId:k,filePath:t,onRefreshThread:i,thread:a,threadsConnectionId:s,...f,ghostUser:u})})]}):null}try{R.displayName||(R.displayName="Emphasis")}catch{}try{_.displayName||(_.displayName="ThreadBanner")}catch{}try{F.displayName||(F.displayName="SingleLineThreadBanner")}catch{}try{O.displayName||(O.displayName="MultineLineThreadBanner")}catch{}try{M.displayName||(M.displayName="ReviewThreadDialog")}catch{}function B(e){return(0,l.jsx)(f.j,{children:(0,l.jsx)(U,{...e})})}function U({annotations:e,commentingImplementation:t,conversationAnchorRef:n,conversationListAnchorRef:i,conversationListThreads:a,isMarkerListOpen:r,fileAnchor:u,filePath:h,onAnnotationSelected:p,onCloseConversationDialog:g,onCloseConversationList:x,onThreadSelected:y,returnFocusRef:b,selectedAnnotationId:C,selectedThreadId:v,threadsConnectionId:N,markerNavigationImplementation:w,suggestedChangesConfig:k,ghostUser:S,...D}){let{isDialogOpen:I}=(0,f.W)(),[E,A]=(0,m.useState)(),{fetchThread:T}=t,R=(0,m.useCallback)(()=>!I&&g(),[I,g]),_=async e=>{A(void 0);let t=a.find(t=>t.id===e)?.isOutdated;A(await T(e,t))},F=(0,m.useMemo)(()=>{if(u&&E&&E.subject?.startDiffSide&&E.subject?.endDiffSide&&E.subject?.startLine&&E.subject?.endLine&&k?.configureSuggestedChangesFromLineRange){let e=E.subject?.startLine??E?.subject?.endLine,t=E.subject?.startDiffSide??E?.subject?.endDiffSide,n={diffAnchor:u,endLineNumber:E?.subject?.endLine,endOrientation:E.subject?.endDiffSide==="LEFT"?"left":"right",startLineNumber:e,firstSelectedLineNumber:e,firstSelectedOrientation:"LEFT"===t?"left":"right",startOrientation:"LEFT"===t?"left":"right"};return k?.configureSuggestedChangesFromLineRange(n)}},[u,E,k]);(0,m.useEffect)(()=>{!v&&E?A(void 0):v&&v!==E?.id&&_(v)},[T,v]);let O=v||C,B=C?e.find(e=>e.id===C):void 0;return(0,l.jsx)(l.Fragment,{children:O?(0,l.jsx)(o.T,{align:"end",anchorRef:n,focusZoneSettings:{disabled:!0},open:!0,focusTrapSettings:{disabled:!0},renderAnchor:null,overlayProps:{anchorSide:"outside-right","aria-label":`${v?"Pull Request Review Thread":"Pull Request Check Annotation"}`,id:"conversation-dialog",returnFocusRef:b,role:"dialog",sx:{width:"clamp(240px, 100vw, 540px)",borderRadius:2},onClickOutside:s.l,onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()},portalContainerName:w.overlayPortalContainerName},onClose:R,children:E?(0,l.jsx)(M,{commentingImplementation:t,filePath:h,thread:E,threads:a,threadsConnectionId:N,onClose:R,onThreadSelected:y,onRefreshThread:_,markerNavigationImplementation:w,suggestedChangesConfig:F,ghostUser:S,...D}):B?(0,l.jsx)(j,{annotation:B,markerNavigationImplementation:w,onClose:R}):(0,l.jsxs)(d.A,{sx:{height:"90px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",color:"fg.muted",fontSize:0},children:[(0,l.jsx)(c.A,{}),(0,l.jsx)("p",{children:"Loading comments"})]})}):r&&(0,l.jsx)(L,{anchorRef:i,annotations:e,handleOpenChange:x,threads:a,onShowCommentThread:y,onShowAnnotation:p,ghostUser:S})})}function $({id:e}){let t=(0,m.useRef)(null);return(0,m.useEffect)(()=>{t.current&&(0,u.c)(t.current,e)},[e]),(0,l.jsx)("span",{id:e,ref:t,style:{position:"absolute",top:0,right:0,zIndex:10}})}try{B.displayName||(B.displayName="Markers")}catch{}try{U.displayName||(U.displayName="MarkersInternal")}catch{}try{$.displayName||($.displayName="MarkerPortalRoot")}catch{}var P=n(86752),H=n(85797),K=n(81681),V=n(46711),z=n(77175),G=n(89539),W=n(72878),q=n(45116),Q=n(98505);function Y({isAnchorable:e=!1,index:t=0,isLastChild:n,isOutdated:i,isThreadResolved:a,anchorPrefix:o="r",comment:c,commentingImplementation:u,filePath:f,hideActions:h,enterDialogMode:p=s.l,onRefreshThread:g,onQuoteReply:x=s.l,subjectId:y,subject:b,threadCommentCount:j,threadId:v,threadsConnectionId:N,suggestedChangesConfig:w,applySuggestedChangesValidationData:k,viewerData:S,ghostUser:L=C.t.ghostUser}){let{addToast:I}=(0,D.Y6)(),[E,A]=(0,m.useState)(!1),[T,R]=(0,m.useState)(c.isHidden),[_,F]=(0,m.useState)(c.body),[O,M]=(0,m.useState)(!1),[B,U]=(0,m.useState)(),{persistCommentToStorage:$,removePersistedCommentFromStorage:P}=(0,q.L)({subjectId:y,filePath:f,fileLevelComment:"FILE"===c.subjectType,threadId:c.id,handlePersistedCommentExists:({text:e})=>{e&&F(e)}}),{deleteComment:Y,hideComment:X,unhideComment:J}=u,Z=(0,m.useRef)(null),ee=(0,m.useRef)(null),et=()=>{Z.current?.focus()};(0,m.useEffect)(()=>{if(E){let e=window.setTimeout(et);return()=>{window.clearTimeout(e)}}},[E]);let en=s.l,ei=c.currentDiffResourcePath?.split("#r").pop(),ea=ei?`${o}${ei}`:void 0,er=ea&&G.fV?new URL(`${G.fV.pathname}#${ea}`,G.fV.origin).toString():void 0,el=(0,m.useRef)(null);(0,m.useEffect)(()=>{e&&ei&&ea&&window.location.hash.split("#").pop()===ea&&((0,W.p)(ei,o),p?.(!1),el.current?.focus())},[o,ea,ei,p,e]);let es={outline:"2px solid",outlineColor:"accent.fg",outlineOffset:"-2px",boxShadow:"none"},eo=t>0,ed=t>1,ec=u.suggestedChangesEnabled,eu=E?"editing":T?"hidden":"visible",em={headingProps:{as:"h3"},avatarUrl:c.author?.avatarUrl??L.avatarUrl,comment:{...c,url:er??"",referenceText:c.reference.text??`#${c.reference.number}`},commentRef:el,deleteComment:()=>{Y({commentId:c.id,onCompleted:()=>{g?.(v)},onError:()=>{M(!1),I({type:"error",message:"Failed to delete comment"})},threadCommentCount:j,threadId:v,threadsConnectionId:N,filePath:f})},editComment:()=>{A(!0)},editHistoryComponent:void 0,hideComment:e=>{X({commentId:c.id,reason:e,onCompleted:()=>{g?.(v)},onError:()=>{M(!1),I({type:"error",message:"Failed to hide comment"})}})},onMinimize:R,isMinimized:T,commentAuthorLogin:c.author?.login??L.login,navigate:s.l,commentSubjectAuthorLogin:c.reference?.author?.login??"",commentSubjectType:u.commentSubjectType,onReplySelect:x,unhideComment:()=>{J({commentId:c.id,onCompleted:()=>{g?.(v)},onError:()=>{M(!1),I({type:"error",message:"Failed to unhide comment"})}})},hideActions:h,isReply:eo,forceInlineAvatar:!0,containerStyle:{}};return(0,l.jsxs)(d.A,{ref:el,id:e?ea:void 0,tabIndex:-1,sx:{"&:not(:first-child)":{backgroundColor:"canvas.inset"},"&:first-child + div":{borderTop:"1px solid",borderColor:"border.muted"},":target":es,":focus":es,pb:eo?0:2},children:[ed&&(0,l.jsx)(d.A,{sx:{display:"flex",pl:eo?1:0},children:(0,l.jsx)(d.A,{sx:{ml:4,height:8,borderLeft:"1px solid",borderColor:"border.default"}})}),(0,l.jsx)(d.A,{sx:{px:3,pt:ed?0:2,pb:0},children:(0,l.jsx)(K.v,{...em,actions:h?void 0:(0,l.jsx)(V.p,{...em})})}),(0,l.jsxs)(d.A,{sx:{display:"flex",pl:eo?1:0},children:[eo&&(0,l.jsx)(d.A,{sx:{ml:4,mr:1,pl:3,borderLeft:"1px solid",borderColor:"border.default",...n&&{borderImage:"linear-gradient(to bottom, var(--borderColor-default, var(--color-border-default)), rgba(0, 0, 0, 0)) 1 100%"}}}),"editing"===eu&&(0,l.jsx)(d.A,{sx:{pr:2,pl:eo?0:2,pb:2,pt:1,flexGrow:1},children:(0,l.jsxs)(r.S,{ref:Z,label:"Update comment",value:_,onChange:e=>{$({text:e}),F(e),U(void 0)},onPrimaryAction:en,userSettings:u.commentBoxConfig,suggestedChangesConfig:w,markdownErrorMessage:B,children:[(0,l.jsx)(H.x,{variant:"default",onClick:()=>{A(!1),P(),F(c.body)},children:"Cancel"}),(0,l.jsx)(H.x,{disabled:O||!_.length,variant:"primary",onClick:en,children:"Update"})]})}),"visible"===eu&&(0,l.jsx)(d.A,{sx:eo?{pb:2,pr:2,overflowX:"auto",width:"100%"}:{px:3,pb:2,width:"100%"},children:c.bodyHTML&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(z.oG,{ref:ee,className:"markdown-body","comment-testid":`Comment body html for comment ${c.id}`,html:c.bodyHTML,sx:{mt:1,fontSize:1}}),ec&&k&&(0,l.jsx)(Q.v,{comment:c,commentBodyRef:ee,commentingImplementation:u,filePath:f,isOutdated:i,isThreadResolved:a,threadId:v,suggestedChangesConfig:w,applySuggestedChangesValidationData:k,subject:b,viewerData:S})]})})]})]})}try{Y.displayName||(Y.displayName="ReviewThreadCommentWithoutReactions")}catch{}var X=n(84217);function J({addCommentDialogTitle:e,isLeftSide:t,filePath:n,lineNumber:a,onAddComment:r,onClose:s,viewerData:o,threadsConnectionId:c,...u}){return(0,l.jsxs)(d.A,{sx:{px:2,pb:2,pt:1},children:[(0,l.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,l.jsxs)(X.A,{as:"h4",sx:{fontSize:1,ml:2,py:2},children:[(0,l.jsx)(v.r,{alt:o.login,size:24,src:o.avatarUrl||"",sx:{mr:2}}),(0,l.jsx)("span",{children:e??"Add a comment"})]}),s&&(0,l.jsx)(p.K,{unsafeDisableTooltip:!0,variant:"invisible",icon:h.XIcon,onClick:s,"aria-label":"Cancel"})]}),(0,l.jsx)(i.U,{focusOnMount:!0,condensed:!1,fileLevelComment:!1,filePath:n,lineNumber:a,onAddComment:({commentText:e,onCompleted:t,onError:i,submitBatch:a})=>{r({text:e,onError:i,onCompleted:(e,n)=>{n&&(0,W.p)(n.toString()),t?.(e,n)},submitBatch:a,filePath:n,threadsConnectionId:c})},onCancelComment:s,side:t?"LEFT":"RIGHT",...u})]})}try{J.displayName||(J.displayName="StartThreadComment")}catch{}function Z({align:e="end",anchorRef:t,isOpen:n,returnFocusRef:i,onCloseCommentDialog:a,suggestedChangesConfig:r,...d}){let{sendAnalyticsEvent:c}=(0,I.s)(),u=(0,m.useMemo)(()=>{if(n&&r?.configureSuggestedChangesFromLineRange)return r.configureSuggestedChangesFromLineRange(r?.selectedDiffRowRange,r?.shouldStartNewConversationWithSuggestedChange)},[n,r]);return n?(0,l.jsx)(o.T,{align:e,anchorRef:t,focusZoneSettings:{disabled:!0},open:n,renderAnchor:null,focusTrapSettings:{disabled:!0},overlayProps:{id:"conversation-dialog",role:"dialog",width:"xlarge",preventOverflow:!1,returnFocusRef:i,sx:{borderRadius:2},"aria-label":"Add a comment",onClickOutside:s.l,onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}},onClose:a,children:(0,l.jsx)(J,{onClose:()=>{a(),c("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON")},suggestedChangesConfig:u,...d})}):null}try{Z.displayName||(Z.displayName="StartConversation")}catch{}var ee=n(16564),et=n(11660);n(99634),s.l,s.l,s.l,s.l,s.l,s.l,s.l,s.l,s.l,s.l,s.l,s.l,s.l,s.l,s.l},72878:(e,t,n)=>{n.d(t,{p:()=>i});function i(e,t="r"){history.replaceState(null,"",`#${t}${e}`)}},45116:(e,t,n)=>{n.d(t,{L:()=>d});var i=n(46763),a=n(96540);let{getItem:r,removeItem:l,setItem:s}=(0,i.D)("localStorage"),o=(e,t)=>{let{diffSide:n,filePath:i,line:a,subjectId:r}=e;if(t)return`PullRequest:${r}-File:${i}`;if(void 0!==a&&void 0!==n)return`PullRequest:${r}-File:${i}-Line:${a}-DiffSide:${n}`;throw Error("Cannot build diff line comment cache key for a comment without a line number or diff side")};function d({diffSide:e,filePath:t,handlePersistedCommentExists:n,line:i,subjectId:d,threadId:c,fileLevelComment:u}){let m,f;let h=(0,a.useMemo)(()=>c||(c??o({diffSide:e,filePath:t,line:i,subjectId:d},u)),[e,t,i,d,c,u]),{hasPersistedComment:p,removePersistedCommentFromStorage:g}=(m=r(h),f=!!m?.text?.trim(),(0,a.useEffect)(()=>{f&&n?.(m)},[f]),{hasPersistedComment:f,removePersistedCommentFromStorage:()=>{l(h),f=!1,m=null}});return{hasPersistedComment:p,persistCommentToStorage:e=>{let t={text:e.text};e.startLine&&e.startSide&&(t={...t,startLine:e.startLine,startSide:e.startSide}),s(h,t)},removePersistedCommentFromStorage:g}}},75388:(e,t,n)=>{function i(e,t){return t.some(t=>a(t,e))}function a(e,t){return e.commentId===t.commentId&&e.path===t.path&&e.suggestion.length===t.suggestion.length&&r(e.suggestion,t.suggestion)}n.d(t,{EJ:()=>o,Lm:()=>d,c0:()=>i,o_:()=>s,yM:()=>a});let r=(e,t)=>e.length===t.length&&!e.some((e,n)=>e!==t[n]),l={USER_CANNOT_APPLY_SUGGESTION:"You do not have permission to apply this suggestion.",PULL_REQUEST_IS_CLOSED:"This suggestion cannot be applied because the pull request is closed.",PULL_REQUEST_IS_IN_MERGE_QUEUE:"This suggestion cannot be applied because the pull request is queued to merge.",IS_OUTDATED:"This suggestion is outdated and cannot be applied.",IS_PENDING:"This suggestion is part of a pending comment and cannot be applied.",IS_RESOLVED:"This suggestion is part of a resolved comment and cannot be applied.",UNCHANGED_CODE:"This suggestion is invalid because no changes were made to the code.",INVALID_RANGE:"Unable to commit due to other pending changes affecting this line.",BATCH_TOO_BIG:"Unable to commit due to too many changes in the batch.",DELETED_LINES:"Unable to apply suggestions on deleted lines.",RANGE_NOT_PROVIDED:"This suggestion does not have a valid line range.",UNABLE_TO_DETERMINE_VALIDITY:"Unable to determine the validity of this suggestion."};function s({suggestedChange:e,isOutdated:t,isPending:n,isResolved:i,pullRequestIsClosed:a,pullRequestIsInMergeQueue:r,userCanApplySuggestion:s,applySuggestedChangesValidationData:o,suggestedChangesConfig:d}){let{lineRange:c}=o;if(t)return{isValid:!1,reason:l.IS_OUTDATED};if(n)return{isValid:!1,reason:l.IS_PENDING};if(i)return{isValid:!1,reason:l.IS_RESOLVED};if(a)return{isValid:!1,reason:l.PULL_REQUEST_IS_CLOSED};if(r)return{isValid:!1,reason:l.PULL_REQUEST_IS_IN_MERGE_QUEUE};if(!s)return{isValid:!1,reason:l.USER_CANNOT_APPLY_SUGGESTION};if(!c)return{isValid:!1,reason:l.RANGE_NOT_PROVIDED};if(!d)return{isValid:!1,reason:l.UNABLE_TO_DETERMINE_VALIDITY};if(!d?.isValidSuggestionRange)return{isValid:!1,reason:l.DELETED_LINES};let u=d?.sourceContentFromDiffLines,m=e.suggestion.join("\n");return 0!==e.suggestion.length&&m===u?{isValid:!1,reason:l.UNCHANGED_CODE}:{isValid:!0}}function o(e,t){let n={isValid:!1,reason:l.INVALID_RANGE},i={isValid:!1,reason:l.BATCH_TOO_BIG};return t.length>=50?i:t.find(t=>t.threadId===e.threadId)||function(e,t){for(let a of t)if(e.path===a.path){var n,i;return n=e.lineRange,i=a.lineRange,n.endLineNumber>=i.startLineNumber&&n.startLineNumber<=i.endLineNumber}return!1}(e,t)?n:{isValid:!0}}function d(e){if(!e||"LINE"!==e.subjectType||!e.subject)return;let t=e.subject.startDiffSide??e.subject.endDiffSide;if(!t)return;if(e.isOutdated&&e.subject.originalStartLine&&e.subject.originalEndLine)return{endLineNumber:e.subject.originalEndLine,endOrientation:e.subject.endDiffSide||"RIGHT",startLineNumber:e.subject.originalStartLine,startOrientation:t};if(!e.subject.endLine||!e.subject.endDiffSide)return;let n=e.subject.startLine??e?.subject.endLine;return{endLineNumber:e.subject.endLine,endOrientation:e.subject.endDiffSide,startLineNumber:n,startOrientation:t||"RIGHT"}}},99634:(e,t,n)=>{n.d(t,{U:()=>i});let i={Failure:"FAILURE",Notice:"NOTICE",Warning:"WARNING"}},36066:(e,t,n)=>{n.d(t,{e:()=>i});function i(e){let t=document.querySelector('#__primerPortalRoot__ div[role="dialog"]'),n=document.querySelector(`#${e} div[role="dialog"]`);(t||n)&&document.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",code:"Escape",ctrlKey:!0}))}},11871:(e,t,n)=>{function i(e,t){for(let n of function e(t,n=[]){if(""===t)return n;let i=t.match(a());if(!i)return n;let r=i.groups.fence;if(!r)return n;let l=r.includes("~")?"~":"`",s=t.match(function(e,t){let n=a([e],t);return RegExp(`${n.source}(?:\r?
)(?<suggestion>.*?)(?:\r?
)^ {0,3}${e}{${t},}[ 	]*$`,"ms")}(l,r.length));if(!s)return n;let o=0,d=i.groups.indent;""!==d&&(o=d.length);let c=s.groups.suggestion;if(o>0){let e=RegExp(`^ {0,${o}}`,"m");c=c.replace(e,"")}return n.push(c),e(t.slice(s.index+s[0].length),n)}(e))if(n===t)return{isValid:!1,errorMessage:"Suggested change cannot be the same as the original line"};return{isValid:!0,errorMessage:""}}function a(e=["`","~"],t){let n=t?`{${t}}`:"{3,}",i=e.map(e=>`${e}${n}`);return RegExp(`^(?<indent> {0,3})(?<fence>${i.join("|")})suggestion[ 	]*$`,"m")}n.d(t,{u:()=>i})},64883:(e,t,n)=>{n.d(t,{HS:()=>r,Oc:()=>a,Tv:()=>o,Xr:()=>SymbolChangedEvent,f7:()=>l,fD:()=>s,qR:()=>i});let OpenCopilotChatEvent=class OpenCopilotChatEvent extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),this.payload=e}};let AddCopilotChatReferenceEvent=class AddCopilotChatReferenceEvent extends Event{constructor(e,t=!1,n){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),this.reference=e,this.openPanel=t,this.id=n}};let SymbolChangedEvent=class SymbolChangedEvent extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),this.context=e}};function i(e){window.dispatchEvent(new OpenCopilotChatEvent(e))}function a(e,t=!1,n){window.dispatchEvent(new AddCopilotChatReferenceEvent(e,t,n))}function r(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function l(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function s(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function o(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},9853:(e,t,n)=>{n.d(t,{C6:()=>a,hs:()=>l,mF:()=>s,wh:()=>i,xP:()=>r});let i={explain:"explain",conversation:"conversation",suggest:"suggest",discussFileDiff:"discuss-file-diff",explainFileDiff:"explain-file-diff",reviewPr:"review-pull-request",actionsAgent:"actions-agent"},a=["exception","filtered","publicCode","contentTooLarge","rateLimit","agentUnauthorized","agentRequest","networkError","multipleAgentsAttempt"],r=["bing-search","codesearch","semanticsearch","lexicalsearch","kb-search","pathsearch","show-symbol-definition","getissue","getprcommits","getcommit","getrelease","getrepo","getdiff","get-diff-by-range","getfile","getfilechanges","getdiscussion","get-actions-job-logs","getpullrequest","getalert","planskill","get-github-data","support-search","kb-repo-search"],l={Experiments:"experiements",Prompt:"prompt",None:"none"},s={Unlicensed:"unlicensed",LicensedFull:"licensed_full",LicensedLimited:"licensed_limited"}},69898:(e,t,n)=>{n.d(t,{Kf:()=>o,hQ:()=>d});let i=function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"oid",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null}],storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useFileDiffReference_Comparison",selections:[{alias:null,args:null,concreteType:"Commit",kind:"LinkedField",name:"oldCommit",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"Commit",kind:"LinkedField",name:"newCommit",plural:!1,selections:e,storageKey:null}],type:"PullRequestComparison",abstractKey:null}}();i.hash="fb70959c69497160ff44b9b0c7820e08";let a=function(){var e={alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null},t=[e,{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useFileDiffReference_DiffEntry",selections:[{alias:null,args:null,kind:"ScalarField",name:"pathDigest",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"rawUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBinary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSubmodule",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLfsPointer",storageKey:null},{alias:null,args:null,concreteType:"TreeEntry",kind:"LinkedField",name:"oldTreeEntry",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"TreeEntry",kind:"LinkedField",name:"newTreeEntry",plural:!1,selections:t,storageKey:null}],type:"PullRequestDiffEntry",abstractKey:null}}();a.hash="f853615ae640634aad832da060f944cf";var r=n(96540),l=n(18312);let s=({oldCommit:e,newCommit:t},{oldTreeEntry:n,newTreeEntry:i,...a},r)=>{if(a.isBinary||a.isSubmodule||a.isLfsPointer||!i||(n?.size??0)>1048576||(i.size??0)>1048576)return;let l=n||!r?t.oid:r;return{type:"file-diff",id:`diff-${a.pathDigest}`,url:a.rawUrl??"",baseFile:n?{type:"file",repoID:e.repository.databaseId??0,repoName:e.repository.name,repoOwner:e.repository.owner.login,path:n.path??"",commitOID:e.oid,url:`${e.repository.url}/raw/${e.oid}/${n.path}`,ref:e.oid}:null,headFile:{type:"file",repoID:t.repository.databaseId??0,repoName:t.repository.name,repoOwner:t.repository.owner.login,path:i.path??"",commitOID:l,url:`${t.repository.url}/raw/${l}/${i.path}`,ref:l},head:null,base:null}},o=(e,t,n)=>{let o=(0,l.useFragment)(i,e),d=(0,l.useFragment)(a,t);return(0,r.useMemo)(()=>s(o,d,n),[o,d,n])},d=(e,t)=>{let n=(0,l.useFragment)(i,e);return(0,r.useMemo)(()=>s(n,t),[n,t])}},9640:(e,t,n)=>{n.d(t,{B:()=>p,C:()=>g});var i=n(74848),a=n(20053),r=n(38621),l=n(34614),s=n(23976),o=n(30729),d=n(14616),c=n(54387),u=n(76193),m=n(15635);let f={"diff-file-header":"DiffFileHeader-module__diff-file-header--TjXyn",collapsed:"DiffFileHeader-module__collapsed--FPwYM","file-name":"DiffFileHeader-module__file-name--mY1O5"};function h({newPath:e,oldPath:t,status:n}){let a=(0,i.jsxs)(i.Fragment,{children:["\u200E",e]}),l=(0,i.jsxs)(i.Fragment,{children:["\u200E",t]});return"RENAMED"===n?(0,i.jsxs)("code",{children:[l," ",(0,i.jsx)(r.ArrowRightIcon,{})," ",a]}):"DELETED"===n||"REMOVED"===n?(0,i.jsx)("code",{children:l}):(0,i.jsx)("code",{children:a})}function p({additionalLeftSideContent:e,areLinesExpanded:t,canExpandOrCollapseLines:n,className:p,diffStatsProps:g,defaultToRichDiff:x,isBinary:y,isCollapsed:b,canToggleRichDiff:j,linesAdded:C,linesChanged:v,linesDeleted:N,fileLinkHref:w,fileLinkRef:k,newMode:S,newPath:L,oldMode:D,oldPath:I,onCopyPath:E,onHeaderClick:A,onToggleDiffDisplay:T,onToggleExpandAllLines:R,onToggleFileCollapsed:_,patchStatus:F,path:O,rightSideContent:M,size:B}){let U=B&&"-"===B[0];return(0,i.jsxs)("div",{className:(0,a.$)(f["diff-file-header"],b?f.collapsed:"","flex-wrap flex-sm-nowrap",p),children:[(0,i.jsx)("button",{onClick:_,className:"Button Button--iconOnly Button--invisible flex-shrink-0 flex-order-1","aria-label":b?`expand file: ${O}`:`collapse file: ${O}`,children:b?(0,i.jsx)(r.ChevronRightIcon,{}):(0,i.jsx)(r.ChevronDownIcon,{})}),e,(0,i.jsxs)("div",{className:"d-flex px-1 flex-items-center overflow-hidden flex-order-2 flex-sm-order-1",children:[(0,i.jsx)("h3",{className:(0,a.$)(f["file-name"]),children:(0,i.jsx)(l.A,{className:"Link--primary",href:w,onClick:A,ref:k,children:(0,i.jsx)(h,{newPath:L,oldPath:I,status:F})})}),(0,i.jsx)(m.T,{className:"ml-1 flex-shrink-0",textToCopy:L??I??"",ariaLabel:"Copy file name to clipboard",tooltipProps:{direction:"s"},onCopy:E}),(0,c.AL)(F,D,S)&&(0,i.jsxs)("div",{className:"p-2",children:[(0,i.jsx)("code",{children:D}),(0,i.jsx)(o.A,{icon:r.ArrowRightIcon,sx:{mx:1}}),(0,i.jsx)("code",{children:S})]}),n&&R&&(0,i.jsx)(d.m,{text:t?`collapse non diff lines: ${O}`:`expand all lines: ${O}`,direction:"s",children:(0,i.jsx)("button",{onClick:R,className:`Button Button--iconOnly Button--invisible flex-shrink-0 ${t?"":"js-expand-all-difflines-button"}`,"aria-label":t?`collapse non diff lines: ${O}`:`expand all lines: ${O}`,"data-file-path":O,children:t?(0,i.jsx)(r.FoldIcon,{}):(0,i.jsx)(r.UnfoldIcon,{})})})]}),(0,i.jsxs)("div",{className:"d-flex flex-row flex-justify-end flex-1 flex-order-1 flex-sm-order-2 flex-items-center",children:[(0,i.jsx)("div",{className:"d-flex mr-2 flex-justify-end flex-items-center flex-1",children:(0,i.jsx)(u.z,{linesAdded:C,linesDeleted:N,linesChanged:v,tooltipDirection:"sw",...g})}),y&&(0,i.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,i.jsx)("code",{className:(0,a.$)("px-2",U&&"fgColor-danger",!U&&"fgColor-success"),children:`${B}`}),M]}),j&&(0,i.jsxs)(s.I,{"aria-label":"File view",size:"small",sx:{mx:2},onChange:T?e=>T(1===e):void 0,children:[(0,i.jsx)(s.I.IconButton,{"aria-label":"Display the source diff",defaultSelected:!x,icon:r.CodeIcon}),(0,i.jsx)(s.I.IconButton,{"aria-label":"Display the rich diff",defaultSelected:x,icon:r.FileIcon})]}),M]})]})}try{h.displayName||(h.displayName="FileName")}catch{}try{p.displayName||(p.displayName="DiffFileHeader")}catch{}function g({children:e,isAddition:t,className:n}){return(0,i.jsx)("div",{className:(0,a.$)("ml-1 text-small text-bold",t?"fgColor-success":"fgColor-danger",n),children:e})}try{g.displayName||(g.displayName="LinesChangedCounterLabel")}catch{}},54387:(e,t,n)=>{function i(e){return void 0!==e.linesChanged&&0!==e.linesChanged}function a(e,t,n){return"MODIFIED"===e&&t!==n}function r(e,t,n,a){return"MODIFIED"===t&&n!==a&&!i(e)}function l(e){return"COPIED"===e.status&&!i(e)}function s(e){return"RENAMED"===e.status&&!i(e)}function o(e){return!!e.oldTreeEntry&&null===e.newTreeEntry}function d(e){return!!e.truncatedReason}n.d(t,{AL:()=>a,HI:()=>d,Jc:()=>l,Sn:()=>r,dK:()=>s,lO:()=>o,l_:()=>m,s8:()=>h,xW:()=>f});let c=["maximum diff size exceeded.","maximum number of lines exceeded."],u=/^maximum file count exceeded/;function m(e){let t=e;return c.includes(e)?t="Sorry, we could not display the changes to this file because there were too many other changes to display.":u.test(e)&&(t="Sorry, we could not display the changes to this file because there were too many other files to display."),t}function f(e){return!!e.newTreeEntry?.isGenerated}function h(e){return 0===e.linesChanged}},49983:(e,t,n)=>{n.d(t,{QC:()=>f,hr:()=>h,sK:()=>m,wH:()=>l,xY:()=>u});var i=n(32e3);function a(e,t,n){if(!t.has(e))throw TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function r(e,t){var n=a(e,t,"get");return n.get?n.get.call(e):n.value}function l(e,t){return e<t?-1:e>t?1:0}function s(e,t){return l(e.name,t.name)}function o(e,t){return l(e.fileName,t.fileName)}function d(e){return e.diff}let FileNode=class FileNode{constructor(e){this.diff=e,this.filePath=e.path;let t=this.filePath.split("/");this.fileName=t[t.length-1],this.directoryParts=t.slice(0,t.length-1)}};var c=new WeakMap;let DirectoryNode=class DirectoryNode{getOrCreateDirectory(e){let t=r(this,c).get(e);if(!t){let n=this.path?`${this.path}/`:"";t=new DirectoryNode(e,`${n}${e}`),this.directories.push(t),r(this,c).set(e,t)}return t}sort(){for(let e of(this.directories.sort(s),this.files.sort(o),this.directories))e.sort()}getOrderedDiffs(){let e=this.files.map(d);for(let t of this.directories)e.push(...t.getOrderedDiffs());return e}constructor(e,t){!function(e,t,n){(function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}(this,c,{writable:!0,value:void 0}),this.directories=[],this.files=[],function(e,t,n){var i=a(e,t,"set");!function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=n}}(e,i,n)}(this,c,new Map),this.name=e,this.path=t}};function u(e){let t=new DirectoryNode("","");for(let n of e.map(e=>new FileNode(e))){let e=t;for(let t of n.directoryParts)e=e.getOrCreateDirectory(t);e.files.push(n)}return t.sort(),t}function m(e){return u(e.filter(e=>!!e)).getOrderedDiffs()}function f(e){let t;t="string"==typeof e?e:e?.newPath||e?.oldPath;let n=t?.lastIndexOf(".");return t?!n||n<0?i.F7:`.${t.substring(n+1)}`:""}function h(e){return new Set(e.map(e=>f(e.path)))}},96642:(e,t,n)=>{n.d(t,{n$:()=>tK,cP:()=>tW,T5:()=>tB,Uz:()=>tz,Yj:()=>d.Y,N0:()=>tF.N0,Dd:()=>tF.Dd,xB:()=>t0});var i=n(74848),a=n(54387),r=n(90408),l=n(18571),s=n(34614),o=n(96540),d=n(75656),c=n(77134),u=n(20053),m=n(55847);let f={gridColumnTemplate:"HiddenDiffPatch-module__gridColumnTemplate--3bEGq"};function h({children:e,helpText:t,helpUrl:n,onLoadDiff:a,diffAnchor:r}){let l=n&&t;return(0,i.jsx)("div",{className:"px-3 py-4 fgColor-muted","data-diff-anchor":r,children:(0,i.jsxs)("div",{className:(0,u.$)(f.gridColumnTemplate),children:[(0,i.jsx)("svg",{"aria-hidden":!0,height:"84",style:{maxWidth:"340px"},viewBox:"0 0 340 84",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{clipPath:"url(#diff-placeholder)",d:"M0 0h340v84H0z",fillRule:"evenodd",style:{fill:"var(--bgColor-muted, var(--color-canvas-subtle))"}})})," ",(0,i.jsxs)("div",{className:"d-flex flex-justify-center flex-column flex-column text-center",children:[(0,i.jsx)(m.Q,{className:"h4 mx-auto fgColor-accent",variant:"invisible",onClick:()=>a(),children:"Load Diff"}),(0,i.jsxs)("span",{className:"fgColor-muted mt-1",children:[e,l&&(0,i.jsx)(s.A,{inline:!0,href:n,children:t})]})]})]})})}try{h.displayName||(h.displayName="HiddenDiffPatch")}catch{}let p={finalLineId:"final-hunk-header-line"};function g(e,t){return e.startBlobLineNumber-t.startBlobLineNumber}function x(e,t){if("HUNK"===e.type&&e.__id===p.finalLineId)return{currentHunk:t[t.length-1],previousHunk:t[t.length-2]};let n=t.sort(g).findIndex(t=>t.startBlobLineNumber<=e.blobLineNumber&&t.endBlobLineNumber>=e.blobLineNumber);return{currentHunk:t[n],nextHunk:t[n+1],previousHunk:t[n-1]}}function y(e){let t=[],n=0;for(let i=1;i<e.length;i++){let a=e[i],r=i===e.length-1;if(a&&!(0,c.Po)(a)){if("HUNK"===a.type){let r;let l=e[n];if(!l||(0,c.Po)(l))continue;let s=i-1;for(;(!r||(0,c.Po)(r))&&(r=e[s],-1!=--s););r&&!(0,c.Po)(r)&&t.push({startBlobLineNumber:l.blobLineNumber,endBlobLineNumber:r.blobLineNumber}),a.__id===p.finalLineId&&t.push({startBlobLineNumber:a.blobLineNumber,endBlobLineNumber:a.blobLineNumber+20}),n=i;continue}if(r){let i=e[n];i&&!(0,c.Po)(i)&&t.push({startBlobLineNumber:i.blobLineNumber,endBlobLineNumber:a.blobLineNumber})}}}return t}let b=(0,o.createContext)(null);function j({children:e,currentHunk:t,diffEntryId:n,diffLine:a,fileAnchor:r,fileLineCount:l,filePath:s,isLeftSide:d,isRowSelected:c=!1,isSplit:u,modifiedLineThreads:m,modifiedLineThreadsConnectionId:f,nextHunk:h,originalLineThreads:p,originalLineThreadsConnectionId:g,previousHunk:x,rowId:y,diffContext:j,setInGridMode:C}){let v=(0,o.useMemo)(()=>({currentHunk:t,diffEntryId:n,diffLine:a,fileAnchor:r,fileLineCount:l,filePath:s,isLeftSide:d,isRowSelected:c,isSplit:u,modifiedLineThreads:m,modifiedLineHasThreads:m&&m.length>0,modifiedLineThreadsConnectionId:f,nextHunk:h,originalLineThreads:p,originalLineHasThreads:p&&p.length>0,originalLineThreadsConnectionId:g,previousHunk:x,rowId:y,diffContext:j,setInGridMode:C}),[t,n,a,r,l,s,d,c,u,m,f,h,p,g,x,y,j,C]);return(0,i.jsx)(b.Provider,{value:v,children:e})}function C(){let e=(0,o.useContext)(b);if(!e)throw Error("useDiffLineContext must be used within a DiffLineContextProvider");return e}try{b.displayName||(b.displayName="DiffLineContext")}catch{}try{j.displayName||(j.displayName="DiffLineContextProvider")}catch{}function v(e,t){return e?.threads?.flatMap(e=>{let n=e?.id,i=e?.commentsData?.comments?.[0]?.author??t,a=e?.commentsData.totalCount??0,r=e?.commentsData?.__id;return n&&i?[{id:n,author:i,commentCount:a,commentsConnectionId:r,diffSide:e.diffSide,isOutdated:e.isOutdated,line:e.line,startLine:e.startLine,startDiffSide:e.startDiffSide}]:[]})??[]}var N=n(66760),w=n(82678);let GridNavigator=class GridNavigator{moveToNextItem(e,t){let n;let i=this.cellIdToGridLocation.get(this.focusedGridCell?.cellId??"");if(!i)return;let[a]=i,[,r]=i;switch(("ArrowDown"===e||"ArrowUp"===e)&&this.isHunkRow(a)&&this.savedColumnIndex&&(r=this.savedColumnIndex,this.savedColumnIndex=void 0),!0){case t&&"Home"===e:this.focusFirstGridCell();break;case t&&"End"===e:{let e=this.grid.length-1,t=this.grid[e]?.length;t&&(n=this.grid[e]?.[t-1]);break}case"ArrowUp"===e:this.isHunkRow(a-1)?(this.saveColumnIndex(r),n=this.grid[a-1]?.[0]):n=this.grid[a-1]?.[r];break;case"ArrowDown"===e:this.isHunkRow(a+1)?(this.saveColumnIndex(r),n=this.grid[a+1]?.[0]):n=this.grid[a+1]?.[r];break;case"ArrowLeft"===e:n=this.grid[a]?.[r-1];break;case"ArrowRight"===e:n=this.grid[a]?.[r+1];break;case"PageUp"===e:{this.saveColumnIndex(r);let e=this.getPreviousHunkRowIndex(a);n=this.grid[e]?.[0];break}case"PageDown"===e:{this.saveColumnIndex(r);let e=this.getNextHunkRowIndex(a),t=0;e||(e=this.grid.length-1,t=r),n=this.grid[e]?.[t];break}case"Home"===e:n=this.grid[a]?.[0];break;case"End"===e:{let e=this.grid[a];if(e&&!this.isHunkRow(a)){let t=e.length-1;n=this.grid[a]?.[t]}}}return n&&(this.focusedGridCell=n),this.focusedGridCell}reinitializeGrid(e,t){this.initializeGrid(e,t)}focusFirstGridCell(e){e&&this.cellIdToGridLocation.get(e)?this.focusGridCell(e):this.focusedGridCell=this.grid[0]?.[0]}focusGridCell(e){if(this.focusedGridCell?.cellId===e)return;let t=this.cellIdToGridLocation.get(e);if(!t)return;let[n,i]=t;this.focusedGridCell=this.grid[n]?.[i]}getNextSelectableCell(e){let t;let n=this.lastSelectedGridCell||this.focusedGridCell,i=this.cellIdToGridLocation.get(n?.cellId??"");if(!i)return;let[a,r]=i;if(("ArrowUp"!==e||!(a<=1))&&("ArrowDown"!==e||a!==this.grid.length-1)){if("ArrowUp"===e){let e=a-1;for(;!t;)t=this.getNextSelectableCellFromRow({rowIndex:e,columnIndex:r}),e--}if("ArrowDown"===e){let e=a+1;for(;!t;)t=this.getNextSelectableCellFromRow({rowIndex:e,columnIndex:r}),e++}return t&&(this.lastSelectedGridCell=t),t}}getValidSelectableRowCell(){if(this.focusedGridCell?.isHunk)return;if(!this.focusedGridCell?.isEmpty)return this.focusedGridCell;let e=this.cellIdToGridLocation.get(this.focusedGridCell.cellId)?.[0];if(e)return this.focusedGridCell.columnIndex<2?this.grid[e]?.[this.focusedGridCell.columnIndex+2]:this.grid[e]?.[this.focusedGridCell.columnIndex-2]}clearLastSelectedCell(){this.lastSelectedGridCell=void 0}getFirstCodeCell(){let e=this.grid.find(e=>e[0]&&!e[0].isHunk);return e?.find(e=>!e.isEmpty)}getLastCodeCell(){let e=this.grid.slice().reverse().find(e=>e[0]&&!e[0].isHunk);return e?.slice().reverse().find(e=>!e.isEmpty)}hasLine(e,t,n){let i=(0,c.qX)(this.fileAnchor,e,t),a=(0,c.u6)(i,0),r=this.cellIdToGridLocation.get(a);if(!r)return!1;let[l]=r;return!!n===this.isHunkRow(l)}getNextSelectableCellFromRow({rowIndex:e,columnIndex:t}){let n=this.grid[e],i=n?.[t];switch(!0){case i?.isHunk:return;case i?.orientation==="left"&&i.isEmpty:return n?.[t+2];case i?.orientation==="right"&&i.isEmpty:return n?.[t-2];default:return n?.[t]}}getNextHunkRowIndex(e){return Array.from(this.hunkRowIndexes).sort((e,t)=>e-t).find(t=>t>e)}getPreviousHunkRowIndex(e){return Array.from(this.hunkRowIndexes).sort((e,t)=>e-t).reverse().find(t=>t<e)??0}initializeGrid(e,t){this.grid=[],this.cellIdToGridLocation=new Map,this.hunkRowIndexes=new Set;for(let n=0;n<e.length;n++){let i=[],a=e[n];if(void 0!==a){if(this.isSplitDiff){let e=(t||[])[n],r=(0,c.qX)(this.fileAnchor,a,e);(0,c.Po)(a)||"HUNK"!==a.type?this.initializeSplitDiffCodeRow({leftLine:a,rightLine:e,row:i,rowIdentifier:r,rowIndex:n}):this.initializeHunkRow(i,r,n)}else{let e=(0,c.qX)(this.fileAnchor,a,a);(0,c.Po)(a)||"HUNK"!==a.type?this.initializeUnifiedDiffCodeRow({diffLine:a,row:i,rowIdentifier:e,rowIndex:n}):this.initializeHunkRow(i,e,n)}this.grid.push(i)}}}initializeContentCell({cellIndex:e,diffLine:t,orientation:n,row:i,rowIdentifier:a,rowIndex:r}){let l;let s=(0,c.u6)(a,e);(0,c.Po)(t)||"left"!==n||(l=t?.left),(0,c.Po)(t)||"right"!==n||(l=t?.right),i.push({lineNumber:l,orientation:n,isHunk:!1,isEmpty:(0,c.Po)(t),cellId:(0,c.u6)(a,e),columnIndex:e}),this.cellIdToGridLocation.set(s,[r,e])}initializeHunkRow(e,t,n){let i=(0,c.u6)(t,0);e.push({isHunk:!0,isEmpty:!1,cellId:i,columnIndex:0}),this.cellIdToGridLocation.set(i,[n,0]),this.hunkRowIndexes.add(n)}isHunkRow(e){return this.hunkRowIndexes.has(e)}initializeSplitDiffCodeRow({leftLine:e,rightLine:t,row:n,rowIdentifier:i,rowIndex:a}){this.initializeContentCell({cellIndex:0,diffLine:e,orientation:"left",row:n,rowIdentifier:i,rowIndex:a}),this.initializeContentCell({cellIndex:1,diffLine:e,orientation:"left",row:n,rowIdentifier:i,rowIndex:a}),this.initializeContentCell({cellIndex:2,diffLine:t,orientation:"right",row:n,rowIdentifier:i,rowIndex:a}),this.initializeContentCell({cellIndex:3,diffLine:t,orientation:"right",row:n,rowIdentifier:i,rowIndex:a})}initializeUnifiedDiffCodeRow({diffLine:e,row:t,rowIdentifier:n,rowIndex:i}){let a=(0,c.Po)(e)||"DELETION"!==e.type?"right":"left";this.initializeContentCell({cellIndex:0,diffLine:e,orientation:"left",row:t,rowIdentifier:n,rowIndex:i}),this.initializeContentCell({cellIndex:1,diffLine:e,orientation:"right",row:t,rowIdentifier:n,rowIndex:i}),this.initializeContentCell({cellIndex:2,diffLine:e,orientation:a,row:t,rowIdentifier:n,rowIndex:i})}saveColumnIndex(e){this.isHunkRow(e)||(this.savedColumnIndex=e)}constructor(e,t,n,i,a){this.grid=[],this.cellIdToGridLocation=new Map,this.hunkRowIndexes=new Set,this.fileAnchor=e,this.isSplitDiff=t,this.initializeGrid(n,i),this.focusFirstGridCell(a)}};function k(e){e&&setTimeout(()=>{0!==e.tabIndex&&(e.tabIndex=0)})}var S=n(69676);let L={ArrowLeft:S.z0.ArrowHorizontal,ArrowDown:S.z0.ArrowVertical,ArrowUp:S.z0.ArrowVertical,ArrowRight:S.z0.ArrowHorizontal,h:S.z0.HL,j:S.z0.JK,k:S.z0.JK,l:S.z0.HL,a:S.z0.AD,s:S.z0.WS,w:S.z0.WS,d:S.z0.AD,Tab:S.z0.Tab,Home:S.z0.HomeAndEnd,End:S.z0.HomeAndEnd,PageUp:S.z0.PageUpDown,PageDown:S.z0.PageUpDown,Backspace:S.z0.Backspace},D=S.z0.ArrowAll|S.z0.PageUpDown|S.z0.HomeAndEnd|S.z0.AD,I={ghostUser:{displayName:"Ghost",login:"ghost",avatarUrl:"https://avatars.githubusercontent.com/ghost",path:"/ghost",url:"/ghost"}};function E(e){return e in L&&(L[e]&D)>0}function A({clearSelectedDiffRowRange:e,containerRef:t,fileAnchor:n,isSplitDiff:i,leftLines:a,replaceSelectedDiffRowRangeFromGridCells:r,rightLines:l,selectedDiffRowRange:s,updateSelectedDiffRowRange:d,disabled:u}){var m;let f=(0,o.useRef)(void 0),h=(0,o.useMemo)(()=>new GridNavigator(n,i,a,l,f.current?.focusedGridCell?.cellId),[n,i,a,l]);(0,o.useEffect)(()=>{f.current=h},[h]),m=f.current,(0,o.useEffect)(()=>{if(m&&document.activeElement){let e=function(e,t,n){let i=[];for(let a=0;a<t.length;a++){let r=t[a],l=n?.[a]??r,s=!(0,c.Po)(r)&&r?.type==="HUNK";r&&l&&!e.hasLine(r,l,s)&&i.push(r)}return i}(m,a,l);if(0!==e.length){if(document.activeElement===document.body){let t,i,r;let l=a.indexOf(e[e.length-1]),s=a[l+1],o=e[0];s&&!(0,c.Po)(s)&&"HUNK"===s.type&&(t=(0,c.u6)((0,c.qX)(n,s,s),0),i=document.querySelector(`[data-grid-cell-id=${t}]`),r=i?.querySelector("button[data-direction=down], button[data-direction=all]")),r||(t=(0,c.u6)((0,c.qX)(n,o,o),0),i=document.querySelector(`[data-grid-cell-id=${t}]`),r=i?.querySelector("button[data-direction=up], button[data-direction=all]")),t&&i&&(r?r.focus():i.focus(),h.focusGridCell(t),k(i))}else if("BUTTON"===document.activeElement.tagName)k(document.activeElement.closest("td"));else if("TD"===document.activeElement.tagName){let e=document.activeElement.getAttribute("data-grid-cell-id"),n=h.focusedGridCell?.cellId;if(e!==n){let e=t.current?.querySelector(`[data-grid-cell-id=${n}]`);e?.focus()}}}}},[n,a,h,l,m,t]),function(e,t){let n=(0,o.useCallback)(e=>{let n=e.target.getAttribute("data-grid-cell-id");n&&t.focusGridCell(n)},[t]);(0,o.useEffect)(()=>{let t=e.current;return t?.addEventListener("focusin",n),()=>t?.removeEventListener("focusin",n)},[e,n])}(t,h);let p=(0,o.useCallback)((t,i,a)=>{let l=h.getValidSelectableRowCell();switch(!0){case(a.metaKey||a.ctrlKey)&&"KeyA"===a.code:{let e=h.getFirstCodeCell(),t=h.getLastCodeCell();if(!e||!t)return i;return r({diffAnchor:n,focusedGridCell:e,startGridCell:e,endGridCell:t}),i}case a.shiftKey&&"ArrowDown"===a.key:{let e=h.getNextSelectableCell("ArrowDown");if(!e||!l)return i;return s?.firstSelectedLineNumber?d(n,e.lineNumber,e.orientation,!0):r({diffAnchor:n,focusedGridCell:l,startGridCell:l,endGridCell:e}),i}case a.shiftKey&&"ArrowUp"===a.key:{let e=h.getNextSelectableCell("ArrowUp");if(!e||!l)return i;return s?.firstSelectedLineNumber?d(n,e.lineNumber,e.orientation,!0):r({diffAnchor:n,focusedGridCell:l,startGridCell:e,endGridCell:l}),i}default:{let t=h.moveToNextItem(a.key,a.ctrlKey),n=t&&document.querySelector(`[data-grid-cell-id=${t.cellId}]`);return e(),h.clearLastSelectedCell(),n??void 0}}},[h,s,d,n,r,e]);return(0,w.G)({containerRef:t,bindKeys:D,getNextFocusable:p,focusableElementFilter:e=>"BUTTON"!==e.tagName,focusInStrategy:"previous",disabled:u},[p]),{gridNavigator:h}}var T=n(33577);let R=(0,o.createContext)({isInDialogMode:!1,enableInlineCommentDialogMode:()=>{},disableInlineCommentDialogMode:()=>{}});function _({children:e}){let[t,n]=(0,o.useState)(!1),a=(0,o.useCallback)(()=>n(!0),[]),r=(0,o.useCallback)(()=>n(!1),[]),l=(0,o.useMemo)(()=>({isInDialogMode:t,enableInlineCommentDialogMode:a,disableInlineCommentDialogMode:r}),[t,a,r]);return(0,i.jsx)(R.Provider,{value:l,children:e})}let F=()=>(0,o.useContext)(R);try{R.displayName||(R.displayName="InlineCommentDialogModeContext")}catch{}try{_.displayName||(_.displayName="InlineCommmentDialogModeProvider")}catch{}var O=n(27234),M=n(435),B=n(67819),U=n(36619),$=n(38621),P=n(52464),H=n(75177),K=n(47139),V=n(87330),z=n(30595),G=n(14616);let W="a, audio, button, details, embed, iframe, img, input, keygen, label, object, select, textarea, video";var q=n(41095);function Q({children:e}){return(0,i.jsx)(P.A,{sx:{fontWeight:500,color:"fg.default"},children:e})}function Y({thread:e}){return void 0!==e&&e?.diffSide&&e.line?e.startLine&&e.startDiffSide?J({thread:e}):X({thread:e}):null}function X({thread:e}){let t="LEFT"===e.startDiffSide?"L":"R";return(0,i.jsxs)(P.A,{sx:{color:"fg.muted",pl:2},children:["Comment on line"," ",(0,i.jsxs)(Q,{children:[t,e.line]})]})}function J({thread:e}){let t="LEFT"===e.startDiffSide?"L":"R",n="LEFT"===e.diffSide?"L":"R";return(0,i.jsxs)(P.A,{sx:{color:"fg.muted",pl:2},children:["Comment on lines"," ",(0,i.jsxs)(Q,{children:[t,e.startLine]})," ","to"," ",(0,i.jsxs)(Q,{children:[n,e.line]})]})}function Z({commentingImplementation:e,fileAnchor:t,filePath:n,threadId:a,isOutdated:r,threads:l,threadsConnectionId:s,enterDialogMode:d,ghostUser:c,suggestedChangesConfig:u,...m}){let[f,h]=(0,o.useState)(void 0),{fetchThread:p}=e,g=(0,o.useRef)(null),{isInDialogMode:x}=F(),y=(0,o.useCallback)(async(e,t=!0)=>{h(await p(e,t))},[p]);(0,o.useEffect)(()=>{var e,t;x&&(x||!f)?(e=g.current,setTimeout(()=>{for(let t of(e?.setAttribute("aria-hidden","false"),Array.from(e?.querySelectorAll("*")??[])))t?.setAttribute("aria-hidden","false");for(let t of Array.from(e?.querySelectorAll(W)??[]))t.setAttribute("tabindex","0")},100)):(t=g.current,t?.setAttribute("aria-hidden","true"),function e(n=0){setTimeout(()=>{let n=Array.from(t?.querySelectorAll("*")??[]),i=Array.from(t?.querySelectorAll(W)??[]);if(0===i.length)return e(200);for(let e of n)e?.setAttribute("aria-hidden","true");for(let e of i)e.setAttribute("tabindex","-1")},n)}())},[x,f]),(0,o.useEffect)(()=>{f||y(a,!1)},[a,f,p,y]);let b=(0,o.useMemo)(()=>{if(t&&f&&f.subject?.startDiffSide&&f.subject?.endDiffSide&&f.subject?.startLine&&f.subject?.endLine&&u?.configureSuggestedChangesFromLineRange){let e=f.subject?.startLine??f?.subject?.endLine,n=f.subject?.startDiffSide??f?.subject?.endDiffSide,i={diffAnchor:t,endLineNumber:f?.subject?.endLine,endOrientation:f.subject?.endDiffSide==="LEFT"?"left":"right",startLineNumber:e,firstSelectedLineNumber:e,firstSelectedOrientation:"LEFT"===n?"left":"right",startOrientation:"LEFT"===n?"left":"right"};return u?.configureSuggestedChangesFromLineRange(i)}},[t,f,u]),{sendAnalyticsEvent:j}=(0,U.s)(),{resolveThread:C,unresolveThread:v,resolvingEnabled:N}=e,w=l.find(e=>e.id===a),{addToast:k}=(0,B.Y6)();if(!f||!(f.commentsData.comments.length>0))return null;let S=!!f.isResolved,L=w?.commentsConnectionId;return(0,i.jsxs)(H.A,{sx:{mb:1,mt:1},className:"bgColor-default rounded-2",ref:g,children:[(0,i.jsxs)(H.A,{sx:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center",borderBottom:"1px solid",borderColor:"border.muted"},children:[(0,i.jsx)(Y,{thread:w}),(0,i.jsxs)(H.A,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center",justifyContent:"right",flexGrow:1},children:[S&&(0,i.jsx)(K.A,{variant:"done",size:"large",children:"Resolved"}),N&&(0,i.jsx)(G.m,{text:S?"Unresolve conversation":"Resolve conversation",type:"label",direction:"w",id:"resolve-conversation",children:(0,i.jsx)(V.K,{"aria-labelledby":"resolve-conversation",icon:S?$.CheckCircleFillIcon:$.CheckCircleIcon,sx:{color:S?"var(--fgColor-done, var(--color-done-fg)) !important":void 0},variant:"invisible",onClick:S?()=>{f&&(v({thread:f,onCompleted:()=>y(f.id),onError:()=>{k({type:"error",message:"Failed to unresolve thread"})}}),j("comments.unresolve_thread","RESOLVE_CONVERSATION_BUTTON"))}:()=>{f&&(C({thread:f,onCompleted:()=>y(f.id),onError:()=>{k({type:"error",message:"Failed to resolve thread"})}}),j("comments.resolve_thread","RESOLVE_CONVERSATION_BUTTON"))}})})]})]}),(0,i.jsx)(o.Suspense,{fallback:(0,i.jsxs)(H.A,{sx:{height:"90px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",color:"fg.muted",fontSize:0},children:[(0,i.jsx)(z.A,{}),(0,i.jsx)("p",{children:"Loading comments"})]}),children:(0,i.jsx)(q.H,{enterDialogMode:d,commentingImplementation:e,commentsConnectionId:L,filePath:n,onRefreshThread:y,thread:f,threadsConnectionId:s,suggestedChangesConfig:b,shouldLimitHeight:!1,...m,ghostUser:c})})]})}try{Q.displayName||(Q.displayName="Emphasis")}catch{}try{Y.displayName||(Y.displayName="ThreadBanner")}catch{}try{X.displayName||(X.displayName="SingleLineThreadBanner")}catch{}try{J.displayName||(J.displayName="MultineLineThreadBanner")}catch{}try{Z.displayName||(Z.displayName="InlineReviewThread")}catch{}function ee(e){return(0,i.jsx)(M.j,{children:(0,i.jsx)(et,{...e})})}function et({annotations:e,commentingImplementation:t,conversationListThreads:n,isMarkerListOpen:a,fileAnchor:r,filePath:l,onAnnotationSelected:s,onCloseConversationDialog:o,onCloseConversationList:d,onCloseFocusMode:c,onThreadSelected:u,returnFocusRef:f,selectedAnnotationId:h,selectedThreadId:p,threadsConnectionId:g,suggestedChangesConfig:x,ghostUser:y,enterDialogMode:b,...j}){let{isInDialogMode:C,enableInlineCommentDialogMode:v}=F();return(0,i.jsxs)("div",{style:{marginLeft:"-20px",marginRight:"-94px",maxWidth:"633px",width:"100%"},onClick:()=>{C||v()},children:[C&&(0,i.jsx)(m.Q,{variant:"default",size:"small",onMouseUp:c,onKeyUp:e=>{("Enter"===e.key||"Space"===e.code)&&c()},style:{position:"absolute",left:"-40px",top:"-1px"},children:"Exit"}),n.map(e=>(0,i.jsx)(Z,{enterDialogMode:b,commentingImplementation:t,filePath:l,fileAnchor:r,threadId:e.id,isOutdated:e.isOutdated,threads:n,threadsConnectionId:g,onThreadSelected:u,suggestedChangesConfig:x,ghostUser:y,...j},`review-thread-${e.id}`))]})}try{ee.displayName||(ee.displayName="InlineMarkers")}catch{}try{et.displayName||(et.displayName="InlineMarkersInternal")}catch{}var en=n(33428),ei=n(77175),ea=n(34610),er=n(94995),el=n(90495),es=n(77393),eo=n(89323),ed=n(8338);let ec=(0,o.createContext)(null);function eu({children:e,...t}){let n=!!t.commentingImplementation,a=!!t.markerNavigationImplementation;if(t.commentingEnabled!==n&&t.commentingEnabled!==a)throw Error("commentingEnabled, commentingImplementation, and markerNavigationImplementation must be passed together");let r=t?.ghostUser??I.ghostUser,l=(0,o.useMemo)(()=>({ghostUser:r,...t}),[...Object.values(t),r]);return(0,i.jsx)(ec.Provider,{value:l,children:e})}function em(){let e=(0,o.useContext)(ec);if(!e)throw Error("useDiffContext must be used within a DiffContextProvider");return e}try{ec.displayName||(ec.displayName="DiffContext")}catch{}try{eu.displayName||(eu.displayName="DiffContextProvider")}catch{}var ef=n(36066);function eh(e){return null!=e}let ep="thread",eg="annotation",ex=(0,o.createContext)(null);function ey({children:e,line:t}){let[n,a]=(0,o.useState)(!1),[r,l]=(0,o.useState)(),[s,d]=(0,o.useState)(),[c,u]=(0,o.useState)(),[m,f]=(0,o.useState)(),[h,p]=(0,o.useState)(),{ghostUser:g,markerNavigationImplementation:x}=em(),{originalLineThreads:y,modifiedLineThreads:b,originalLineThreadsConnectionId:j,modifiedLineThreadsConnectionId:v}=C(),[N,w]=(0,o.useState)(),{threads:k,threadConnectionId:S}=ej({line:t,side:N,originalLineThreads:y,modifiedLineThreads:b,originalLineThreadsConnectionId:j,modifiedLineThreadsConnectionId:v,ghostUser:g}),L=(0,o.useMemo)(()=>!!r||!!s||!!c||!!m,[r,c,s,m]),D=(0,o.useCallback)(()=>{a(!0)},[]),I=(0,o.useCallback)(()=>{a(!1)},[]),E=(0,o.useCallback)(e=>{e?p({id:e,kind:ep}):p(void 0)},[]),A=h?.kind===ep?h.id:void 0,T=h?.kind===eg?h.id:void 0,R=(0,o.useCallback)(e=>{e?p({id:e,kind:eg}):p(void 0)},[]),_=(0,o.useCallback)((e,t,n)=>{switch((0,ef.e)(x?.overlayPortalContainerName),e){case"context-menu":l(t),f(void 0),u(void 0),d(void 0);break;case"new-conversation":f({cellId:t,withSuggestedChange:n?.withSuggestedChange}),l(void 0),u(void 0),d(void 0);break;case"marker-details":u(t),l(void 0),d(void 0),f(void 0);break;case"marker-list":d(t),l(void 0),f(void 0),u(void 0)}},[x?.overlayPortalContainerName]),F=(0,o.useCallback)(e=>{switch(e){case"context-menu":l(void 0);break;case"new-conversation":f(void 0);break;case"marker-details":u(void 0);break;case"marker-list":d(void 0)}},[]),O=(0,o.useCallback)(e=>(w(e),ej({line:t,side:e,modifiedLineThreads:b,modifiedLineThreadsConnectionId:v,originalLineThreads:y,originalLineThreadsConnectionId:j,ghostUser:g}).threads),[t,b,v,y,j,g]),M=(0,o.useMemo)(()=>t.annotationsData?.annotations?.filter(eh)??[],[t.annotationsData?.annotations]),B=(0,o.useMemo)(()=>({annotations:M,isActionBarVisible:n,showActionBar:D,hideActionBar:I,selectThreadId:E,selectAnnotationId:R,closeDialog:F,openDialog:_,anyMenuOpen:L,selectedThreadId:A,selectedAnnotationId:T,openContextMenuCell:r,openMarkersListCell:s,openMarkerDetailsCell:c,openNewConversationCell:m,threads:k,updateVisibleThreads:O,threadConnectionId:S}),[M,n,D,I,E,R,F,_,L,A,T,r,s,c,m,k,S,O]);return(0,i.jsx)(ex.Provider,{value:B,children:e})}function eb(){let e=(0,o.useContext)(ex);if(!e)throw Error("useMarkersDialogContext must be used within a MarkersDialogContextProvider");return e}function ej({line:e,side:t,originalLineThreads:n,modifiedLineThreads:i,originalLineThreadsConnectionId:a,modifiedLineThreadsConnectionId:r,ghostUser:l}){switch(t){case"LEFT":return{threads:n||[],threadConnectionId:a};case"RIGHT":return{threads:i||[],threadConnectionId:r};case void 0:return{threads:v(e.threadsData,l),threadConnectionId:e.threadsData?.__id};default:return{threads:[],threadConnectionId:void 0}}}try{ex.displayName||(ex.displayName="MarkersDialogContext")}catch{}try{ey.displayName||(ey.displayName="MarkersDialogContextProvider")}catch{}var eC=n(3616);function ev({cellId:e,actionBarRef:t}){let{replaceSelectedDiffRowRange:n}=(0,d.o)(),{fileAnchor:i}=C(),[a,r]=(0,o.useState)(t),{annotations:l,openDialog:s,closeDialog:c,selectedAnnotationId:u,selectAnnotationId:m,selectedThreadId:f,selectThreadId:h,openContextMenuCell:p,openNewConversationCell:g,openMarkerDetailsCell:x,openMarkersListCell:y,updateVisibleThreads:b,threads:j,threadConnectionId:v,anyMenuOpen:N}=eb(),{sendAnalyticsEvent:w}=(0,U.s)(),k=(0,o.useMemo)(()=>g?.cellId===e,[e,g]),S=(0,o.useMemo)(()=>g?.withSuggestedChange,[g]),L=(0,o.useCallback)(t=>{s("new-conversation",e,t)},[e,s]),D=(0,o.useCallback)(()=>{L()},[L]),I=(0,o.useCallback)(()=>{r(t),L(),w("diff.start_new_conversation","PLUS_ICON")},[t,L,w]),E=(0,o.useCallback)(()=>{L({withSuggestedChange:!0}),w("diff.start_new_conversation_with_suggested_change","CELL_CONTEXT_MENU")},[L,w]),A=(0,o.useCallback)(()=>{r(t),L({withSuggestedChange:!0}),w("diff.start_new_conversation_with_suggested_change","ACTION_BAR_CONTEXT_MENU")},[t,L,w]),T=(0,o.useCallback)(()=>{c("new-conversation")},[c]),R=(0,o.useMemo)(()=>p===e,[e,p]),_=(0,o.useCallback)(()=>{s("context-menu",e)},[e,s]),F=(0,o.useCallback)(()=>{r(t),_()},[t,_]),O=(0,o.useCallback)(()=>{c("context-menu")},[c]),M=(0,o.useCallback)(()=>{R?O():_()},[O,R,_]),B=(0,o.useCallback)(()=>{r(t),M()},[t,M]),$=(0,o.useMemo)(()=>x===e?f:void 0,[e,x,f]),P=(0,o.useMemo)(()=>x===e?u:void 0,[e,x,u]),H=(0,o.useCallback)(()=>{s("marker-details",e)},[e,s]),K=(0,o.useCallback)(()=>{c("marker-details")},[c]),V=(0,eC.K)((e,t={skipLineSelection:!1})=>{if(h(e),H(),t.skipLineSelection)return;let a=j.find(t=>t.id===e);if(a&&a.diffSide&&a.line){let e=a.startLine??a.line,t=a.startDiffSide??a.diffSide;n({diffAnchor:i,endLineNumber:a.line,endOrientation:"LEFT"===a.diffSide?"left":"right",startLineNumber:e,startOrientation:"LEFT"===t?"left":"right",firstSelectedLineNumber:e,firstSelectedOrientation:"LEFT"===t?"left":"right"})}}),z=(0,eC.K)((e,t={skipLineSelection:!1})=>{if(m(e),H(),t.skipLineSelection)return;let a=l.find(t=>t.id===e);a&&n({diffAnchor:i,endLineNumber:a.endLine,endOrientation:"right",startLineNumber:a.startLine,startOrientation:"right",firstSelectedLineNumber:a.startLine,firstSelectedOrientation:"right"})}),G=(0,o.useCallback)(()=>{s("marker-list",e)},[e,s]),W=(0,o.useCallback)(()=>{c("marker-list")},[c]),q=(0,o.useCallback)(e=>{let t=b(e);if(!t?.length&&!l.length)return;let n=t&&t[0],i=t&&1===t.length&&n&&!l.length,a=l[0],r=1===l.length&&a&&!t?.length;i?V(n.id):r?z(a.id):G()},[l,G,z,V,b]);return{isNewConversationDialogOpen:k,startNewConversation:D,startNewConversationFromActionBar:I,closeNewConversationDialog:T,startNewConversationWithSuggestedChange:E,startNewConversationFromActionBarWithSuggestedChange:A,shouldStartNewConversationWithSuggestedChange:S,isContextMenuOpen:R,openContextMenu:_,openContextMenuFromActionBar:F,closeContextMenu:O,toggleContextMenu:M,toggleContextMenuFromActionBar:B,optimizedSelectedThreadId:$,optimizedSelectedAnnotationId:P,selectThread:V,selectAnnotation:z,openMarkerDetailsDialog:H,closeConversationDetailsDialog:K,isMarkerListDialogOpen:y===e,openMarkerListDialog:G,closeMarkerListDialog:W,openMarkerOrListDialogFromActionBar:(0,o.useCallback)(e=>{q(e),r(t)},[t,q]),openMarkerOrListDialog:(0,o.useCallback)(e=>{q(e)},[q]),annotations:l,returnFocusRef:a,threadConnectionId:v,threads:j,anyMenuOpen:N}}function eN({cellRef:e}){let{showActionBar:t,hideActionBar:n,anyMenuOpen:i}=eb(),[a,r]=(0,o.useState)(!1),l=(0,o.useCallback)(()=>{t()},[t]),s=(0,o.useCallback)(t=>{!i&&(e.current&&e.current.contains(t.relatedTarget)||n())},[i,e,n]),d=(0,o.useCallback)(()=>{t()},[t]),c=(0,o.useCallback)(()=>{!i&&(e.current===document.activeElement||e.current?.contains(document.activeElement)||n())},[i,e,n]);return{isActionBarFocused:a,handleCellBlur:s,handleCellFocus:l,handleCellMouseEnter:d,handleCellMouseLeave:c,handleActionBarBlur:(0,o.useCallback)(t=>{e.current&&!i&&(e.current.contains(t.relatedTarget)?e.current===t.relatedTarget&&r(!1):(n(),r(!1)))},[i,e,n]),handleActionBarFocusCapture:(0,o.useCallback)(e=>{i||(e.stopPropagation(),r(!0))},[i]),handleActionBarKeydownCapture:(0,o.useCallback)(e=>{!i&&E(e.key)&&e.stopPropagation()},[i])}}function ew(){let{nextHunk:e,currentHunk:t,previousHunk:n}=C(),{addInjectedContextLines:i}=em(),a=!!t&&0!==t.startBlobLineNumber,r=!!t&&!!e;return{expandStartOfHunk:()=>{a&&t&&i({start:Math.max(0,t.startBlobLineNumber-20),end:t.startBlobLineNumber})},expandEndOfHunk:()=>{r&&t&&i({start:t.endBlobLineNumber+1,end:t.endBlobLineNumber+1+20})},expandEndOfPreviousHunk:()=>{n&&i({start:n.endBlobLineNumber+1,end:n.endBlobLineNumber+1+20})},canExpandEndOfHunk:r,canExpandStartOfHunk:a}}var ek=n(26938),eS=n(64515),eL=n(91321),eD=n(93843),eI=n(45079),eE=n(36279),eA=n(70819);let eT={commentIndicatorContainer:"CommentIndicator-module__commentIndicatorContainer--L8lU3",AvatarStack:"CommentIndicator-module__AvatarStack--jMN2F",Compact:"CommentIndicator-module__Compact--SQwGN",Relaxed:"CommentIndicator-module__Relaxed--DWkA5"},eR={compact:{avatarSize:18},relaxed:{avatarSize:20}};function e_({shouldAnimateRef:e,lineSpacingPreference:t="relaxed"}){let{diffLine:n}=C(),{ghostUser:a}=em();(0,o.useEffect)(()=>{e?.current&&(e.current=!1)},[e]);let{avatarSize:r}=eR[t],l=(n.threadsData?.totalCommentsCount||0)+(n.annotationsData?.totalCount||0);if(0===l)return null;let s={},d=[];n.annotationsData?.annotations?.map(e=>{e?.annotationLevel&&d.push({id:e.id,level:e.annotationLevel})}),n.threadsData?.threads?.map(e=>e?.commentsData?.comments?.map(e=>{e?.author?s[e?.author.login]=e.author:a?.login&&(s[a.login]=a)}));let c=[...d.sort((e,t)=>(eA.GF[e.level]?.priority||0)<(eA.GF[t.level]?.priority||0)?-1:1).map(t=>e?.current?(0,i.jsx)(eA.S,{annotationLevel:t.level},t.id):(0,i.jsx)(eA.Xh,{annotationLevel:t.level},t.id)),...Object.keys(s).map(e=>{let t=s[e]?.login,n=s[e]?.avatarUrl??(a?.avatarUrl||" ");return(0,i.jsx)(eI.r,{alt:t,size:20,src:n},t)})].slice(0,3),m=l>9?"9+":`${l}`;return(0,i.jsxs)("div",{className:(0,u.$)("d-flex","flex-justify-between","flex-items-center",eT.commentIndicatorContainer),children:[(0,i.jsx)(eE.A,{disableExpand:!0,size:r,className:(0,u.$)(eT.AvatarStack,"relaxed"===t?eT.Relaxed:eT.Compact),children:c}),(0,i.jsx)(P.A,{sx:{color:"fg.default",ml:1,fontSize:0,fontWeight:400,fontVariantNumeric:"tabular-nums",width:"2ch",textAlign:"start"},children:m})]})}try{e_.displayName||(e_.displayName="CommentIndicator")}catch{}var eF=n(31654),eO=n(80967),eM=n(35180),eB=n(11761);let eU=({selectedRange:e,showDivider:t,...n})=>(0,i.jsx)(eB.B,{errorFallback:(0,i.jsx)(e$,{}),suspenseFallback:(0,i.jsx)(eP,{}),componentProps:{selectedRange:e,showDivider:t},Component:eH,...n}),e$=()=>(0,i.jsxs)(ed.l.Item,{disabled:!0,children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)($.AlertIcon,{})}),"Copilot failed to load"]}),eP=()=>(0,i.jsxs)(ed.l.Item,{disabled:!0,children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)(z.A,{size:"small"})}),"Copilot is loading..."]}),eH=({fileDiffReference:e,selectedRange:t,showDivider:n})=>{let a=(0,o.useMemo)(()=>{let n={...e};return t&&(n.selectedRange={start:`${t?.startOrientation[0]?.toUpperCase()??""}${t?.startLineNumber}`,end:`${t?.endOrientation[0]?.toUpperCase()??""}${t?.endLineNumber}`}),n},[e,t]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(eo.W,{children:[(0,i.jsx)(eo.W.Anchor,{children:(0,i.jsxs)(ed.l.Item,{children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)($.CopilotIcon,{})}),"Copilot"]})}),(0,i.jsx)(eo.W.Overlay,{children:(0,i.jsxs)(ed.l,{children:[(0,i.jsx)(eO.t,{fileDiffReference:a,eventContext:{prx:!0}}),(0,i.jsx)(eM.e,{fileDiffReference:a,eventContext:{prx:!0}}),(0,i.jsx)(eF.i,{fileDiffReference:a,eventContext:{prx:!0}})]})})]}),n&&(0,i.jsx)(ed.l.Divider,{})]})};try{eU.displayName||(eU.displayName="CopilotDiffChatContextMenu")}catch{}try{e$.displayName||(e$.displayName="MenuItemError")}catch{}try{eP.displayName||(eP.displayName="MenuItemLoading")}catch{}try{eH.displayName||(eH.displayName="BaseCopilotDiffChatContextMenu")}catch{}var eK=n(30871);let eV={left:"L",right:"R"},ez="Start conversation",eG="Suggest change";function eW(e,t,n){let i=n&&!(0,c.Ji)(t)?eV.left:eV.right;return`${e} on line ${i}${t.blobLineNumber}`}function eq({handleStartConversationWithSuggestedChange:e,handleStartConversation:t}){let n,a,r;let{selectedDiffRowRange:l,selectedDiffLines:s,replaceSelectedDiffRowRange:u}=(0,d.o)(),{commentingEnabled:m}=em(),{diffLine:f,isLeftSide:h,isSplit:p,diffContext:g}=C(),x=(0,o.useMemo)(()=>s.leftLines[0],[s.leftLines]),y=(0,o.useMemo)(()=>s.leftLines[s.leftLines.length-1],[s.leftLines]),b=(0,o.useMemo)(()=>s.leftLines.every(e=>!(0,c.Po)(e)&&"DELETION"!==e.type),[s.leftLines]),j=(0,o.useMemo)(()=>s.rightLines[0],[s.rightLines]),v=(0,o.useMemo)(()=>s.rightLines[s.rightLines.length-1],[s.rightLines]),N=(0,o.useMemo)(()=>0===s.rightLines.length,[s.rightLines]),w=(0,o.useMemo)(()=>0===s.leftLines.length,[s.leftLines]),k=(0,o.useMemo)(()=>!(s.leftLines.find(e=>!(0,c.Po)(e)&&!(0,c.Ji)(e)&&"INJECTED_CONTEXT"!==e.type)||s.rightLines.find(e=>!(0,c.Po)(e)&&!(0,c.Ji)(e)&&"INJECTED_CONTEXT"!==e.type)),[s.leftLines,s.rightLines]),S=(0,o.useCallback)((n,i)=>{!(!l||!y||!x||(0,c.Po)(y)||(0,c.Po)(x))&&x.left&&y.left&&(u({diffAnchor:l.diffAnchor,endLineNumber:y.left,endOrientation:"left",startLineNumber:x.left,startOrientation:"left",firstSelectedLineNumber:x.left,firstSelectedOrientation:"left"}),i?.withSuggestedChange?e():t())},[l,y,x,u,e,t]),L=(0,o.useCallback)((n,i)=>{!(!l||!v||!j||(0,c.Po)(v)||(0,c.Po)(j))&&j.right&&v.right&&(u({diffAnchor:l.diffAnchor,endLineNumber:v.right,endOrientation:"right",startLineNumber:j.right,startOrientation:"right",firstSelectedLineNumber:j.right,firstSelectedOrientation:"right"}),i?.withSuggestedChange?e():t())},[l,v,j,u,e,t]),D="DELETION"!==f.type&&("pr"===g||void 0===g),I=(0,o.useMemo)(()=>!!l&&(l.startOrientation!==l.endOrientation||l.startLineNumber!==l.endLineNumber),[l]);if(!m)return null;let E=!1,A=!1;if(l&&I){let t=eV[l.startOrientation],s=eV[l.endOrientation];return r=` on lines ${t}${l.startLineNumber}-${s}${l.endLineNumber}`,!(0,c.Po)(x)&&!(0,c.Po)(y)&&x&&y&&(E=!0,n=x.left===y.left?N?` on line L${x.left}`:`, original line L${x.left}`:N?` on lines L${x.left}-L${y.right}`:`, original lines L${x.left}-L${y.left}`),!(0,c.Po)(j)&&!(0,c.Po)(v)&&j&&v&&(A=!0,a=j.right===v.right?w||p&&k?` on line R${j.right}`:`, modified line R${v.right}`:w||p&&k?` on lines R${j.right}-R${v.right}`:`, modified lines R${j.right}-R${v.right}`),(0,i.jsx)(i.Fragment,{children:p?(0,i.jsx)(i.Fragment,{children:k?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(ed.l.Item,{onSelect:L,children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)($.PlusIcon,{})}),ez+a,(0,i.jsx)(ed.l.TrailingVisual,{children:(0,i.jsx)(eK.U,{keys:"Alt+n"})})]}),(0,i.jsxs)(ed.l.Item,{onSelect:e=>L(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)($.PlusCircleIcon,{})}),eG+a]})]}):(0,i.jsxs)(i.Fragment,{children:[E?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(ed.l.Item,{onSelect:S,children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)($.PlusIcon,{})}),ez+n,(0,i.jsx)(ed.l.TrailingVisual,{children:(0,i.jsx)(eK.U,{keys:N?"Alt+n":"Alt+Shift+N"})})]}),b&&(0,i.jsxs)(ed.l.Item,{onSelect:e=>S(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)($.PlusCircleIcon,{})}),eG+n]})]}):null,A?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(ed.l.Item,{onSelect:L,children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)($.PlusIcon,{})}),ez+a,(0,i.jsx)(ed.l.TrailingVisual,{children:(0,i.jsx)(eK.U,{keys:"Alt+n"})})]}),(0,i.jsxs)(ed.l.Item,{onSelect:e=>L(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)($.PlusCircleIcon,{})}),eG+a]})]}):null]})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ea.Vr,{commandId:"pull-requests-diff-view:start-conversation-current",leadingVisual:(0,i.jsx)($.PlusIcon,{}),children:ez+r}),D&&b&&(0,i.jsxs)(ed.l.Item,{onSelect:e,children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)($.PlusCircleIcon,{})}),eG+r]})]})})}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ea.Vr,{commandId:"pull-requests-diff-view:start-conversation-current",leadingVisual:(0,i.jsx)($.PlusIcon,{}),children:eW(ez,f,h)}),D&&(0,i.jsxs)(ed.l.Item,{onSelect:e,children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)($.PlusCircleIcon,{})}),eW(eG,f,h)]})]})}try{eq.displayName||(eq.displayName="StartConversationContextMenuItems")}catch{}function eQ(e){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eZ,{...e}),(0,i.jsx)(eX,{copilotChatReferenceData:e.copilotChatReferenceData}),(0,i.jsx)(e3,{}),(0,i.jsx)(eJ,{}),(0,i.jsx)(ea.Vr,{commandId:"pull-requests-diff-view:copy-anchor-link",leadingVisual:(0,i.jsx)($.LinkIcon,{})}),(0,i.jsx)(e8,{})]})}function eY(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e7,{}),(0,i.jsx)(eJ,{})]})}let eX=({copilotChatReferenceData:e})=>{let{diffEntryId:t}=C(),{subjectId:n,oldCommitOid:a,newCommitOid:r}=em(),{selectedDiffRowRange:l}=(0,d.o)(),s=(0,o.useMemo)(()=>e&&n&&a&&r?{referenceData:e,queryVariables:{pullRequestId:n,startOid:a,endOid:r}}:t&&n&&a&&r?{queryVariables:{diffEntryId:t,pullRequestId:n,startOid:a,endOid:r}}:void 0,[t,r,a,n,e]);return s?(0,i.jsx)(eU,{selectedRange:l,showDivider:!0,...s}):null};function eJ(){let{fileAnchor:e}=C();return(0,i.jsxs)(ed.l.Item,{onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${e}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"a",code:"KeyA",ctrlKey:!0}))})},children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)($.MultiSelectIcon,{})}),"Select all",(0,i.jsx)(ed.l.TrailingVisual,{children:(0,i.jsx)(eK.U,{keys:"Mod+a"})})]})}function eZ({handleViewMarkersSelection:e,showStartConversation:t,startConversationCurrentLine:n,startConversationWithSuggestedChange:a}){let{commentingEnabled:r}=em(),{originalLineHasThreads:l,modifiedLineHasThreads:s}=C(),{annotations:o}=eb(),d=o.length>0;return r&&(t||l||s||d)?(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)(eq,{handleStartConversation:n,handleStartConversationWithSuggestedChange:a}),(0,i.jsx)(e0,{handleViewMarkersSelection:e}),(0,i.jsx)(ed.l.Divider,{})]}):null}function e0({handleViewMarkersSelection:e}){let{commentingEnabled:t}=em(),{isSplit:n}=C();return t?n?(0,i.jsx)(e1,{handleViewMarkersSelection:e}):(0,i.jsx)(e2,{onSelect:()=>e()}):null}function e1({handleViewMarkersSelection:e}){let{originalLineHasThreads:t,modifiedLineHasThreads:n,isLeftSide:a}=C(),{annotations:r}=eb(),l=r.length>0;return a?(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)(e4,{text:"View comments",onSelect:()=>e("LEFT")}),(n||l)&&(0,i.jsx)(e4,{text:"View comments, modified line",onSelect:()=>e("RIGHT")})]}):(0,i.jsxs)(i.Fragment,{children:[(n||l)&&(0,i.jsx)(e4,{text:"View comments",onSelect:()=>e("RIGHT")}),t&&(0,i.jsx)(e4,{text:"View comments, original line",onSelect:()=>e("LEFT")})]})}function e2({onSelect:e}){let{ghostUser:t}=em(),{diffLine:n}=C(),{annotations:a}=eb();return n&&v(n.threadsData,t).length>0||a.length>0?(0,i.jsx)(e4,{text:"View comments",onSelect:()=>e()}):null}function e4({onSelect:e,text:t}){return(0,i.jsxs)(ed.l.Item,{onSelect:e,children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)($.CommentDiscussionIcon,{})}),t]})}function e3(){return(0,i.jsx)("div",{onMouseDown:e=>{window.getSelection()?.toString()!==""&&e.preventDefault()},children:(0,i.jsx)(ea.Vr,{commandId:"pull-requests-diff-view:copy-code",leadingVisual:(0,i.jsx)($.CopyIcon,{})})})}function e8(){let{canExpandStartOfHunk:e,canExpandEndOfHunk:t}=ew(),{previousHunk:n,nextHunk:a}=C();return e||t||n||a?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ed.l.Divider,{}),(0,i.jsx)(e7,{}),(0,i.jsx)(e6,{})]}):null}function e7(){let{canExpandStartOfHunk:e,canExpandEndOfHunk:t}=ew();return(0,i.jsxs)(i.Fragment,{children:[e&&(0,i.jsx)(ea.Vr,{commandId:"pull-requests-diff-view:expand-hunk-up",leadingVisual:(0,i.jsx)($.FoldUpIcon,{})}),t&&(0,i.jsx)(ea.Vr,{commandId:"pull-requests-diff-view:expand-hunk-down",leadingVisual:(0,i.jsx)($.FoldDownIcon,{})})]})}function e6(){let{previousHunk:e,nextHunk:t}=C(),{fileAnchor:n}=C();return(0,i.jsxs)(i.Fragment,{children:[t?(0,i.jsxs)(ed.l.Item,{"aria-keyshortcuts":"PageDown",onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${n}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"PageDown"}))})},children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)($.MoveToBottomIcon,{})}),"Go to next hunk",(0,i.jsx)(ed.l.TrailingVisual,{children:"Page Down"})]}):null,e?(0,i.jsxs)(ed.l.Item,{"aria-keyshortcuts":"PageUp",onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${n}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"PageUp"}))})},children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)($.MoveToTopIcon,{})}),"Go to previous hunk",(0,i.jsx)(ed.l.TrailingVisual,{children:"Page Up"})]}):null]})}try{eQ.displayName||(eQ.displayName="CellContextMenu")}catch{}try{eY.displayName||(eY.displayName="EmptyCellContextMenu")}catch{}try{eX.displayName||(eX.displayName="CopilotListItems")}catch{}try{eJ.displayName||(eJ.displayName="SelectAllListItem")}catch{}try{eZ.displayName||(eZ.displayName="MarkerListItems")}catch{}try{e0.displayName||(e0.displayName="ViewMarkerListItems")}catch{}try{e1.displayName||(e1.displayName="SplitDiffMarkersListItems")}catch{}try{e2.displayName||(e2.displayName="UnifiedDiffMarkerListItem")}catch{}try{e4.displayName||(e4.displayName="MarkerListItem")}catch{}try{e3.displayName||(e3.displayName="CopyContentListItems")}catch{}try{e8.displayName||(e8.displayName="HunkListItems")}catch{}try{e7.displayName||(e7.displayName="ExpandHunksListItems")}catch{}try{e6.displayName||(e6.displayName="JumpToHunkListItems")}catch{}var e5=n(84763);function e9({authorAvatarUrl:e,authorLogin:t,lineSpacingPreference:n,sx:a}){return(0,i.jsx)(e5.k,{altText:`${t}'s avatar image with pending indicator`,icon:$.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",square:!1,size:"compact"===n?18:20,src:e,backgroundSx:{backgroundColor:"var(--bgColor-default, var(--color-canvas-default))",boxShadow:"0 0 0 .1px var(--bgColor-default, var(--color-canvas-default))"},sx:{alignItems:"center",display:"flex",opacity:.5,height:"var(--diff-line-minimum-height)",...a}})}try{e9.displayName||(e9.displayName="InProgressCommentIndicator")}catch{}let te={"action-bar-position":"ActionBar-module__action-bar-position--q5zYS"},tt="24px",tn="30px",ti=(0,o.forwardRef)(function({authorAvatarUrl:e,authorLogin:t,cellId:n,cellRef:a,showStartConversation:r,hasDraftComment:l,copilotChatReferenceData:s},d){let c=(0,o.useRef)(null),f=(0,o.useRef)(null),{commentingEnabled:h,viewerData:{lineSpacingPreference:p}}=em(),{diffLine:g,isRowSelected:x}=C(),y=(0,o.useRef)(null),b=c.current?c:f;(0,eS.T)(d,b);let{diff_inline_comments:j}=(0,eD.h)(),v=g.threadsData?.totalCommentsCount||0,N=g.annotationsData?.totalCount||0,{isActionBarFocused:w,handleActionBarBlur:k,handleActionBarFocusCapture:S,handleActionBarKeydownCapture:L}=eN({cellRef:a}),{annotations:D,isContextMenuOpen:I,openMarkerOrListDialogFromActionBar:E,startNewConversationFromActionBar:A,startNewConversationFromActionBarWithSuggestedChange:T,anyMenuOpen:R,threads:_,toggleContextMenu:F,toggleContextMenuFromActionBar:O}=ev({cellId:n,actionBarRef:y}),M=(0,o.useCallback)(e=>{x&&e.preventDefault()},[x]);return(0,i.jsx)("div",{"aria-hidden":!w,className:(0,u.$)("d-flex","flex-row",te["action-bar-position"]),children:(0,i.jsxs)(eL.A,{onBlur:k,onClick:M,onFocusCapture:S,onKeyDownCapture:L,children:[h&&(0,i.jsxs)(i.Fragment,{children:[v+N>0&&!j&&(0,i.jsx)(m.Q,{ref:c,"aria-expanded":R,"aria-label":"View conversations",size:"small",sx:{pt:0,pb:0,px:1,height:tt},onClick:e=>{(1===_.length||1===D.length)&&e.preventDefault(),E()},children:(0,i.jsx)(e_,{lineSpacingPreference:p})}),r&&(0,i.jsx)(i.Fragment,{children:l?(0,i.jsx)(m.Q,{"aria-label":"Start conversation (comment in progress)",size:"small",sx:{pt:0,pb:0,px:1,width:tn,height:tt},onClick:A,children:(0,i.jsx)(e9,{lineSpacingPreference:p,authorAvatarUrl:e,authorLogin:t})}):(0,i.jsx)(V.K,{unsafeDisableTooltip:!0,"aria-label":"Start conversation",ref:f,icon:$.PlusIcon,size:"small",sx:{width:tn,height:tt,color:"fg.muted"},onClick:A})})]}),(0,i.jsxs)(eo.W,{anchorRef:y,open:I,onOpenChange:F,children:[(0,i.jsx)(eo.W.Anchor,{children:(0,i.jsx)(V.K,{unsafeDisableTooltip:!0,ref:y,"aria-haspopup":"true","aria-label":"More actions",icon:$.TriangleDownIcon,size:"small",sx:{width:tt,height:tt,color:"fg.muted"},onClick:O})}),(0,i.jsx)(eo.W.Overlay,{width:"medium",children:(0,i.jsx)(ed.l,{children:(0,i.jsx)(eQ,{copilotChatReferenceData:s,showStartConversation:r,handleViewMarkersSelection:E,startConversationCurrentLine:A,startConversationWithSuggestedChange:T})})})]})]})})});ti.displayName="ActionBar";let ta={visibilityHidden:"DiffHighlightedOverlay-module__visibilityHidden--v59uf",userSelectNone:"DiffHighlightedOverlay-module__userSelectNone--i39lB",focusedResultStyles:"DiffHighlightedOverlay-module__focusedResultStyles--QZMIm",nonFocusedResultStyles:"DiffHighlightedOverlay-module__nonFocusedResultStyles--x2N7d",nonHunkStyles:"DiffHighlightedOverlay-module__nonHunkStyles--_dJlQ"};function tr({searchResults:e,focusedSearchResult:t,className:n,styleObject:a}){let r=0,l=e[0]?.text??"",s=e[0]?.diffLineNumIndex??-1,o=`overlay-${s}-${l}`;return(0,i.jsxs)("span",{className:(0,u.$)(n,"position-absolute",ta.userSelectNone,!e[0].isHunk&&ta.nonHunkStyles),style:{...a},children:[e.map(e=>{var n,a;let s=e.indexWithinPathDigest===t,o=(0,i.jsxs)("span",{children:[(0,i.jsx)("span",{className:(0,u.$)(ta.visibilityHidden,ta.userSelectNone),children:l.substring(r,e.column)}),(0,i.jsx)("span",{className:(0,u.$)(ta.userSelectNone,s&&ta.focusedResultStyles,!s&&ta.nonFocusedResultStyles),children:(0,i.jsx)("span",{className:(0,u.$)(!s&&ta.visibilityHidden),id:(n=e.indexWithinPathDigest,a=e.pathDigest,`match-${a}-${n}`),children:l.substring(e.column,e.columnEnd)})})]},`find-match-${e.diffLineNumIndex}-${e.column}`);return r=e.columnEnd,o}),(0,i.jsx)("span",{className:(0,u.$)(ta.visibilityHidden,ta.userSelectNone),children:l.substring(r)})]},o)}try{tr.displayName||(tr.displayName="DiffHighlightedOverlay")}catch{}function tl(e,t,n){let i=e.threadsData?.totalCount||0,a=t.threadsData?.totalCount||0;if(0===i&&0===a)return;let r="";1===i?r="has a conversation.":i>1&&(r="has conversations.");let l="";1===a?l="has a conversation.":a>1&&(l="has conversations.");let s="";if("LEFT"===n){let e=`${r.charAt(0).toUpperCase()}${r.slice(1)}`,t=`${l.length>1?"Modified line":""} ${l}`;s=`${e} ${t}`}else{let e=`${l.charAt(0).toUpperCase()}${l.slice(1)}`,t=`${r.length>1?"Original line":""} ${r}`;s=`${e} ${t}`}return s}function ts({summary:e}){let{diff_inline_comments:t}=(0,eD.h)();return""===e?null:(t&&(e+=" Press Enter to view."),(0,i.jsx)("span",{className:"sr-only user-select-none",children:e.trimStart().trimEnd()}))}try{ts.displayName||(ts.displayName="DiffLineScreenReaderSummary")}catch{}var to=n(89539);let td=["CONTEXT","INJECTED_CONTEXT"];function tc(e){let{rowId:t}=C();if(t)return(0,c.u6)(t,e)}function tu(e,t){let{selectedDiffRowRange:n}=(0,d.o)();return(0,o.useMemo)(()=>{let i="Add a comment on",a=!!n&&n.startLineNumber!==n.endLineNumber;if(n&&a){let e={left:"L",right:"R"},t=e[n.startOrientation],a=e[n.endOrientation];i+=n.startLineNumber!==n.endLineNumber?` lines ${t}${n.startLineNumber} to ${a}${n.endLineNumber}`:` line ${t}${n.startLineNumber}`}else{let n=t&&!(0,c.Ji)(e)?"L":"R";i+=` line ${n}${e.blobLineNumber}`}return i},[e,t,n])}let tm=(0,o.forwardRef)(function({children:e,ContextMenu:t,className:n,columnIndex:a,handleDiffCellClick:r,handleDiffCellMouseDown:l,handleHideMarkersFromFocus:s,handleDiffSideCellSelectionBlocking:u,lineAnchor:m,firstLineNumberSelection:f,commentDialogOpen:h,startConversation:p,enterDialogMode:g,...x},y){let{diffLine:b,isRowSelected:j,isLeftSide:v,isSplit:N}=C(),w=(0,o.useRef)(null);(0,o.useImperativeHandle)(y,()=>w.current,[]);let[k,S]=(0,o.useState)(!1),{selectedDiffRowRange:L}=(0,d.o)(),{fileAnchor:D,filePath:I,setInGridMode:E}=C(),{disableInlineCommentDialogMode:A,isInDialogMode:T}=F(),{expandStartOfHunk:R,expandEndOfHunk:_,expandEndOfPreviousHunk:O}=ew(),{getUnifiedDiffLineCode:M,getSplitDiffSingleLineCode:B,getSplitDiffMultiLineCode:U}=function(e){let{selectedDiffRowRange:t,selectedDiffLines:n,getDiffLinesByDiffAnchor:i}=(0,d.o)();return{getUnifiedDiffLineCode:()=>{let n=i(e);if(!n||!t)return"";let{startOrientation:a,endOrientation:r,startLineNumber:l,endLineNumber:s}=t,o=0,d=0;return n.length>1&&(o=n.findIndex(e=>"left"===a?e.left===l:e.right===l),d=n.findIndex(e=>"left"===r?e.left===s:e.right===s)),(0,c.Ls)(n.slice(o,d+1))},getSplitDiffSingleLineCode:(t,n)=>{if(!t||!n)return"";let a=i(e)?.find(e=>"left"===t?e.left===n:e.right===n);return a?(0,c.Ls)([a]):""},getSplitDiffMultiLineCode:e=>void 0===e?"":"left"===e?(0,c.Ls)(n.leftLines):(0,c.Ls)(n.rightLines)}}(D),$=(0,o.useRef)(null),P=(0,er.U)(e=>{if(!e.target)return;let t=e.target;!k||$.current?.contains(t)||w.current?.contains(t)||2!==e.button?w.current?.contains(t)&&e.target.closest("button")?.contains(t)&&S(!1):S(!1),w.current?.contains(t)||(A(),E?.(!0))});(0,o.useEffect)(()=>(to.XC?.addEventListener("mousedown",P),()=>to.XC?.removeEventListener("mousedown",P)),[P]),(0,o.useEffect)(()=>()=>to.XC?.removeEventListener("mousedown",P),[]);let H=(0,o.useCallback)(()=>{f?.current&&(f.current=null)},[f]),K=(0,o.useCallback)(e=>{let t=e.target?.closest("td"),n=t?.classList.contains("diff-line-number");e.shiftKey?e.preventDefault():n?l?.():f&&(f.current=null),f&&n&&(f.current=v?b.left:b.right),u?.(e)},[u]);(0,el.r)({restoreFocusOnCleanUp:!0,containerRef:w,disabled:!T});let V=(0,o.useCallback)(()=>{w.current?.focus(),A(),E?.(!0)},[A,E]),{diff_inline_comments:z}=(0,eD.h)(),G=(0,o.useCallback)(e=>{z&&e.target===w.current&&"Enter"===e.key&&g?.()},[g,z]);return(0,es.P)(()=>{V()},[V]),(0,i.jsxs)(ea.tL,{as:"td",commands:{"pull-requests-diff-view:copy-code":()=>{let e=window.getSelection();if(e&&""!==e.toString()){document.execCommand("copy");return}if(N){void 0===L||L?.startOrientation===L?.endOrientation&&L?.startLineNumber===L?.endLineNumber?(0,en.D)(B(v?"left":"right",v?b?.left:b?.right)):(0,en.D)(U(v?"left":"right"));return}(0,en.D)(M())},"pull-requests-diff-view:expand-all-hunks":()=>{let e=document.querySelector(`.js-expand-all-difflines-button[data-file-path="${I}"]`);e?.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))},"pull-requests-diff-view:expand-hunk-up":R,"pull-requests-diff-view:expand-hunk-down":()=>{if(b?.type==="HUNK"){O();return}_()},"pull-requests-diff-view:copy-anchor-link":()=>{let e=(0,c.j2)({line:b,range:L,fileAnchor:D});e&&(0,en.D)(e)},"pull-requests-diff-view:start-conversation-current":p},ref:w,"data-grid-cell-id":tc(a),"data-line-anchor":m,"data-selected":j,role:T?"dialog":"gridcell",style:{userSelect:"none",position:"relative"},tabIndex:-1,valign:"top",className:n?`focusable-grid-cell ${n} ${a<3?"left-side":""}`:"focusable-grid-cell",onKeyUp:G,onBlur:e=>e.target.ariaSelected="false",onClick:r,onFocus:e=>e.target.ariaSelected="true",onMouseDown:K,onMouseUp:H,title:T?"Title":"",...x,children:[e,t&&k&&(0,i.jsx)(eo.W,{anchorRef:w,open:!0,onOpenChange:S,children:(0,i.jsx)(eo.W.Overlay,{width:e?"medium":"small",children:(0,i.jsx)(ed.l,{children:t})})})]})});function tf(){let{isSplit:e}=C();return(0,i.jsx)("div",{className:(0,u.$)("hunk-kebab-icon pr-2 pb-1",!e&&"hunk-kebab-icon-unified"),children:(0,i.jsx)($.KebabHorizontalIcon,{})})}let th=(0,o.memo)(tp);function tp({summary:e,searchResultsForLine:t,focusedSearchResult:n,columnIndex:a,lineAnchor:r,firstLineNumberSelection:l,handleDiffCellClick:s,handleDiffSideCellSelectionBlocking:m,filePath:f,copilotChatReferenceData:h}){let{diffLine:p,fileAnchor:g,isLeftSide:x,setInGridMode:y}=C(),[b,j]=(0,c._S)(p.html,p.type),v=j&&["+","-"].includes(j),{isActionBarVisible:N}=eb(),{selectedDiffRowRange:w,selectedDiffLines:k}=(0,d.o)(),{commentBatchPending:S,commentingEnabled:L,commentingImplementation:D,initialExpandedThreadId:I,markerNavigationImplementation:E,repositoryId:A,subjectId:T,subject:R,viewerData:_}=em(),{hasPersistedComment:M}=(0,O.L4)({diffSide:x?"LEFT":"RIGHT",filePath:f,line:p.blobLineNumber,subjectId:T,fileLevelComment:!1}),{isInDialogMode:B,enableInlineCommentDialogMode:U,disableInlineCommentDialogMode:$}=F(),P=(0,o.useMemo)(()=>{var e;return e=_.viewerCanComment,L&&e&&(0,c.a1)(p,k)},[L,_,p,k]),H=(0,o.useRef)(null),K=(0,o.useRef)(null),{diff_inline_comments:V}=(0,eD.h)(),z=(0,c.YY)({shouldAlignRight:M||!P,lineSpacingPreference:_.lineSpacingPreference}),G=!!p.threadsData?.threads?.length||!!p.annotationsData?.annotations?.length,W=(0,c.S4)({hasThreads:G&&!V}),q=tu(p,!!x),Q=tc(a),{handleCellBlur:Y,handleCellFocus:X,handleCellMouseEnter:J,handleCellMouseLeave:Z}=eN({cellRef:K}),{annotations:et,isNewConversationDialogOpen:en,shouldStartNewConversationWithSuggestedChange:ea,startNewConversation:er,startNewConversationWithSuggestedChange:el,openMarkerOrListDialog:es,selectAnnotation:eo,selectThread:ed,isMarkerListDialogOpen:ec,closeNewConversationDialog:eu,closeMarkerListDialog:ef,closeConversationDetailsDialog:eh,returnFocusRef:ep,optimizedSelectedAnnotationId:eg,optimizedSelectedThreadId:ex,threadConnectionId:ey,threads:ej}=ev({cellId:Q,actionBarRef:H}),eC=(0,o.useCallback)((e=!0)=>{K.current?.classList.contains("diff-text-cell")&&(U(),y?.(!1),e&&setTimeout(()=>{K.current?.querySelector('[aria-label="Start conversation"]')?.focus()},0))},[U,y]);(0,o.useEffect)(()=>{D&&I&&ex!==I&&ej.map(e=>e.id).includes(I)&&ed(I,{skipLineSelection:!0})},[I]),(0,o.useEffect)(()=>{if(!E)return;let{activeGlobalMarkerID:e,onActivateGlobalMarkerNavigation:t}=E;if(e){let n=ej.map(e=>e.id),i=et.map(e=>e.id);n.includes(e)?(ed(e,{skipLineSelection:!0}),t()):i.includes(e)&&(eo(e,{skipLineSelection:!0}),t())}},[ed,ej,E,et,eo]);let ew=({onCompleted:e,...t})=>{D&&p&&D.deleteComment({...t,onCompleted:()=>{e?.(),ej.length<=1&&(eh(),setTimeout(()=>K.current?.focus()))},filePath:f})},eS=(0,ek.S)(D?.suggestedChangesEnabled,p,ea),eL=(0,o.useCallback)(()=>{$(),y?.(!0)},[$,y]),eI=(0,o.useCallback)(()=>{B||0!==(K.current?.querySelectorAll(":focus")??[]).length||($(),y?.(!0))},[$,B,y]),eE=(0,o.useRef)(!0),{ghostUser:eA}=em();return(0,i.jsxs)(tm,{ref:K,columnIndex:a,commentDialogOpen:en,handleDiffCellClick:s,enterDialogMode:eC,handleDiffSideCellSelectionBlocking:m,lineAnchor:r,firstLineNumberSelection:l,startConversation:er,ContextMenu:(0,i.jsx)(eQ,{copilotChatReferenceData:h,showStartConversation:P,handleViewMarkersSelection:es,startConversationCurrentLine:er,startConversationWithSuggestedChange:el}),className:(0,u.$)(`diff-text-cell ${x?"left-side-diff-cell":"right-side-diff-cell"}`,{"border-right":x&&"HUNK"!==p.type}),style:{backgroundColor:tj(p.type,!1),paddingRight:W},onBlur:e=>{Y(e),eI()},onFocus:X,onMouseEnter:J,onMouseLeave:Z,children:[(0,i.jsxs)("code",{className:(0,u.$)("diff-text syntax-highlighted-line",{addition:"ADDITION"===p.type,deletion:"DELETION"===p.type}),children:[v&&(0,i.jsx)("span",{className:"diff-text-marker",children:j}),t&&t.length>0&&(0,i.jsx)(tr,{searchResults:t,focusedSearchResult:n,className:(0,u.$)("diff-text-inner",{"color-fg-muted":"HUNK"===p.type})}),(0,i.jsx)(ei.mo,{html:b,className:(0,u.$)("diff-text-inner",{"color-fg-muted":"HUNK"===p.type})})]}),N&&(0,i.jsx)(ti,{copilotChatReferenceData:h,authorAvatarUrl:_.avatarUrl,authorLogin:_.login,ref:H,cellId:Q,cellRef:K,hasDraftComment:M,showStartConversation:P}),D&&E&&(0,i.jsxs)(i.Fragment,{children:[V&&G?(0,i.jsx)(ee,{annotations:et,enterDialogMode:eC,batchPending:S,batchingEnabled:D.batchingEnabled,commentingImplementation:{...D,deleteComment:ew},conversationListThreads:ej,fileAnchor:g,filePath:f,onCloseFocusMode:eL,isMarkerListOpen:!!K.current?.classList.contains("diff-text-cell")&&ej.length>0,repositoryId:A,returnFocusRef:ep,selectedAnnotationId:eg,selectedThreadId:ex||(K.current?.classList.contains("diff-text-cell")&&ej.length>0?ej[0]?.id:null),subjectId:T,subject:R,suggestedChangesConfig:eS,threadsConnectionId:ey,onCloseConversationDialog:eh,onCloseConversationList:ef,onAnnotationSelected:eo,onThreadSelected:ed,viewerData:_,ghostUser:eA}):(0,i.jsx)(O.c7,{annotations:et,batchPending:S,batchingEnabled:D.batchingEnabled,commentingImplementation:{...D,deleteComment:ew},conversationAnchorRef:K,conversationListAnchorRef:ep,conversationListThreads:ej,fileAnchor:g,filePath:f,isMarkerListOpen:ec,repositoryId:A,returnFocusRef:ep,selectedAnnotationId:eg,selectedThreadId:ex,subjectId:T,subject:R,suggestedChangesConfig:eS,threadsConnectionId:ey,onCloseConversationDialog:eh,onCloseConversationList:ef,onAnnotationSelected:eo,onThreadSelected:ed,markerNavigationImplementation:E,viewerData:_,ghostUser:eA}),(0,i.jsx)(O.cT,{addCommentDialogTitle:q,anchorRef:K,batchPending:S,batchingEnabled:D.batchingEnabled,commentBoxConfig:D.commentBoxConfig,filePath:f,isLeftSide:!!x,isOpen:en,lineNumber:p.blobLineNumber,repositoryId:A,returnFocusRef:ep,subjectId:T,suggestedChangesConfig:eS,threadsConnectionId:ey,viewerData:_,onAddComment:({onCompleted:e,threadsConnectionId:t,...n})=>{if(!D||!p)return;let{leftLines:i,rightLines:a}=k;if(w){let e="left"===w.endOrientation?i:a,n=e[e.length-1];n&&(0,c.qK)(n)&&n.threadsData?.__id&&(t=n.threadsData?.__id)}D.addThread({...n,diffLine:p,isLeftSide:x,selectedDiffRowRange:w,threadsConnectionId:t,onCompleted:(t,n)=>{e?.(t,n),ed(t)}})},onCloseCommentDialog:eu})]}),!N&&!V&&(0,i.jsxs)("div",{"aria-hidden":"true",style:{right:z},className:"position-absolute top-0 d-flex user-select-none",children:[(0,i.jsx)(e_,{shouldAnimateRef:eE,lineSpacingPreference:_.lineSpacingPreference}),M&&(0,i.jsx)(e9,{lineSpacingPreference:_.lineSpacingPreference,authorAvatarUrl:_.avatarUrl,authorLogin:_.login})]}),e&&(0,i.jsx)(ts,{summary:e})]})}let tg=(0,o.memo)(tx);function tx({children:e,columnIndex:t,handleDiffCellClick:n,handleDiffSideCellSelectionBlocking:a,firstLineNumberSelection:r,filePath:l,copilotChatReferenceData:s,...m}){let f=(0,o.useRef)(null),h=tc(t),{commentBatchPending:p,commentingEnabled:g,commentingImplementation:x,repositoryId:y,subject:b,subjectId:j,markerNavigationImplementation:v,viewerData:N}=em(),{diffLine:w,fileAnchor:k,isLeftSide:S}=C(),{selectedDiffRowRange:L,selectedDiffLines:D,updateSelectedDiffRowRange:I}=(0,d.o)(),E=tu(w,!!S),A=(0,o.useMemo)(()=>{var e;return e=N.viewerCanComment,g&&e&&(0,c.a1)(w,D)},[g,N,w,D]),{handleCellBlur:T,handleCellFocus:R,handleCellMouseEnter:_,handleCellMouseLeave:F}=eN({cellRef:f}),M=(0,o.useCallback)(()=>{r&&null!==r.current&&I(k,S?w.left:w.right,S?"left":"right",!0,!0),_()},[k,_,S,w.left,w.right,r,I]),B=(0,o.useCallback)(()=>{I(k,S?w.left:w.right,S?"left":"right",!1,!0)},[]),{ghostUser:U}=em(),{annotations:$,isNewConversationDialogOpen:P,shouldStartNewConversationWithSuggestedChange:H,startNewConversation:K,startNewConversationWithSuggestedChange:V,openMarkerOrListDialog:z,isMarkerListDialogOpen:G,closeConversationDetailsDialog:W,closeMarkerListDialog:q,selectAnnotation:Q,selectThread:Y,closeNewConversationDialog:X,returnFocusRef:J,optimizedSelectedThreadId:Z,optimizedSelectedAnnotationId:ee,threadConnectionId:et,threads:en}=ev({cellId:h,actionBarRef:f}),ei=(0,ek.S)(x?.suggestedChangesEnabled,w,H);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tm,{ref:f,className:(0,u.$)("diff-line-number",td.includes(w.type)&&"diff-line-number-neutral"),columnIndex:t,commentDialogOpen:P,handleDiffCellClick:n,handleDiffSideCellSelectionBlocking:a,firstLineNumberSelection:r,startConversation:K,style:{backgroundColor:tj(w.type,!0),textAlign:"center"},ContextMenu:(0,i.jsx)(eQ,{copilotChatReferenceData:s,showStartConversation:A,handleViewMarkersSelection:z,startConversationCurrentLine:K,startConversationWithSuggestedChange:V}),onBlur:T,onFocus:R,handleDiffCellMouseDown:B,onMouseEnter:M,onMouseLeave:F,...m,children:(0,i.jsx)("code",{children:e})}),x&&v&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(O.c7,{annotations:$,batchPending:p,batchingEnabled:x.batchingEnabled,commentingImplementation:{...x,deleteComment:({onCompleted:e,...t})=>{x&&w&&x.deleteComment({...t,onCompleted:()=>{e?.(),en.length<=1&&(W(),setTimeout(()=>f.current?.focus()))},filePath:l})}},conversationAnchorRef:f,conversationListAnchorRef:J,conversationListThreads:en,fileAnchor:k,filePath:l,isMarkerListOpen:G,repositoryId:y,returnFocusRef:J,selectedAnnotationId:ee,selectedThreadId:Z,subjectId:j,subject:b,suggestedChangesConfig:ei,threadsConnectionId:et,markerNavigationImplementation:v,onCloseConversationDialog:W,onCloseConversationList:q,onThreadSelected:Y,onAnnotationSelected:Q,viewerData:N,ghostUser:U}),(0,i.jsx)(O.cT,{addCommentDialogTitle:E,align:"start",anchorRef:f,batchPending:p,batchingEnabled:x.batchingEnabled,commentBoxConfig:x.commentBoxConfig,filePath:l,isLeftSide:!!S,isOpen:P,lineNumber:w.blobLineNumber,repositoryId:y,returnFocusRef:J,subjectId:j,suggestedChangesConfig:ei,threadsConnectionId:et,viewerData:N,onAddComment:({onCompleted:e,threadsConnectionId:t,...n})=>{if(!x||!w)return;let{leftLines:i,rightLines:a}=D;if(L){let e="left"===L.endOrientation?i:a,n=e[e.length-1];n&&(0,c.qK)(n)&&n.threadsData?.__id&&(t=n.threadsData?.__id)}x.addThread({...n,diffLine:w,selectedDiffRowRange:L,threadsConnectionId:t,onCompleted:(t,n)=>{e?.(t,n),Y(t)}})},onCloseCommentDialog:X})]})]})}function ty({ContextMenu:e,renderHunkButton:t,searchResultsForLine:n,focusedSearchResult:a}){let r=(0,o.useRef)(null),[l,s]=function(e){let[t,n]=(0,o.useState)(!1),[i,a]=(0,o.useState)(!1),r=(0,o.useCallback)(t=>{e.current&&e.current.contains(t.relatedTarget)||n(!1)},[e]),l=(0,o.useCallback)(()=>{e.current===document.activeElement&&n(!0)},[e]),s=(0,o.useCallback)(t=>{e.current&&!e.current.contains(t.relatedTarget)&&n(!1),a(!1)},[e]);return[{onFocus:l,onBlur:r},{"aria-hidden":!i,tabIndex:t?0:-1,onBlur:s,onFocusCapture:(0,o.useCallback)(e=>{e.stopPropagation(),a(!0)},[]),onKeyDownCapture:(0,o.useCallback)(e=>{E(e.key)&&e.stopPropagation()},[])}]}(r),{diffLine:d}=C();return(0,i.jsx)(tm,{ref:r,ContextMenu:e,colSpan:4,columnIndex:0,style:{backgroundColor:"var(--bgColor-accent-muted, var(--color-accent-subtle))",flexGrow:1},...l,children:(0,i.jsxs)("div",{className:"d-flex flex-row",children:[t?.(s)??(0,i.jsx)(tf,{}),(0,i.jsxs)("code",{className:"diff-text-cell hunk",children:[n&&n.length>0&&(0,i.jsx)(tr,{searchResults:n,focusedSearchResult:a,className:(0,u.$)("diff-text-inner",{"color-fg-muted":"HUNK"===d.type})}),(0,i.jsx)(ei.mo,{className:"diff-text-inner color-fg-muted",html:d.html})]})]})})}function tb({columnIndex:e,showRightBorder:t}){return(0,i.jsx)(tm,{ContextMenu:(0,i.jsx)(eY,{}),className:(0,u.$)("empty-diff-line",{"border-right":t}),columnIndex:e})}function tj(e,t=!1){switch(e){case"ADDITION":return t?"var(--diffBlob-additionNum-bgColor, var(--diffBlob-addition-bgColor-num))":"var(--diffBlob-additionLine-bgColor, var(--diffBlob-addition-bgColor-line))";case"DELETION":return t?"var(--diffBlob-deletionNum-bgColor, var(--diffBlob-deletion-bgColor-num))":"var(--diffBlob-deletionLine-bgColor, var(--diffBlob-deletion-bgColor-line))";case"HUNK":return t?"var(--diffBlob-hunkNum-bgColor-rest, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-hunkLine-bgColor, var(--bgColor-accent-muted))";case"EMPTY":return t?"var(--diffBlob-emptyNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-emptyLine-bgColor, var(--bgColor-accent-muted))";default:return}}try{tm.displayName||(tm.displayName="Cell")}catch{}try{tf.displayName||(tf.displayName="HunkKebabIcon")}catch{}try{th.displayName||(th.displayName="ContentCell")}catch{}try{tp.displayName||(tp.displayName="ContentCellUnmemoized")}catch{}try{tg.displayName||(tg.displayName="LineNumberCell")}catch{}try{tx.displayName||(tx.displayName="LineNumberCellUnmemoized")}catch{}try{ty.displayName||(ty.displayName="HunkCell")}catch{}try{tb.displayName||(tb.displayName="EmptyCell")}catch{}let tC=({summary:e,resultsForLine:t,focusedSearchResult:n,handleDiffSideCellSelectionBlocking:a,handleDiffRowClick:r,lineAnchor:l,filePath:s,copilotChatReferenceData:d,firstLineNumberSelection:c})=>{let{diffLine:u,isLeftSide:m,isSplit:f}=C(),h="ADDITION"!==u.type,p=!f||m,g=p&&!h,x="DELETION"!==u.type,y=!f||!m,b=y&&!x,j=(0,o.useCallback)(e=>{u.left&&r(e,u.left,"left",e.shiftKey,!0)},[r,u.left]),v=(0,o.useCallback)(e=>{u.left&&r(e,u.left,"left",e.shiftKey,!1)},[r,u.left]),N=(0,o.useCallback)(e=>{u.right&&r(e,u.right,"right",e.shiftKey,!0)},[r,u.right]),w=(0,o.useCallback)(e=>{u.right&&r(e,u.right,"right",e.shiftKey,!1)},[r,u.right]),k=(0,o.useCallback)(()=>{a&&a("left")},[a]),S=(0,o.useCallback)(()=>{a&&a("right")},[a]);return(0,i.jsxs)(ey,{line:u,children:[p&&(0,i.jsx)(tg,{copilotChatReferenceData:d,columnIndex:0,filePath:s,handleDiffCellClick:g?N:j,handleDiffSideCellSelectionBlocking:S,firstLineNumberSelection:c,children:h&&u.left}),y&&(0,i.jsx)(tg,{copilotChatReferenceData:d,columnIndex:f?2:1,filePath:s,handleDiffCellClick:b?j:N,handleDiffSideCellSelectionBlocking:k,firstLineNumberSelection:c,children:x&&u.right}),(0,i.jsx)(_,{children:(0,i.jsx)(th,{copilotChatReferenceData:d,columnIndex:f?m?1:3:2,filePath:s,handleDiffCellClick:m?v:w,lineAnchor:l,handleDiffSideCellSelectionBlocking:m?S:k,searchResultsForLine:t,focusedSearchResult:n,summary:e,firstLineNumberSelection:c})})]})},tv=({summary:e,resultsForLine:t,focusedSearchResult:n,fileAnchor:a,filePath:r,handleDiffRowClick:s,handleDiffSideCellSelectionBlocking:o,copilotChatReferenceData:d,firstLineNumberSelection:u})=>{let{diffLine:m,isLeftSide:f}=C();if((0,c.Po)(m))return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tb,{columnIndex:f?0:2}),(0,i.jsx)(tb,{columnIndex:f?1:3,showRightBorder:f})]});let h=f?"left":(0,l.XU)(m.type),p="left"===h?m.left:m.right,g=(0,l.IQ)(a,h,p??0);switch(m.type){case"HUNK":return null;case"ADDITION":case"DELETION":case"CONTEXT":case"INJECTED_CONTEXT":return(0,i.jsx)(tw,{copilotChatReferenceData:d,filePath:r,handleDiffRowClick:s,handleDiffSideCellSelectionBlocking:o,lineAnchor:g,resultsForLine:t,focusedSearchResult:n,summary:e,firstLineNumberSelection:u});default:throw Error(`cannot handle type ${m.type}`)}},tN=o.memo(tv),tw=o.memo(tC);try{tC.displayName||(tC.displayName="CodeDiffLineUnmemoized")}catch{}try{tv.displayName||(tv.displayName="DiffLineSideUnmemoized")}catch{}try{tN.displayName||(tN.displayName="DiffLineSide")}catch{}try{tw.displayName||(tw.displayName="CodeDiffLine")}catch{}let tk={"expand-button-line":"ExpandableHunkHeaderDiffLine-module__expand-button-line--rnQN5","expand-up-and-down":"ExpandableHunkHeaderDiffLine-module__expand-up-and-down--hCan_","expand-button-unified":"ExpandableHunkHeaderDiffLine-module__expand-button-unified--j86KQ"};function tS({direction:e,icon:t,label:n,onClick:a,ariaLabel:r,className:l,...s}){let{sendAnalyticsEvent:o}=(0,U.s)(),{isSplit:d}=C();return(0,i.jsx)("button",{onClick:()=>{a(),o("file_entry.expand_hunk","FILE_EXPANDER_BUTTON")},className:(0,u.$)("Button Button--iconOnly Button--invisible",tk["expand-button-line"],!d&&tk["expand-button-unified"],l),"aria-label":r??n,"data-direction":e,...s,children:(0,i.jsx)(t,{})})}function tL({nextLine:e,prevLine:t,resultsForLine:n,focusedSearchResult:a}){let{fileLineCount:r,diffLine:l}=C(),{expandStartOfHunk:s,expandEndOfPreviousHunk:d}=ew(),u=!t,m=!e,f=0===l.blobLineNumber,h=u||m,p=m&&l.blobLineNumber===r,g=(0,o.useMemo)(()=>!h&&!(l.blobLineNumber<=0)&&(l.blobLineNumber-t.blobLineNumber<=20||e.blobLineNumber-l.blobLineNumber>=20),[h,l,e,t]),x=(0,o.useMemo)(()=>!h&&!p&&l.blobLineNumber-t.blobLineNumber>20,[h,p,l,t]),y=(0,o.useMemo)(()=>!(l.blobLineNumber<=0)&&!f&&!!u,[u,f,l]),b=(0,o.useMemo)(()=>!u&&!p&&!!m,[u,m,p]),j=(0,o.useMemo)(()=>{switch(!0){case g:return"expand-all";case x:return"expand-up-and-down";case y:return"expand-up";case b:return"expand-down"}},[g,x,y,b]),v=()=>s(),N=()=>d(),w=()=>s();return(0,i.jsx)(ty,{searchResultsForLine:n,focusedSearchResult:a,renderHunkButton:n=>{switch(j){case"expand-all":return(0,i.jsx)(tS,{...n,direction:"all",icon:$.UnfoldIcon,label:`Expand file from line ${t?.blobLineNumber||""} to line ${e?.blobLineNumber||""}`,onClick:w});case"expand-up-and-down":return(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)(tS,{...n,direction:"down",icon:$.FoldDownIcon,label:`Expand file down from line ${t?.blobLineNumber||""}`,className:tk["expand-up-and-down"],onClick:N}),(0,i.jsx)(tS,{...n,direction:"up",icon:$.FoldUpIcon,label:`Expand file up from line ${e?.blobLineNumber||""}`,className:tk["expand-up-and-down"],onClick:v})]});case"expand-up":return(0,i.jsx)(tS,{...n,direction:"up",icon:$.FoldUpIcon,label:`Expand file up from line ${e?.blobLineNumber||""}`,onClick:v});case"expand-down":return(0,i.jsx)(tS,{...n,direction:"down",icon:$.FoldDownIcon,label:`Expand file down from line ${t?.blobLineNumber||""}`,onClick:N});default:return null}},ContextMenu:(0,i.jsx)(tD,{handleCopyContent:()=>{let[e]=(0,c._S)((0,c.ZC)(l.html),l.type);(0,en.D)(e)},handleExpandAbove:v,handleExpandAll:w,handleExpandBelow:N,shouldCopyContent:!!l.html,shouldExpandAbove:x||y,shouldExpandBelow:x||b})})}function tD({shouldExpandBelow:e,shouldExpandAbove:t,shouldCopyContent:n,handleExpandAll:a,handleExpandBelow:r,handleExpandAbove:l,handleCopyContent:s}){let o={includeShiftKey:!0,key:"["},d={key:"]"},u={key:"["},m={key:"C"};return(0,i.jsx)(eo.W.Overlay,{width:"medium",children:(0,i.jsxs)(ed.l,{children:[(0,i.jsxs)(ed.l.Item,{"aria-keyshortcuts":(0,c.oE)(o),onSelect:a,children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)($.UnfoldIcon,{})}),"Expand all",(0,i.jsx)(ed.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${(0,c.pI)(o)}`})})]}),t?(0,i.jsxs)(ed.l.Item,{"aria-keyshortcuts":(0,c.oE)(d),onSelect:l,children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)($.FoldUpIcon,{})}),"Expand above",(0,i.jsx)(ed.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${(0,c.pI)(d)}`})})]}):null,e?(0,i.jsxs)(ed.l.Item,{"aria-keyshortcuts":(0,c.oE)(u),onSelect:r,children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)($.FoldDownIcon,{})}),"Expand below",(0,i.jsx)(ed.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${(0,c.pI)(u)}`})})]}):null,(0,i.jsx)(e6,{}),n?(0,i.jsxs)(ed.l.Item,{"aria-keyshortcuts":(0,c.oE)(m),onSelect:s,children:[(0,i.jsx)(ed.l.LeadingVisual,{children:(0,i.jsx)($.CopyIcon,{})}),"Copy",(0,i.jsx)(ed.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${(0,c.pI)(m)}`})})]}):null]})})}try{tS.displayName||(tS.displayName="ExpandButtonLine")}catch{}try{tL.displayName||(tL.displayName="ExpandableHunkHeaderDiffLine")}catch{}try{tD.displayName||(tD.displayName="HunkContextMenu")}catch{}let tI=(0,o.memo)(function({searchResults:e,diffContext:t="pr",focusedSearchResult:n,clearSelectedDiffRowRange:a,diffEntryId:r,diffLines:l,fileAnchor:s,fileLineCount:d,filePath:u,handleDiffRowClick:m,handleDiffSideCellSelectionBlocking:f,replaceSelectedDiffRowRangeFromGridCells:h,selectedDiffRowRange:p,setInGridMode:g,tableRef:b,updateDiffLines:C,updateSelectedDiffRowRange:w,copilotChatReferenceData:k,inGridMode:S,firstLineNumberSelection:L}){let{leftLines:D,rightLines:I}=function(e){let t=e.reduce((e,t)=>e+(t.threadsData?.totalCount??0),0)??0,{leftLines:n,rightLines:i}=(0,o.useMemo)(()=>(function(e){let t=[],n=[],i=()=>{for(;t.length<n.length;)t.push(T.V);for(;n.length<t.length;)n.push(T.V)};for(let a of e)switch(a.type){case"ADDITION":n.push(a);break;case"DELETION":t.push(a);break;case"CONTEXT":case"INJECTED_CONTEXT":i();let[e,r]=[{...a,threadsData:void 0,annotationsData:void 0},{...a,threadsData:a.threadsData?{...a.threadsData,threads:a.threadsData.threads,totalCommentsCount:a.threadsData.totalCommentsCount,totalCount:a.threadsData.totalCount}:void 0}];t.push(e),n.push(r);break;case"HUNK":i(),t.push(a),n.push(a)}return i(),{leftLines:t,rightLines:n}})(e),[e,t]);return{leftLines:n,rightLines:i}}(l),{ghostUser:E}=em();A({clearSelectedDiffRowRange:a,containerRef:b,fileAnchor:s,isSplitDiff:!0,leftLines:D,replaceSelectedDiffRowRangeFromGridCells:h,rightLines:I,selectedDiffRowRange:p,updateSelectedDiffRowRange:w,disabled:!S});let R=(0,o.useMemo)(()=>{if(p)return(0,N.A)({selectedDiffRowRange:p,leftLines:D,rightLines:I,isNumberCell:!0})},[p,D,I]);(0,o.useEffect)(()=>{C(s,l)},[l,s,C]);let _=(0,o.useMemo)(()=>y(D),[D]),F=new Map,O=new Map,M=new Map;for(let t=0;t<(e?.length??0);t++){let n=e?.[t];n&&(F.has(n.leftLineNumber)?F.get(n.leftLineNumber)?.push(n):-1!==n.leftLineNumber&&F.set(n.leftLineNumber,[n]),M.has(n.hunkLineNumber)?M.get(n.hunkLineNumber)?.push(n):n.isHunk&&M.set(n.hunkLineNumber,[n]),O.has(n.rightLineNumber)?O.get(n.rightLineNumber)?.push(n):-1!==n.rightLineNumber&&O.set(n.rightLineNumber,[n]))}let B=[];for(let e=0;e<D.length;e++){let a=D[e],l=I[e],h=D[e-1],p=(0,c.Po)(D[e+1])?I[e+1]:D[e+1],y=(0,c.qK)(a)&&"HUNK"===a.type,b=(0,c.qX)(s,a,l),C=(0,c.Po)(a)?(0,c.Po)(l)?void 0:l:a;if(!C)continue;let N=(0,c.Po)(a)?void 0:a.threadsData,w=(0,c.Po)(l)?void 0:l.threadsData,{currentHunk:S,nextHunk:A,previousHunk:T}=x(C,_),U=F.get((0,c.Po)(a)?-2:a.left??-2),$=O.get((0,c.Po)(l)?-2:l.right??-2),P=M.get(C.blobLineNumber),H=P?.[0]?.rightLineNumber===l?.right?n:void 0,K=U?.[0]?.leftLineNumber===a?.left?n:void 0,V=$?.[0]?.rightLineNumber===l?.right?n:void 0,z=tl(a,l,"LEFT"),G=tl(a,l,"RIGHT"),W=v(w,E),q=v(N,E),Q={currentHunk:S,diffEntryId:r,fileAnchor:s,fileLineCount:d,filePath:u,isRowSelected:(R?.isRowSelected(a)||R?.isRowSelected(l))??!1,modifiedLineThreadsConnectionId:w?.__id,nextHunk:A,originalLineThreadsConnectionId:N?.__id,previousHunk:T,rowId:b,isSplit:!0,diffContext:t,setInGridMode:g};B.push((0,i.jsx)(o.Fragment,{children:(0,i.jsx)("tr",{className:"diff-line-row",children:y?(0,i.jsx)(j,{...Q,diffLine:C,modifiedLineThreads:W,originalLineThreads:q,children:(0,i.jsx)(tL,{nextLine:p,prevLine:h,focusedSearchResult:H,resultsForLine:P})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(j,{...Q,diffLine:a,isLeftSide:!0,children:(0,i.jsx)(tN,{summary:z,copilotChatReferenceData:k,fileAnchor:s,filePath:u,handleDiffRowClick:m,handleDiffSideCellSelectionBlocking:f,resultsForLine:U,focusedSearchResult:K,firstLineNumberSelection:L})}),(0,i.jsx)(j,{...Q,diffLine:l,children:(0,i.jsx)(tN,{summary:G,copilotChatReferenceData:k,fileAnchor:s,filePath:u,handleDiffRowClick:m,handleDiffSideCellSelectionBlocking:f,resultsForLine:$,focusedSearchResult:V,firstLineNumberSelection:L})})]})})},b))}return(0,i.jsx)(i.Fragment,{children:B})});try{tI.displayName||(tI.displayName="SplitDiffLines")}catch{}let tE=(0,o.memo)(function({searchResults:e,diffContext:t="pr",focusedSearchResult:n,clearSelectedDiffRowRange:a,diffEntryId:r,diffLines:s,fileLineCount:d,fileAnchor:u,filePath:m,tableRef:f,selectedDiffRowRange:h,handleDiffRowClick:p,updateDiffLines:g,updateSelectedDiffRowRange:b,replaceSelectedDiffRowRangeFromGridCells:C,copilotChatReferenceData:v,setInGridMode:w,inGridMode:k,firstLineNumberSelection:S}){A({clearSelectedDiffRowRange:a,containerRef:f,fileAnchor:u,isSplitDiff:!1,leftLines:s,replaceSelectedDiffRowRangeFromGridCells:C,selectedDiffRowRange:h,updateSelectedDiffRowRange:b,disabled:!k});let L=(0,o.useMemo)(()=>{if(h)return(0,N.A)({selectedDiffRowRange:h,leftLines:s,isNumberCell:!0})},[h,s]),D=(0,o.useMemo)(()=>y(s.map(e=>e)),[s]);(0,o.useEffect)(()=>{g(u,s)},[s,u,g]);let I=new Map;for(let t=0;t<(e?.length??0);t++){let n=e?.[t];n&&(e&&I.has(n.diffLineNumIndex)?I.get(n.diffLineNumIndex)?.push(n):e&&I.set(n.diffLineNumIndex,[n]))}let E=s.map((e,a)=>{let f=s[a+1],h=s[a-1],g="HUNK"===e.type,y=(0,l.IQ)(u,(0,l.XU)(e.type),e.blobLineNumber),{currentHunk:b,nextHunk:C,previousHunk:N}=x(e,D),k=I.get(a),E=a===k?.[0]?.diffLineNumIndex?n:void 0,A=tl(e,e,"RIGHT"),T=L?.isRowSelected(e)??!1,R=(0,c.qX)(u,e,e),_={diffEntryId:r,diffLine:e,currentHunk:b,fileAnchor:u,fileLineCount:d,filePath:m,isLeftSide:"DELETION"===e.type,isRowSelected:T,isSplit:!1,nextHunk:C,previousHunk:N,diffContext:t,rowId:R,setInGridMode:w};return(0,i.jsx)(o.Fragment,{children:(0,i.jsx)("tr",{className:"diff-line-row",children:(0,i.jsx)(j,{..._,children:g?(0,i.jsx)(tL,{nextLine:f,prevLine:h,focusedSearchResult:E,resultsForLine:k},a):(0,i.jsx)(tw,{filePath:m,copilotChatReferenceData:v,handleDiffRowClick:p,firstLineNumberSelection:S,lineAnchor:y,resultsForLine:k,focusedSearchResult:E,summary:A},a)})})},a)});return(0,i.jsx)(i.Fragment,{children:E})});try{tE.displayName||(tE.displayName="UnifiedDiffLines")}catch{}let tA={tableLayoutFixed:"DiffLines-module__tableLayoutFixed--YZcIJ",compact:"DiffLines-module__compact--wEEom"};var tT=n(35967),tR=n(58748);let t_={overlay:"SelectedDiffLinesOverlay-module__overlay--mWvvK",overlayOpacity:"SelectedDiffLinesOverlay-module__overlayOpacity--B9iKM"};var tF=n(8258);function tO({tableRef:e}){let[t,n]=(0,o.useState)(null),{selectedDiffRowRange:a}=(0,d.o)(),r=(0,o.useCallback)(()=>{if(!e.current)return;let t=a?e.current.querySelectorAll('td[data-selected="true"]'):[],i=e.current.getAttribute("data-diff-anchor"),r=to.fV.hash.substring(1),l=(0,tF.ZD)(r);if(0===t.length||i!==l?.diffAnchor){n(null);return}let s=(function(e){let t=e.parentNode;for(;null!==t;){if(t instanceof HTMLElement&&"static"!==getComputedStyle(t).position)return t;t=t.parentNode}return document.body})(e.current).getBoundingClientRect(),o=0,d=Number.MAX_SAFE_INTEGER,c=0,u=Number.MAX_SAFE_INTEGER;for(let e of t){let t=e.getBoundingClientRect();o=Math.max(o,t.bottom-s.top),d=Math.min(d,t.left-s.left),c=Math.max(c,t.right-s.left),u=Math.min(u,t.top-s.top)}n({left:d-1,height:o-u,top:u-1,width:c-d+2})},[a,e]);return((0,tT.N)(()=>{to.cg?.requestAnimationFrame(()=>{r()})},[e,r]),(0,tT.N)(()=>{let e=()=>{to.cg?.requestAnimationFrame(()=>{r()})};return window.addEventListener("hashchange",e),()=>{window.removeEventListener("hashchange",e)}},[r,e]),(0,tR.w)(r,e),t)?(0,i.jsx)("div",{className:(0,u.$)("position-absolute","borderColor-accent-emphasis",t_.overlay),style:t,children:(0,i.jsx)("div",{className:(0,u.$)("width-full","height-full","bgColor-accent-emphasis",t_.overlayOpacity)})}):null}try{tO.displayName||(tO.displayName="SelectedDiffLinesOverlay")}catch{}function tM({diffAnchor:e,children:t}){return(0,i.jsx)("div",{className:"fgColor-muted p-2","data-diff-anchor":e,children:t})}let tB=(0,o.memo)(function({searchResults:e,diffContext:t="pr",focusedSearchResult:n,diffEntryData:r,diffLinesManuallyUnhidden:l,baseHelpUrl:o,onHandleLoadDiff:c,copilotChatReferenceData:u,...m}){let f=`diff-${r.pathDigest}`;if(r.isBinary)return(0,i.jsx)(tM,{diffAnchor:f,children:"Binary file not shown."});if((0,a.dK)(r))return(0,i.jsx)(tM,{diffAnchor:f,children:"File renamed without changes."});if((0,a.Jc)(r))return(0,i.jsx)(tM,{diffAnchor:f,children:"File copied without changes."});if((0,a.Sn)(r,r.status,r.oldTreeEntry?.mode,r.newTreeEntry?.mode))return(0,i.jsx)(tM,{diffAnchor:f,children:"File mode changed."});if((0,a.HI)(r))return(0,i.jsx)(tM,{diffAnchor:f,children:(0,a.l_)(r.truncatedReason)});if((0,a.s8)(r))return(0,i.jsx)(tM,{diffAnchor:f,children:"Whitespace-only changes."});if(!l&&(0,a.lO)(r))return(0,i.jsx)(h,{diffAnchor:f,onLoadDiff:c,children:"This file was deleted."});if(!l&&(0,a.xW)(r))return(0,i.jsxs)(h,{diffAnchor:f,helpText:"customizing how changed files appear on GitHub.",helpUrl:`${o}/github/administering-a-repository/customizing-how-changed-files-appear-on-github`,onLoadDiff:c,children:["Some generated files are not rendered by default. Learn more about"," "]});if(r.isTooBig){if("commit"===t&&0===r.diffLines.length)return l?(0,i.jsxs)(tM,{diffAnchor:f,children:["Diff is too big to render. To view,"," ",(0,i.jsx)(s.A,{inline:!0,href:`${o}/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally`,children:"check out this pull request locally."})]}):(0,i.jsx)(h,{diffAnchor:f,onLoadDiff:c,children:"Large diffs are not rendered by default."});if("pr"===t)return r.diffLines.length>0?(0,i.jsx)(h,{diffAnchor:f,onLoadDiff:c,children:"Large diffs are not rendered by default."}):(0,i.jsxs)(tM,{diffAnchor:f,children:["Diff is too big to render. To view,"," ",(0,i.jsx)(s.A,{inline:!0,href:`${o}/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally`,children:"check out this pull request locally."})]})}return r.diffLines?(0,i.jsx)(eu,{...m,children:(0,i.jsx)(d.Y,{children:(0,i.jsx)(tU,{diffAnchor:f,diffContext:t,diffEntryData:r,viewerData:m.viewerData,focusedSearchResult:n,searchResults:e,copilotChatReferenceData:u})})}):null});function tU({diffAnchor:e,viewerData:t,diffEntryData:n,searchResults:a,focusedSearchResult:s,copilotChatReferenceData:m,diffContext:f}){let h=(0,o.useRef)(null),[g,x]=(0,o.useState)(!0),[y,b]=(0,o.useState)(null),j=n.newTreeEntry?.lineCount??n.oldTreeEntry?.lineCount??0,C=(0,o.useMemo)(()=>{let e=n.diffLines[n.diffLines.length-1];return e?.blobLineNumber&&e.blobLineNumber<j?n.diffLines.concat({__id:p.finalLineId,blobLineNumber:e.blobLineNumber+1,left:null,right:null,type:"HUNK",html:"",text:""}):n.diffLines},[n.diffLines,j]),{diffViewPreference:v,lineSpacingPreference:N,tabSizePreference:w}=t,{selectedDiffRowRange:k,replaceSelectedDiffRowRange:S,replaceSelectedDiffRowRangeFromGridCells:L,clearSelectedDiffRowRange:D,updateDiffLines:I,updateSelectedDiffRowRange:E}=(0,d.o)(),A=(0,o.useCallback)(e=>{if(!h.current||!e.target)return;let t=e.target,n=t.closest("td.diff-line-number"),i=h.current.contains(t);n&&!i&&(D(),M.current=null)},[D,h]);(0,o.useEffect)(()=>(to.XC?.addEventListener("mousedown",A),()=>{to.XC?.removeEventListener("mousedown",A)}),[A]);let T=e===k?.diffAnchor;(0,o.useEffect)(()=>{if(!T)return;let e=(0,c.On)(k,C);e&&e!==k&&S(e)},[C,k,T,S]);let R=to.cg?.location.search,_=(0,o.useMemo)(()=>"split"===new URLSearchParams(R).get("diff")||"split"===v,[R,v]),F=(0,l.c7)(C),O=(0,o.useCallback)(e=>{b(e)},[b]),M=(0,o.useRef)(null),B=(0,o.useCallback)((t,n,i,a,r)=>{!function(e){let t=document.getElementById("__primerPortalRoot__");return!!t&&!!e&&t.contains(e)}(t.target)&&!t.defaultPrevented&&r&&E(e,n,i,a,r)},[e,E]),U={searchResults:a,diffContext:f,focusedSearchResult:s,clearSelectedDiffRowRange:D,diffEntryId:n.objectId,diffLines:C,fileAnchor:e,fileLineCount:j,filePath:n.path,handleDiffRowClick:B,handleDiffSideCellSelectionBlocking:O,replaceSelectedDiffRowRangeFromGridCells:L,selectedDiffRowRange:T?k:null,tableRef:h,updateDiffLines:I,updateSelectedDiffRowRange:E,copilotChatReferenceData:m,setInGridMode:x,inGridMode:g,firstLineNumberSelection:M};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tO,{tableRef:h}),(0,i.jsx)("table",{ref:h,className:(0,u.$)("tab-size","width-full",tA.tableLayoutFixed,{[tA.compact]:"compact"===N}),"data-block-diff-cell-selection":y,"data-diff-anchor":e,"data-tab-size":w,"data-paste-markdown-skip":!0,role:"grid",style:{"--line-number-cell-width":`${F}px`,"--line-number-cell-width-unified":`${2*parseFloat(F)}px`},children:_?(0,i.jsx)(r.wj,{lineWidth:F,children:(0,i.jsx)(tI,{...U})}):(0,i.jsx)(r.Qe,{lineWidth:F,children:(0,i.jsx)(tE,{...U})})})]})}try{tM.displayName||(tM.displayName="PlainTextStatus")}catch{}try{tB.displayName||(tB.displayName="DiffLines")}catch{}try{tU.displayName||(tU.displayName="CodeDiffLines")}catch{}var t$=n(67138),tP=n(30729);let tH={defaultStyles:"DiffFind-module__defaultStyles--gxyWR"},tK=(0,o.memo)(function({currentPathDigestIndex:e,searchTerm:t,searchResults:n,setSearchTerm:a,focusedSearchResult:r,currentIndex:l,setCurrentIndex:s,setFocusedSearchResult:d,scrollDiffCellIntoView:c}){let u=(0,o.useRef)([]),m=(0,o.useRef)(0),f=()=>{a(""),d(void 0),e.current=0},h=(0,i.jsxs)("div",{className:"d-flex flex-row flex-justify-center flex-items-center",children:[t&&(0,i.jsxs)("span",{className:"text-small fgColor-subtle m-2 text-center",children:[0===n.size||void 0===r?0:l+1,"/",m.current]}),!t&&(0,i.jsx)("span",{className:"text-small fgColor-subtle m-2 text-center pr-4",children:"\xa0"}),t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(V.K,{size:"small",variant:"invisible",onClick:()=>{p(-1)},icon:$.ChevronUpIcon,"aria-label":"Up","data-testid":"up-search"}),(0,i.jsx)(V.K,{size:"small",variant:"invisible",onClick:()=>{p(1)},icon:$.ChevronDownIcon,"aria-label":"Down","data-testid":"down-search"})]})]}),p=t=>{if(void 0===r||""===r.pathDigest){e.current=0,d({pathDigest:u.current[0]??"",indexWithinDigest:0});return}1===t?(s(l===m.current-1?0:l+1),r.indexWithinDigest===n.get(r.pathDigest).length-1?(e.current=e.current+1,e.current===u.current.length&&(e.current=0),r.pathDigest=u.current[e.current]??"",r.indexWithinDigest=0):r.indexWithinDigest=r.indexWithinDigest+1):(s(0===l?m.current-1:l-1),0===r.indexWithinDigest?(e.current=e.current-1,-1===e.current&&(e.current=u.current.length-1),r.pathDigest=u.current[e.current]??"",r.indexWithinDigest=n.get(r.pathDigest).length-1):r.indexWithinDigest=r.indexWithinDigest-1),d(r)};return(0,o.useEffect)(()=>{u.current=Array.from(n.keys()),e.current=0,d({pathDigest:u.current[0]??"",indexWithinDigest:0});let t=0;for(let e of n.values())t+=e.length;m.current=t},[e,n,n.size,d]),(0,o.useEffect)(()=>{n.size>0&&void 0!==r&&c(r)},[n,r,l]),(0,i.jsxs)("div",{className:tH.defaultStyles,children:[(0,i.jsx)(ea.ak,{commands:{"pull-requests-diff-view:jump-to-next-result-alternate":()=>p(1),"pull-requests-diff-view:jump-to-previous-result-alternate":()=>p(-1)}}),(0,i.jsx)(ea.tL,{commands:{"pull-requests-diff-view:jump-to-next-result":()=>p(1),"pull-requests-diff-view:jump-to-previous-result":()=>p(-1)},children:(0,i.jsx)(t$.A,{className:"border-0 box-shadow-none",style:{width:"100%"},validationStatus:m.current>1e3?"error":void 0,type:"text",leadingVisual:()=>(0,i.jsx)(tP.A,{icon:$.SearchIcon,"aria-hidden":"true"}),autoComplete:"off",name:"Find in commit input","aria-label":"Search within code",placeholder:"Search within code",value:t,onChange:e=>{e.target.value?(a(e.target.value),s(0)):f()},block:!0,trailingAction:h})})]})});try{tK.displayName||(tK.displayName="DiffFind")}catch{}var tV=n(55702);function tz({dependencyDiffPath:e,fileRendererInfo:t,proseDiffHtml:n,loading:a}){return a?(0,i.jsx)("div",{className:"d-flex flex-justify-center p-4",children:(0,i.jsx)(z.A,{size:"large"})}):n?(0,i.jsx)("div",{className:"prose-diff position-relative",children:(0,i.jsx)(ei.oG,{html:n})}):t?(0,i.jsx)(tV.default,{...t}):e?(0,i.jsx)("include-fragment",{src:e,children:(0,i.jsxs)("div",{className:"text-center py-3",children:[(0,i.jsx)(z.A,{size:"medium"}),(0,i.jsx)("p",{className:"color-fg-muted my-2",children:"Loading Dependency Review..."})]})}):(0,i.jsx)("div",{className:"d-flex flex-justify-center p-4",children:"This rich diff is not supported at the moment."})}try{tz.displayName||(tz.displayName="RichDiff")}catch{}let tG=(0,o.createContext)({diffFindOpen:!1,setDiffFindOpen:()=>void 0});function tW({children:e,searchTerm:t,setSearchTerm:n}){let a=(0,o.useRef)(""),[r,l]=(0,o.useState)(!1),s=(0,o.useCallback)(e=>{e&&""===t&&""!==a.current?n(a.current):e||""===t||(a.current=t,n("")),l(e)},[t,n]),d=(0,o.useMemo)(()=>({diffFindOpen:r,setDiffFindOpen:s}),[r,s]);return(0,i.jsx)(tG.Provider,{value:d,children:e})}try{tG.displayName||(tG.displayName="DiffFindOpenContext")}catch{}try{tW.displayName||(tW.displayName="DiffFindOpenProvider")}catch{}var tq=n(66256),tQ=n(35524);function tY({data:e}){let{query:t,diffEntryInfo:n,currentDiffEntryData:i}=e;return{matchingDiffs:i?function(e,t,n){if(0===n.size)return new Map;let i=n.size>=200,a={},r=e.reduce((n,i,r)=>{if(a[r])return n;a[r]=!0;let l=tZ(t,[e[r]]),s=l.next();for(;!s.done&&n.size<200;){let{resultsWithinDiff:t}=s.value;n.set(e[r]?.pathDigest??"",t),s=l.next()}return n},new Map);if(r.size<200&&i){let n=tZ(t,e,r.size),i=n.next();for(;!i.done&&r.size<200;){let{resultsWithinDiff:t,diff:a}=i.value;r.set(e[a]?.pathDigest??"",t),i=n.next()}}return r}(n,tJ(t),i):function(e,t){let n=new Map,i=tZ(t,e),a=i.next();for(;!a.done&&n.size<200;){let{resultsWithinDiff:t,diff:r}=a.value;n.set(e[r]?.pathDigest??"",t),a=i.next()}return n}(n,tJ(t)),query:t}}let tX={Text:"Text"};function tJ(e){let t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{kind:tX.Text,regexp:RegExp(t,"gi")}}function*tZ(e,t,n=0){for(let i=n;i<t.length;i++){let n=t[i],a=[],r=0;for(let l=0;l<n.diffLines.length;l++){let s,o;s=t[i]?.diffLines[l]?.type==="HUNK"?n.diffLines[l]?.text:n.diffLines[l]?.text?.substring(1);let d=n.diffLines[l];for(;s&&null!==(o=e.regexp.exec(s));){let e=o[0],t=o.index;a.push({pathDigest:n.pathDigest,indexWithinPathDigest:r,matchContent:e,column:t,diffLineNumIndex:l,isHunk:d?.type==="HUNK",hunkLineNumber:d?.blobLineNumber??-1,leftLineNumber:d?.type!=="ADDITION"?d?.left??-1:-1,rightLineNumber:d?.type!=="DELETION"?d?.right??-1:-1,columnEnd:t+e.length,text:s}),r++}}0!==a.length&&(yield{diff:i,resultsWithinDiff:a})}}function t0(e,t,n,i){let[a,r]=(0,o.useState)(new Map),[l,s]=(0,o.useState)(void 0),[d,c]=(0,o.useState)(0),u=o.useRef();!u.current&&t&&(u.current=new tQ.N(new tq.z(n,tY),200,e=>1!==e.query.length));let m=(0,o.useRef)(t);m.current=t;let f=(0,o.useRef)("");(0,o.useEffect)(()=>function(){u.current?.terminate()},[]);let h=(0,o.useRef)([]);return u.current&&e!==h.current&&(u.current.onResponse=e=>{e.query===m.current&&(r(e.matchingDiffs),f.current=m.current)},h.current=e),(0,o.useEffect)(()=>{if(!e||!u.current||!f.current||""===f.current){r(new Map),s(void 0);return}r(new Map),s(void 0),u.current.post({query:f.current,diffEntryInfo:e,currentDiffEntryData:void 0})},[e?.length,e]),(0,o.useEffect)(()=>{if(e&&u.current){if(""===t)r(new Map),s(void 0),c(0),f.current="";else{if(!(t.length>0&&t.length<=1e3))return;let n=f.current.length>0&&t.startsWith(f.current);u.current.post({query:t,diffEntryInfo:e,currentDiffEntryData:n?a:void 0}),c(0)}}},[t,i]),{focusedSearchResult:l,setFocusedSearchResult:s,searchResults:a,currentIndex:d,setCurrentIndex:c}}},66760:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(18571),a=n(77134);function r({selectedDiffRowRange:e,leftLines:t,rightLines:n,isNumberCell:r}){let l=!!n,{startOrientation:s,endOrientation:o}=e;if(e.startLineNumber===e.endLineNumber&&e.startOrientation===e.endOrientation&&!r)return{isRowSelected:()=>!1,selectedRightLines:[],selectedLeftLines:[]};let d=f(s).findIndex(t=>(0,a.a2)(t,e.startLineNumber,e.startOrientation)),c=f(o).findIndex(t=>(0,a.a2)(t,e.endLineNumber,e.endOrientation)),u=d>=0&&c>=0;function m(e){if(!u||(0,a.Po)(e))return!1;let t=f((0,i.XU)(e.type)).indexOf(e);return t>=d&&t<=c}function f(e){return l&&"left"!==("string"==typeof e?e:(0,i.XU)(e.type))?n:t}let h=f("left").filter(e=>m(e)),p=f("right").filter(e=>m(e));return{isRowSelected:m,selectedRightLines:p,selectedLeftLines:h}}},8258:(e,t,n)=>{function i(e,t){return`${"left"===t?"L":"R"}${e}`}function a(e){let t=e.match(/^#?(diff-[a-f0-9]+)/);return t?.[1]}function r(e){let t=e.match(/^#?(r\d+)/),n=t?.[1];return n?parseInt(n.slice(1)):void 0}function l(e){let t=e.match(/^#annotation_(\d+)/),n=t?.[1];return n?parseInt(n):void 0}function s(e){let t=function(e){let t=e.match(/^#?(diff-[a-f0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);if(null!=t&&6===t.length)return t;let n=e.match(/^#?(discussion-diff-[0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);return null!=n&&6===n.length?n:null}(e);if(t){let e=t[1],n=t[2]?"L"===t[2]?"left":"right":void 0,i=t[3]?parseInt(t[3]):void 0;if(!e||!n||void 0===i)return;return{diffAnchor:e,startOrientation:n,startLineNumber:i,endOrientation:(t[4]?"L"===t[4]?"left":"right":void 0)??n,endLineNumber:(t[5]?parseInt(t[5]):void 0)??i,firstSelectedLineNumber:i,firstSelectedOrientation:n}}}function o(e){!function(e){let t=`#${e}`;if(t===window.location.hash)return;let n=window.location.href;history.replaceState({...history.state},"",t),window.dispatchEvent(new HashChangeEvent("hashchange",{newURL:window.location.href,oldURL:n}))}(d(e))}function d(e){let t=i(e.startLineNumber,e.startOrientation),n=`${e.diffAnchor}${t}`;if(e.endLineNumber!==e.startLineNumber||e.endOrientation!==e.startOrientation){let t=i(e.endLineNumber,e.endOrientation);n+=`-${t}`}return n}n.d(t,{Dd:()=>r,N0:()=>l,ZD:()=>s,i8:()=>o,j$:()=>d,pd:()=>a})},77134:(e,t,n)=>{n.d(t,{Ji:()=>f,Ls:()=>w,Mk:()=>p,On:()=>o,Po:()=>u,S4:()=>b,YY:()=>j,ZC:()=>g,_S:()=>h,a1:()=>N,a2:()=>s,j2:()=>x,oE:()=>C,pI:()=>y,qK:()=>m,qX:()=>d,u6:()=>c});var i=n(18571),a=n(3019),r=n(33577),l=n(8258);function s(e,t,n){return"left"===n?!u(e)&&e.left===t:!u(e)&&(0,i.XU)(e.type)===n&&e.right===t}function o(e,t){if(!e)return;if(!t)return e;let n=!1,i=!1,a=!1;for(let r of t)if(r&&(i||(i=s(r,e.startLineNumber,e.startOrientation)),a||(a=s(r,e.endLineNumber,e.endOrientation)),(n=a&&!i)||i&&a))break;return n?{...e,startLineNumber:e.endLineNumber,startOrientation:e.endOrientation,endLineNumber:e.startLineNumber,endOrientation:e.startOrientation}:e}function d(e,t,n){let i=`-${u(t)||"number"!=typeof t.left?"empty":t.left}`,a=n?`-${u(n)||"number"!=typeof n.right?"empty":n.right}`:"";return`${e}${i}${a}`}function c(e,t){return`${e}-${t}`}function u(e){return!!e&&e===r.V}function m(e){return!!e&&e!==r.V}function f(e){return"CONTEXT"===e.type}function h(e,t){let n;switch(t){case"ADDITION":n="+";break;case"DELETION":n="-";break;case"CONTEXT":case"INJECTED_CONTEXT":n=" "}if(!n||!e.startsWith(n))return[e,void 0];let i=e[0];return[e.substring(1),i]}function p(e){let t=[],n=[],i=()=>{for(;t.length<n.length;)t.push(r.V);for(;n.length<t.length;)n.push(r.V)};for(let a of e)switch(a.type){case"ADDITION":n.push(a);break;case"DELETION":t.push(a);break;case"CONTEXT":case"INJECTED_CONTEXT":case"HUNK":i(),t.push(a),n.push(a)}return i(),{leftLines:t,rightLines:n}}function g(e){return new DOMParser().parseFromString(e,"text/html").documentElement.textContent||""}function x({line:e,range:t,fileAnchor:n}){let i;let{origin:a,pathname:r}=window.location;if(t?i=(0,l.j$)(t):e&&(i=function(e,t){let n=["HUNK","CONTEXT","INJECTED_CONTEXT","DELETION"].includes(e.type),i=n?e.left:e.right,a=n?"left":"right";if(null!==i)return(0,l.j$)({diffAnchor:t,endLineNumber:i,endOrientation:a,startLineNumber:i,startOrientation:a,firstSelectedLineNumber:i,firstSelectedOrientation:a})}(e,n)),i)return`${a}${r}#${i}`}function y({includeControlKey:e=!0,includeShiftKey:t,includeOptionKey:n,key:i}){let r=e?`${(0,a.U0)()?"\u2318":"Ctrl + "}`:"";return n&&(r+=`${(0,a.U0)()?"\u2325":"Alt + "}`),t&&(r+=`${(0,a.U0)()?"\u21E7":"Shift + "}`),r+=i}function b({hasThreads:e}){return e?"96px":"30px"}function j({shouldAlignRight:e,lineSpacingPreference:t}){return e?"compact"===t?"12px":"11px":"40px"}function C({includeControlKey:e=!0,includeShiftKey:t,includeOptionKey:n,key:i}){let r="";return e&&(r+=(0,a.U0)()?"Command+":"Control+"),n&&(r+=(0,a.U0)()?"Option+":"Alt+"),t&&(r+="Shift+"),r+=i}let v=["ADDITION","DELETION","CONTEXT"],N=(e,t)=>{if(!e)return!1;let n=t.leftLines.concat(t.rightLines);return n.length>0&&n.includes(e)?n.every(e=>!u(e)&&v.includes(e.type)):!u(e)&&v.includes(e.type)},w=e=>e?e.filter(e=>!u(e)).map(e=>{let[t]=h(g(e.html),e.type);return t}).join("\n"):""},3616:(e,t,n)=>{n.d(t,{K:()=>r});var i=n(35967),a=n(96540);let r=e=>{let t=(0,a.useRef)(e);return(0,i.N)(()=>(t.current=e,()=>t.current=null),[e]),(0,a.useCallback)((...e)=>t.current?.(...e),[])}},26938:(e,t,n)=>{n.d(t,{S:()=>c,n:()=>d});var i=n(96540),a=n(75656),r=n(77134),l=n(36619),s=n(3616),o=n(75388);function d(e){let t=(0,o.Lm)(e),n=(e.subject?.diffLines??[]).filter(e=>t?e.left&&e.left>=t.startLineNumber&&e.left<=t.endLineNumber||e.right&&e.right>=t.startLineNumber&&e.right<=t.endLineNumber:[]),i=n.every(e=>"DELETION"!==e.type),a=n?.map(e=>r._S(e.text,e.type)[0]).join("\n");return{isValidSuggestionRange:n.length>0&&!!i,showSuggestChangesButton:!1,sourceContentFromDiffLines:a,onInsertSuggestedChange:()=>{},shouldInsertSuggestedChange:!1}}function c(e,t,n){let{sendAnalyticsEvent:o}=(0,l.s)(),{getDiffLinesFromLineRange:d,selectedDiffRowRange:c}=(0,a.o)(),u=(0,s.K)(function(n,i){if(!e)return;let a=function(e){if(!e)return"DELETION"!==t.type;if("right"===e.startOrientation&&"right"===e.endOrientation)return!0;if(e.startLineNumber===e.endLineNumber&&e.startOrientation===e.endOrientation)return"DELETION"!==t.type;let n=d(e)?.selectedLeftLines;return!!n?.every(e=>"empty-diff-line"!==e&&"DELETION"!==e.type)}(n);return{isValidSuggestionRange:a,showSuggestChangesButton:a,sourceContentFromDiffLines:a?function(e){let n=d(e)?.selectedRightLines;if(e&&n&&n.length>1)return(0,r.Ls)(n);if(!t)return"";let[i]=(0,r._S)(t.text,t.type);return i}(n):void 0,onInsertSuggestedChange:()=>{o("diff.add_suggested_change","ADD_SUGGESTED_CHANGE_BUTTON")},shouldInsertSuggestedChange:i}});return(0,i.useMemo)(()=>({selectedDiffRowRange:c,configureSuggestedChangesFromLineRange:u,shouldStartNewConversationWithSuggestedChange:n}),[c,u,n])}},33577:(e,t,n)=>{n.d(t,{V:()=>i});let i="empty-diff-line"},6655:(e,t,n)=>{n.d(t,{s:()=>i});let i={Visible:"visible",Collapsed:"collapsed"}},18571:(e,t,n)=>{function i(e){return`line-${e}`}function a(e,t,n){return`${e}${"left"===t?"L":"R"}${n}`}function r(e){return"DELETION"===e?"left":"right"}function l(e,t=!1,n=!1){if(n)return"var(--bgColor-attention-muted, var(--color-attention-subtle))";switch(e){case"ADDITION":return t?"var(--diffBlob-additionNum-bgColor, var(--diffBlob-addition-bgColor-num))":"var(--diffBlob-additionLine-bgColor, var(--diffBlob-addition-bgColor-line))";case"DELETION":return t?"var(--diffBlob-deletionNum-bgColor, var(--diffBlob-deletion-bgColor-num))":"var(--diffBlob-deletionLine-bgColor, var(--diffBlob-deletion-bgColor-line))";case"HUNK":return t?"var(--diffBlob-hunkNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-hunkLine-bgColor, var(--bgColor-accent-muted))";case"EMPTY":return t?"var(--diffBlob-emptyNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-emptyLine-bgColor, var(--bgColor-accent-muted))";default:return}}function s(e){let t=0;if(e)for(let n of e)t=Math.max(t,n?.left??0,n?.right??0);return Math.max(8*t.toString().length+20,40).toString()}n.d(t,{IQ:()=>a,Sq:()=>i,XU:()=>r,c7:()=>s,gK:()=>l})},90408:(e,t,n)=>{n.d(t,{Jg:()=>d,nq:()=>u,uP:()=>m.u,zl:()=>f.z,$e:()=>x,P3:()=>p,wj:()=>y,l4:()=>w,Qe:()=>b,Ah:()=>S});var i=n(74848),a=n(20053),r=n(77175),l=n(18571);let s=e=>{let{dragging:t,isHighlighted:n,isLeftColumn:s,colSpan:o,line:d,lineAnchor:c}=e,u=d.html,m="";return["ADDITION","DELETION"].includes(d.type)&&["+","-"].includes(u[0])&&(m=u[0],u=u.slice(1)),(0,i.jsx)("td",{className:(0,a.$)("diff-text-cell",{"border-left color-border-accent-emphasis":t&&n,"border-right":s&&"HUNK"!==d.type}),colSpan:o,id:c?(0,l.Sq)(c):void 0,style:{backgroundColor:(0,l.gK)(d.type,!1,n)},children:(0,i.jsxs)("code",{"data-code-marker":m,className:(0,a.$)("diff-text syntax-highlighted-line",{addition:"ADDITION"===d.type,deletion:"DELETION"===d.type}),children:[e.lineChild,(0,i.jsx)(r.mo,{className:(0,a.$)("diff-text-inner",{"color-fg-muted":"HUNK"===d.type}),html:u,style:{marginLeft:"CONTEXT"===d.type?"-7px":void 0}})]})})};try{s.displayName||(s.displayName="DiffText")}catch{}let o=({ariaLabel:e,children:t,hasExpanderButton:n,lineType:r,colSpan:s,interactiveProps:o,isHighlighted:d,...c})=>{let u=(0,i.jsx)("code",{className:"pr-2",children:t});return o&&(u=(0,i.jsx)("button",{className:"diff-line-number-button",...o,"aria-label":e,children:u})),(0,i.jsx)("td",{"aria-label":o?void 0:e,"data-line-number":!0,className:(0,a.$)("diff-line-number",{"has-expander":n,clickable:!!o}),colSpan:s||1,style:{backgroundColor:(0,l.gK)(r,!0,d)},...c,children:u})};try{o.displayName||(o.displayName="LineNumber")}catch{}let d=({dragging:e,isHighlighted:t,isLeftColumn:n,isSplit:a,lineAnchor:r,line:l,lineChild:d,onLineNumberClick:c})=>{let u="CONTEXT"===l.type||"INJECTED_CONTEXT"===l.type,m="ADDITION"!==l.type,f=m||!a,h="DELETION"!==l.type,p=h&&!u||!a,g=a&&u?n?l.left:l.right:l.left;return(0,i.jsxs)(i.Fragment,{children:[f&&(0,i.jsx)(o,{ariaLabel:`Line ${m?l.left?.toString():l.right?.toString()}`,lineType:l.type,interactiveProps:c?{onClick:c}:null,isHighlighted:t,children:m&&g}),p&&(0,i.jsx)(o,{ariaLabel:`Line ${h?l.right?.toString():l.left?.toString()}`,lineType:l.type,interactiveProps:c?{onClick:c}:null,isHighlighted:t,children:h&&l.right}),(0,i.jsx)(s,{dragging:e,isHighlighted:t,isLeftColumn:n,line:l,lineAnchor:r,lineChild:d})]})};try{d.displayName||(d.displayName="DiffLinePart")}catch{}var c=n(75177);function u(){return(0,i.jsx)(c.A,{"aria-hidden":"true",as:"svg",version:"1.1",viewBox:"0 0 340 84",xmlns:"http://www.w3.org/2000/svg",sx:{bottom:"0 !important",clip:"rect(1px, 1px, 1px, 1px)",clipPath:"inset(50%)",height:"84px",position:"absolute",width:"320px"},children:(0,i.jsxs)("defs",{children:[(0,i.jsxs)("clipPath",{id:"diff-placeholder",children:[(0,i.jsx)("rect",{height:"11.9298746",rx:"2",width:"67.0175439",x:"0",y:"0"}),(0,i.jsx)("rect",{height:"11.9298746",rx:"2",width:"100.701754",x:"18.9473684",y:"47.7194983"}),(0,i.jsx)("rect",{height:"11.9298746",rx:"2",width:"37.8947368",x:"0",y:"71.930126"}),(0,i.jsx)("rect",{height:"11.9298746",rx:"2",width:"53.3333333",x:"127.017544",y:"48.0703769"}),(0,i.jsx)("rect",{height:"11.9298746",rx:"2",width:"72.9824561",x:"187.719298",y:"48.0703769"}),(0,i.jsx)("rect",{height:"11.9298746",rx:"2",width:"140.350877",x:"76.8421053",y:"0"}),(0,i.jsx)("rect",{height:"11.9298746",rx:"2",width:"140.350877",x:"17.8947368",y:"23.8597491"}),(0,i.jsx)("rect",{height:"11.9298746",rx:"2",width:"173.684211",x:"166.315789",y:"23.8597491"})]}),(0,i.jsxs)("linearGradient",{id:"animated-diff-gradient",spreadMethod:"reflect",x1:"0",x2:"0",y1:"0",y2:"1",children:[(0,i.jsx)("stop",{offset:"0",stopColor:"#eee"}),(0,i.jsx)("stop",{offset:"0.2",stopColor:"#eee"}),(0,i.jsx)("stop",{offset:"0.5",stopColor:"#ddd"}),(0,i.jsx)("stop",{offset:"0.8",stopColor:"#eee"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#eee"}),(0,i.jsx)("animateTransform",{attributeName:"y1",dur:"1s",repeatCount:"3",values:"0%; 100%; 0"}),(0,i.jsx)("animateTransform",{attributeName:"y2",dur:"1s",repeatCount:"3",values:"100%; 200%; 0"})]})]})})}try{u.displayName||(u.displayName="DiffPlaceholder")}catch{}var m=n(78293),f=n(76193),h=n(38621);function p({currentLine:e,hunkButton:t,isLeftColumn:n,isSplit:a}){return a&&!n?null:(0,i.jsxs)(i.Fragment,{children:[t?(0,i.jsx)(o,{colSpan:a?1:2,hasExpanderButton:!0,lineType:e.type,children:t}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o,{lineType:e.type,children:(0,i.jsx)(h.KebabHorizontalIcon,{})}),!a&&(0,i.jsx)(o,{lineType:e.type,children:(0,i.jsx)(h.KebabHorizontalIcon,{})})]}),(0,i.jsx)(s,{isHighlighted:!1,isLeftColumn:!0,colSpan:a?3:void 0,line:e})]})}try{p.displayName||(p.displayName="HunkHeaderDiffLine")}catch{}function g(){return(0,i.jsx)("div",{className:"hunk-kebab-icon pr-2 pb-1",children:(0,i.jsx)(h.KebabHorizontalIcon,{})})}try{g.displayName||(g.displayName="HunkKebabIcon")}catch{}function x({isLeftColumn:e}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o,{lineType:"EMPTY"}),(0,i.jsx)("td",{className:(0,a.$)("empty-diff-line",{"border-right":e}),colSpan:1})]})}try{x.displayName||(x.displayName="EmptyDiffLine")}catch{}function y(e){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("thead",{className:"sr-only",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"col",children:"Original file line number"}),(0,i.jsx)("th",{scope:"col",children:"Original file line"}),(0,i.jsx)("th",{scope:"col",children:"Diff line number"}),(0,i.jsx)("th",{scope:"col",children:"Diff line change"})]})}),(0,i.jsxs)("colgroup",{children:[(0,i.jsx)("col",{width:e.lineWidth}),(0,i.jsx)("col",{}),(0,i.jsx)("col",{width:e.lineWidth}),(0,i.jsx)("col",{})]}),(0,i.jsx)("tbody",{children:e.children})]})}try{y.displayName||(y.displayName="SplitDiffTable")}catch{}function b(e){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("thead",{className:"sr-only",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"col",children:"Original file line number"}),(0,i.jsx)("th",{scope:"col",children:"Diff line number"}),(0,i.jsx)("th",{scope:"col",children:"Diff line change"})]})}),(0,i.jsxs)("colgroup",{children:[(0,i.jsx)("col",{width:e.lineWidth}),(0,i.jsx)("col",{width:e.lineWidth}),(0,i.jsx)("col",{width:"100%"})]}),(0,i.jsx)("tbody",{children:e.children})]})}try{b.displayName||(b.displayName="UnifiedDiffTable")}catch{}let j={diffTextCell:"UnifiedDiffLines-module__diffTextCell--UAuIr",diffHunkCell:"UnifiedDiffLines-module__diffHunkCell--qPkzg",diffHunkText:"UnifiedDiffLines-module__diffHunkText--Sfwuu",diffTextInner:"UnifiedDiffLines-module__diffTextInner--IuEAA",diffTextMarker:"UnifiedDiffLines-module__diffTextMarker--MdAo4",syntaxHighlightedAdditionLine:"UnifiedDiffLines-module__syntaxHighlightedAdditionLine--lU_S2",syntaxHighlightedDeletionLine:"UnifiedDiffLines-module__syntaxHighlightedDeletionLine--xgQwN",diffLineNumber:"UnifiedDiffLines-module__diffLineNumber--bzzxf"};function C({line:e,children:t}){return(0,i.jsx)("td",{className:j.diffLineNumber,style:{backgroundColor:(0,l.gK)(e.type,!0),textAlign:"center"},children:(0,i.jsx)("code",{children:t})})}function v({line:e}){return(0,i.jsx)("td",{colSpan:4,className:j.diffHunkCell,valign:"top",children:(0,i.jsxs)("div",{className:"d-flex flex-row",children:[(0,i.jsx)(g,{}),(0,i.jsx)("code",{className:j.diffHunkText,children:(0,i.jsx)(r.mo,{className:(0,a.$)(j.diffTextInner,"color-fg-muted"),html:e.html})})]})})}function N({line:e}){let t="HUNK"===e.type,n="ADDITION"!==e.type,s="DELETION"!==e.type,o="ADDITION"===e.type?"+":"DELETION"===e.type?"-":void 0;return(0,i.jsxs)("tr",{children:[t&&(0,i.jsx)(v,{line:e}),!t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(C,{line:e,children:n&&e.left}),(0,i.jsx)(C,{line:e,children:s&&e.right}),(0,i.jsx)("td",{className:j.diffTextCell,style:{backgroundColor:(0,l.gK)(e.type,!1)},children:(0,i.jsxs)("code",{className:(0,a.$)("ADDITION"===e.type&&j.syntaxHighlightedAdditionLine,"DELETION"===e.type&&j.syntaxHighlightedDeletionLine),children:[!!o&&(0,i.jsx)("span",{className:j.diffTextMarker,children:o}),(0,i.jsx)(r.mo,{className:j.diffTextInner,html:e.html,style:{backgroundColor:(0,l.gK)(e.type,!1)}})]})})]})]})}function w({sx:e,lines:t,lineWidth:n,tabSize:a}){let r=t.map((e,t)=>(0,i.jsx)(N,{line:e,tabSize:a},t));return(0,i.jsx)(c.A,{as:"table",className:"tab-size","data-tab-size":a,sx:{borderTop:0,borderBottom:0,borderLeft:1,borderRight:1,borderStyle:"solid",borderColor:"border.muted",...e},children:(0,i.jsx)(b,{lineWidth:n,children:r})})}try{C.displayName||(C.displayName="LineNumberCell")}catch{}try{v.displayName||(v.displayName="HunkCell")}catch{}try{N.displayName||(N.displayName="UnifiedDiffRow")}catch{}try{w.displayName||(w.displayName="UnifiedDiffLines")}catch{}function k(e){return"LEFT"===e?"-":"RIGHT"===e?"+":""}function S({startDiffSide:e,endDiffSide:t,originalStartLine:n,originalEndLine:i}){return e&&t&&"number"==typeof n&&"number"==typeof i?0===n&&1===i&&e===t?"-1 to +1":e===t&&n===i?`${k(e)}${n}`:`${k(e)}${n} to ${k(t)}${i}`:""}},70239:(e,t,n)=>{n.d(t,{D:()=>r});var i=n(38719),a=n(89539);function r(e){if(!a.XC)return;let t=a.XC.querySelector("title"),n=a.XC.createElement("title");n.textContent=e,t?t.textContent!==e&&(t.replaceWith(n),(0,i.i)(e)):(a.XC.head.appendChild(n),(0,i.i)(e))}},70651:(e,t,n)=>{n.d(t,{t:()=>a});var i=n(26843);let a=({items:e,filter:t,key:n,secondaryKey:a})=>{let r=e.map(e=>[(0,i.dt)(t,n(e)),e]);return a&&(r=r.map(([e,n])=>[Math.max(e,(0,i.dt)(t,a(n))),n])),r.filter(([e])=>e>i.IP).sort(([e,t],[i,a])=>i===e?n(t).localeCompare(n(a)):i-e).map(([,e])=>e)}},26843:(e,t,n)=>{n.d(t,{Dx:()=>l,IP:()=>r,M4:()=>a,dt:()=>s});var i=n(91385);let a=1/0,r=-1/0,l=1,s=(e,t,n=l)=>{let s=e.trim().toLowerCase(),o=t.trim().toLowerCase();if(s===o)return a;if(0===o.length||0===s.length)return r;let d=(0,i.fN)(s,o);return d===1/0&&s!==o?r:o.startsWith(s)||o.endsWith(s)?d+n:d}},94123:(e,t,n)=>{n.d(t,{U:()=>r});let i=e=>{let t=getComputedStyle(e,null);return["overflow","overflow-y","overflow-x"].some(e=>{let n=t.getPropertyValue(e);return"auto"===n||"scroll"===n})},a=(e,t)=>e&&null!==e.parentNode?a(e.parentNode,t.concat([e])):t;function r(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(let t of a(e.parentNode,[]))if((t instanceof HTMLElement||t instanceof SVGElement)&&i(t))return t;return document.scrollingElement||document.documentElement}}},12490:(e,t,n)=>{n.d(t,{k:()=>i});let i={confirmations:{deleteEditHistoryTitle:"Are you sure you want to delete this revision from the history?",deleteEditHistoryContent:"This edit\u2019s content will no longer be visible. This action can not be undone.",deleteEditHistoryConfirmButtonContent:"Remove"},editHistory:{viewingEditTitle:"Viewing edit",deleted:"Deleted",mostRecent:"Most recent",emptyEdit:"This revision does not contain any content.",deletedThisRevision:"deleted this revision",created:"created",edited:"edited",deleteRevisionAriaLabel:"Delete this edit revision",ariaLabel:"Open edits",openEditsButton:"Edits",editedBy:"edited by"}}},26396:(e,t,n)=>{n.d(t,{f:()=>r});let i=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useMarkdownEditHistoryViewerQueryQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"MarkdownEditHistoryViewer_comment"},{args:null,kind:"FragmentSpread",name:"MarkdownLastEditedBy"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useMarkdownEditHistoryViewerQueryQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n,i,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastEditedAt",storageKey:null},{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"lastUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},i],storageKey:null},i],storageKey:null}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}]},params:{id:"d72649dd9392589f64dd4570b992b900",metadata:{},name:"useMarkdownEditHistoryViewerQueryQuery",operationKind:"query",text:null}}}();i.hash="2ce76c06d4f0c7fc93f5c5de49964950";var a=n(18312);function r({id:e}){let t=(0,a.useLazyLoadQuery)(i,{id:e});return t.node?t.node:null}},41482:(e,t,n)=>{n.d(t,{Js:()=>a,fj:()=>r,qG:()=>i});let i={CONFUSED:"\u{1F615}",EYES:"\u{1F440}",HEART:"\u2764\uFE0F",HOORAY:"\u{1F389}",LAUGH:"\u{1F604}",THUMBS_DOWN:"\u{1F44E}",THUMBS_UP:"\u{1F44D}",ROCKET:"\u{1F680}"};function a(e,t){if(0===e.length||0===t)return"";let n=e.slice(0);if(1===n.length)return n[0];if(2===n.length)return n.join(" and ");t>e.length&&n.push(`${t-e.length} more`);let i=n.pop();return n.push(`${n.pop()} and ${i}`),n.join(", ")}function r(e,t,n,r){return 0===n.length||0===r?"":`${t?"React":"Unreact"} with ${i[e]} (${n.length} ${i[e]} reaction${1===n.length?"":"s"} so far, including ${a(n,r)})`}},72207:(e,t,n)=>{n.d(t,{h:()=>C});var i=n(74848),a=n(47139),r=n(94977),l=n(34614),s=n(75177),o=n(91246),d=n(30729),c=n(52464),u=n(44743);function m({reason:e,isViewer:t,hasSignature:n,verificationStatus:a,signatureType:r,signedByGitHub:s,keyExpired:o,keyRevoked:d}){let m=o?(0,i.jsxs)("span",{children:[" The key has expired",d&&(0,i.jsx)("span",{children:" and has been revoked"}),"."]}):d?(0,i.jsx)("span",{children:" The key has been revoked."}):(0,i.jsx)(i.Fragment,{});if("unverified"===a){if(n&&"GPGVERIFY_UNAVAILABLE"===e)return(0,i.jsx)("span",{children:"The commit signature verification service is not available"});if(!n)return(0,i.jsx)("span",{children:"This commit is not signed, but one or more authors requires that any commit attributed to them is signed."});switch(e){case"INVALID":return(0,i.jsx)("span",{children:"The signature in this commit could not be verified. Someone may be trying to trick you."});case"MALFORMED_SIG":return(0,i.jsx)("span",{children:"We were unable to parse the signature in this commit."});case"UNKNOWN_KEY":if(t)return(0,i.jsxs)("span",{children:[(0,i.jsxs)(l.A,{inline:!0,href:"/settings/keys",children:["Upload your public signing ","SshSignature"===r?"SSH":"GPG"," key"]})," ","to verify your signature."]});return(0,i.jsx)("span",{children:"This user has not yet uploaded their public signing key."});case"BAD_EMAIL":return(0,i.jsx)("span",{children:"The email in this signature doesn\u2019t match the committer email."});case"UNVERIFIED_EMAIL":if(t)return(0,i.jsxs)("span",{children:[(0,i.jsx)(l.A,{inline:!0,href:"/settings/emails",children:"Verify your email address"})," ","to verify your signature."]});return(0,i.jsx)("span",{children:"The committer email address is not verified."});case"NO_USER":return(0,i.jsx)("span",{children:"No user is associated with the committer email."});case"UNKNOWN_SIG_TYPE":return(0,i.jsx)("span",{children:"GitHub supports GPG and S/MIME signatures. We don't know what type of signature this is."});case"GPGVERIFY_ERROR":return(0,i.jsx)("span",{children:"We had a problem verifying this signature. Please try again later."});case"NOT_SIGNING_KEY":return(0,i.jsx)("span",{children:"The key that signed this doesn't have usage flags that allow signing."});case"EXPIRED_KEY":return(0,i.jsx)("span",{children:"The key that signed this is expired."});case"OCSP_ERROR":return(0,i.jsx)("span",{children:"We had a problem checking for revoked certificates. Please try again later."});case"OCSP_REVOKED":return(0,i.jsx)("span",{children:"One or more certificates in the chain has been revoked."});case"BAD_CERT":return(0,i.jsx)("span",{children:"The signing certificate or its chain could not be verified."});default:return(0,i.jsx)("span",{children:"We were unable to verify this signature."})}}else if("partially_verified"===a)return s?(0,u.k)()?(0,i.jsxs)("span",{children:["This commit was created on GitHub Enterprise Server and signed with a"," ",(0,i.jsx)(c.A,{sx:{fontWeight:"bold"},children:"verified signature"}),".",m]}):(0,i.jsxs)("span",{children:["This commit was created on GitHub.com and signed with GitHub's"," ",(0,i.jsx)(c.A,{sx:{fontWeight:"bold"},children:"verified signature"}),".",m]}):(0,i.jsxs)("span",{children:["This commit was signed with the committer's ",(0,i.jsx)(c.A,{sx:{fontWeight:"bold"},children:"verified signature"}),".",m]});else if("verified"===a)switch(e){case"VALID":if(!s)return(0,i.jsxs)("span",{children:["This commit was signed with the committer's ",(0,i.jsx)(c.A,{sx:{fontWeight:"bold"},children:"verified signature"}),".",m]});if((0,u.k)())return(0,i.jsxs)("span",{children:["This commit was created on GitHub Enterprise Server and signed with a"," ",(0,i.jsx)(c.A,{sx:{fontWeight:"bold"},children:"verified signature"}),".",m]});return(0,i.jsxs)("span",{children:["This commit was created on GitHub.com and signed with GitHub's"," ",(0,i.jsx)(c.A,{sx:{fontWeight:"bold"},children:"verified signature"}),".",m]});case"OCSP_PENDING":return(0,i.jsx)("span",{children:"This commit was signed with a verified signature, though we're still working on certificate revocation checking."})}return(0,i.jsx)("span",{})}try{m.displayName||(m.displayName="ReasonLabel")}catch{}function f({icon:e,iconColor:t,id:n,reason:a,isViewer:r,hasSignature:l,verificationStatus:o,signatureType:c,signedByGitHub:u,keyExpired:f,keyRevoked:h}){return(0,i.jsxs)(s.A,{id:n,sx:{display:"flex",p:2},"data-testid":"signed-commit-header",children:[(0,i.jsx)(s.A,{sx:{pr:2},children:(0,i.jsx)(d.A,{icon:e,sx:{color:t}})}),(0,i.jsx)(s.A,{sx:{fontSize:1,flexGrow:1},children:(0,i.jsx)(m,{reason:a,isViewer:r,hasSignature:l,verificationStatus:o,signatureType:c,signedByGitHub:u,keyExpired:f,keyRevoked:h})})]})}try{f.displayName||(f.displayName="SignedCommitHeader")}catch{}var h=n(38621),p=n(89169),g=n(45079);function x({keyHex:e,signatureType:t,signer:n,verifiedAt:r,showPartiallyVerifiedMessage:o,signingLinkComponent:u,keyExpired:m,keyRevoked:f}){return(0,i.jsx)(s.A,{sx:{display:"flex"},"data-testid":"signed-commit-footer",children:(0,i.jsx)(s.A,{sx:{fontSize:0,flexGrow:1,maxWidth:"100%"},children:o&&n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.A,{sx:{py:3},children:(0,i.jsxs)(s.A,{sx:{display:"flex"},children:[(0,i.jsx)(g.r,{src:n.avatar_url,size:20,sx:{mr:2,ml:3}}),(0,i.jsxs)(s.A,{sx:{flex:1},children:[(0,i.jsx)(l.A,{href:`/${n.login}`,sx:{fontSize:0,color:"fg.default",fontWeight:"bold"},children:n.login}),(0,i.jsxs)("span",{children:["'s contribution has been verified via ","SshSignature"===t?"SSH":"GPG"," key."]})]})]})}),(0,i.jsxs)(s.A,{sx:{backgroundColor:"attention.subtle",display:"flex",p:3},children:[(0,i.jsx)(d.A,{icon:h.InfoIcon,sx:{mr:2}}),"We cannot verify signatures from co-authors, and some of the co-authors attributed to this commit require their commits to be signed."]})]}):(0,i.jsxs)(i.Fragment,{children:[n?(0,i.jsx)(s.A,{sx:{px:3,pt:3},children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.r,{src:n.avatar_url,size:20,sx:{mr:2}}),(0,i.jsx)(l.A,{href:`/${n.login}`,sx:{fontSize:1,color:"fg.default",fontWeight:"bold"},children:n.login})]})}):(0,i.jsx)(i.Fragment,{}),(0,i.jsxs)(s.A,{sx:{p:3,flexDirection:"column"},children:[e&&(0,i.jsxs)("div",{children:["SshSignature"===t?"SSH Key Fingerprint:":"GPG Key ID:"," ",(0,i.jsx)(c.A,{sx:{color:"fg.muted"},children:e})]}),r&&(0,i.jsxs)("div",{children:["Verified"," ",(0,i.jsx)(p.A,{datetime:r,threshold:"PT0S",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),e&&(m||f)&&(0,i.jsxs)(s.A,{sx:{py:1},children:[m&&(0,i.jsx)(a.A,{sx:{mr:1},variant:"accent",children:"Expired"}),f&&(0,i.jsx)(a.A,{variant:"attention",children:"Revoked"})]}),u]})]})})})}try{x.displayName||(x.displayName="SignedCommitFooter")}catch{}function y({subject:e,issuer:t,signingLinkComponent:n,verifiedAt:a}){let r,l;return e.organization&&e.organization_unit?r="O/OU":e.organization?r="O":e.organization_unit&&(r="OU"),t.organization&&t.organization_unit?l="O/OU":t.organization?l="O":t.organization_unit&&(l="OU"),(0,i.jsx)(s.A,{sx:{display:"flex"},"data-testid":"smime-commit-footer",children:(0,i.jsxs)(s.A,{sx:{fontSize:0,p:3},children:[(0,i.jsx)(c.A,{sx:{fontWeight:"bold",fontSize:1},children:"Certificate subject"}),(0,i.jsxs)(s.A,{as:"table",sx:{mb:1},children:[e.common_name&&(0,i.jsxs)("tr",{children:[(0,i.jsx)(s.A,{as:"td",sx:{width:"44px",paddingRight:"12px",color:"fg.muted"},children:"CN"}),(0,i.jsx)(s.A,{as:"td",sx:{width:"44px",paddingRight:"12px"},children:e.common_name})]}),e.email_address&&(0,i.jsxs)("tr",{children:[(0,i.jsx)(s.A,{as:"td",sx:{width:"44px",paddingRight:"12px",color:"fg.muted"},children:"emailAddress"}),(0,i.jsx)(s.A,{as:"td",sx:{width:"44px",paddingRight:"12px"},children:e.email_address})]}),r&&(0,i.jsxs)("tr",{children:[(0,i.jsx)(s.A,{as:"td",sx:{width:"44px",paddingRight:"12px",color:"fg.muted"},children:r}),(0,i.jsxs)("td",{children:[e.organization,"O/OU"===r&&"/",e.organization_unit]})]})]}),(0,i.jsx)(c.A,{sx:{fontWeight:"bold",fontSize:1},children:"Certificate issuer"}),(0,i.jsxs)(s.A,{as:"table",sx:{mb:1},children:[t.common_name&&(0,i.jsxs)("tr",{children:[(0,i.jsx)(s.A,{as:"td",sx:{width:"44px",paddingRight:"12px",color:"fg.muted"},children:"CN"}),(0,i.jsx)("td",{children:t.common_name})]}),l&&(0,i.jsxs)("tr",{children:[(0,i.jsx)(s.A,{as:"td",sx:{width:"44px",paddingRight:"12px",color:"fg.muted"},children:l}),(0,i.jsxs)("td",{children:[t.organization,"O/OU"===l&&"/",t.organization_unit]})]})]}),a&&(0,i.jsxs)("div",{children:["Verified"," ",(0,i.jsx)(p.A,{datetime:a,threshold:"PT0S",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),n]})})}try{y.displayName||(y.displayName="SmimeCommitFooter")}catch{}function b(e){var t;let n;let{ariaLabel:a,hasSignature:r,isOpen:d,onDismiss:c,signature:u,verificationStatus:m}=e,{footerLabel:p,footerUrl:g}=(t=u.helpUrl,{footerLabel:"Learn about vigilant mode",footerUrl:`${t}/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits`}),b=u.signatureVerificationReason.toUpperCase(),j=u.signedByGitHub,{icon:C,icon_color:v}="unverified"===m?{icon:h.UnverifiedIcon,icon_color:"fg.muted"}:{icon:h.VerifiedIcon,icon_color:"success.fg"};"unverified"===m||j||(n={avatar_url:u.signerAvatarUrl,login:u.signerLogin});let N=(0,i.jsx)(l.A,{href:g,"data-testid":"signature-link",className:"Link--inTextBlock",children:p});return d?(0,i.jsx)(o.l,{onClose:c,sx:{overflowY:"auto",backgroundColor:"canvas.default",boxShadow:"none"},title:m,width:"small",renderHeader:({dialogLabelId:e,dialogDescriptionId:t})=>(0,i.jsxs)(s.A,{"data-testid":"signed-commit-dialog",sx:{display:"flex",gap:2,alignItems:"flex-start",p:2,backgroundColor:"canvas.subtle",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"border.subtle"},children:[(0,i.jsx)(o.l.Title,{id:e,className:"sr-only",children:a??m}),(0,i.jsx)(f,{reason:b,icon:C,iconColor:v,id:t,verificationStatus:m,isViewer:u.isViewer,hasSignature:r,signatureType:u.signatureType,signedByGitHub:j,keyExpired:u.keyExpired,keyRevoked:u.keyRevoked}),(0,i.jsx)(o.l.CloseButton,{onClose:c})]}),renderBody:()=>(0,i.jsx)(o.l.Body,{sx:{padding:0},children:"GpgSignature"===u.signatureType||"SshSignature"===u.signatureType?(0,i.jsx)(x,{keyHex:u.keyId,signatureType:u.signatureType,signer:n,verifiedAt:u.verifiedAt,showPartiallyVerifiedMessage:"partially_verified"===m,signingLinkComponent:N,keyExpired:u.keyExpired,keyRevoked:u.keyRevoked}):"SmimeSignature"===u.signatureType&&u.signatureCertificateSubject&&u.signatureCertificateIssuer?(0,i.jsx)(y,{issuer:u.signatureCertificateIssuer,subject:u.signatureCertificateSubject,signingLinkComponent:N,verifiedAt:u.verifiedAt}):(0,i.jsx)(s.A,{sx:{display:"flex"},children:(0,i.jsx)(s.A,{sx:{fontSize:0,p:3},children:N})})})}):null}try{b.displayName||(b.displayName="SignedCommitDialog")}catch{}var j=n(96540);function C({hasSignature:e,verificationStatus:t,signature:n,commitOid:a,badgeSize:l="small"}){let[s,o]=(0,j.useState)(!1),d=(0,j.useRef)(null);if(!t||!n)return(0,i.jsx)(r.A,{"aria-label":"Verification status not available",direction:"n",noDelay:!0,children:(0,i.jsx)(N,{verificationStatus:"error",labelProps:{size:"small"}})});if("unsigned"===t)return(0,i.jsx)(i.Fragment,{});let c=(0,i.jsx)(N,{labelProps:{as:"button",onClick:()=>o(!0),ref:d,size:l,sx:{cursor:"pointer"}},verificationStatus:t});return(0,i.jsxs)(i.Fragment,{children:[c,s&&(0,i.jsx)(b,{isOpen:s,onDismiss:()=>{o(!1),setTimeout(()=>{d.current?.focus()},0)},verificationStatus:t,signature:n,hasSignature:e,ariaLabel:`${t.replace("_"," ")}: ${a.slice(0,7)}`})]})}let v={verified:{label:"Verified",variant:"success"},unverified:{label:"Unverified",variant:"attention"},partially_verified:{label:"Partially verified",variant:"success"},error:{label:"Verification error",variant:"secondary"}},N=(0,j.forwardRef)(({verificationStatus:e,labelProps:t},n)=>{let r=v[e];return r?(0,i.jsx)(a.A,{ref:n,variant:r.variant,...t,children:r.label}):(0,i.jsx)(i.Fragment,{})});N.displayName="VerificationLabel";try{C.displayName||(C.displayName="SignedCommitBadge")}catch{}},99805:(e,t,n)=>{n.d(t,{H:()=>a});var i=n(20120);function a(e,t){let{csrf_tokens:n}=(0,i.B)();return n?.[e]?.[t]}},41783:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(96540);function a({focusRowRef:e,mouseRowRef:t}){let[n,a]=i.useState(!1);return i.useEffect(()=>{if(e.current&&t.current){let n=()=>{let t=e.current?.querySelector(".PRIVATE_TreeView-item-content-text");t?.scrollWidth!==t?.offsetWidth&&a(!0)};e.current.onfocus=()=>{n()},e.current.onblur=()=>{a(!1)},t.current.onmouseenter=()=>{n()},t.current.onmouseleave=()=>{a(!1)}}},[e,t]),n}},555:(e,t,n)=>{n.d(t,{L:()=>a});var i=n(96540);function a(e){(0,i.useEffect)(()=>{if(!e)return;let t=document.querySelector(".footer");if(t)return t.hidden=!0,()=>{t.hidden=!1}},[e])}},80603:(e,t,n)=>{n.d(t,{Y:()=>l});var i=n(96540),a=n(35822);let r=e=>e;function l(e){let t=i.useRef({}),n=i.useRef({}),l=(e,n)=>{t.current[e](n)},s=i.useRef(l);s.current=l;let o=i.useRef(new ResizeObserver(e=>{for(let t of e){let e=t.target,n="data-key",i=e.getAttribute(n);if(null===i)throw Error(`Value not found, for '${n}' attribute`);s.current(i,e)}}));i.useEffect(()=>{let e=o.current;return()=>{e.disconnect()}},[]);let{size:d,keyExtractor:c=r}=e,u=i.useMemo(()=>{let e=e=>t=>{n.current[e]&&o.current.unobserve(n.current[e]),t&&(s.current(e,t),o.current.observe(t)),n.current[e]=t},t={};for(let n=0;n<d;n++){let i=c(n);t[i]=e(i)}return t},[d,c]),m=(0,a.z)(e),f=m.virtualItems.map(e=>(t.current[e.key]=e.measureRef,{...e,measureRef:u[e.key]}));return{...m,virtualItems:f}}},24272:(e,t,n)=>{n.d(t,{h:()=>l});var i=n(35967),a=n(96540),r=n(35822);function l({additionalScrollOffset:e=0,scrollToFn:t,horizontal:n,parentRef:l,shouldUseScrollRef:s=!0,useVirtualImpl:o=r.z,...d}){let c=(0,a.useRef)(window),u=(0,a.useCallback)(()=>{let e=l.current?.getBoundingClientRect(),t=e?.top??0,i=e?.left??0;return n?-1*i:-1*t},[n,l]),m=(0,a.useCallback)(t=>{let i=t+((l.current?.getBoundingClientRect().top??0)+window.scrollY)+e;c.current?.scroll({top:n?0:i,left:n?i:0})},[e,n,l]);return o({...d,horizontal:n,parentRef:l,scrollToFn:t||m,onScrollElement:s?c:void 0,scrollOffsetFn:u,useObserver:()=>(function(e){let[t,n]=(0,a.useState)({height:0,width:0}),r=e.current;return(0,i.N)(()=>{if(!r)return;let e=()=>{let e={height:r.innerHeight,width:r.innerWidth};n(t=>t.height!==e.height||t.width!==e.width?e:t)};return e(),r.addEventListener("resize",e),()=>{r.removeEventListener("resize",e)}},[r]),t})(c)})}},82056:(e,t,n)=>{n.d(t,{T:()=>b});var i=n(74848),a=n(45079),r=n(38621),l=n(89323),s=n(75177),o=n(8338),d=n(67138),c=n(30595),u=n(65481),m=n(30729),f=n(96540),h=n(24649);let p=f.memo(function({user:e,isCurrent:t,onSelect:n,shouldSetAsDiv:r}){return(0,i.jsxs)(o.l.Item,{as:r?"div":"li",selected:t,onSelect:()=>{n&&n(e)},children:[(0,i.jsx)(o.l.LeadingVisual,{children:(0,i.jsx)(a.r,{src:e.primaryAvatarUrl,square:e.path.startsWith("/apps/")})}),e.login,(0,i.jsx)(o.l.Description,{truncate:!0,children:e.name})]})});try{p.displayName||(p.displayName="UserItem")}catch{}function g(e){return e.users.length>20?(0,i.jsx)(y,{...e}):(0,i.jsx)(x,{...e})}function x({users:e,currentUser:t,onSelect:n,sx:a}){return(0,i.jsx)(s.A,{sx:{maxHeight:330,overflowY:"auto",...a},children:e.map(e=>(0,i.jsx)(p,{user:e,isCurrent:e.login===t?.login,onSelect:n},e.login))})}function y({users:e,currentUser:t,onSelect:n,sx:a}){return(0,i.jsx)(h.F,{items:e,itemHeight:33,sx:{maxHeight:330,overflowY:"auto",...a},makeKey:e=>e.login,renderItem:e=>(0,i.jsx)(p,{user:e,isCurrent:e.login===t?.login,onSelect:n,shouldSetAsDiv:!0},e.login)})}try{g.displayName||(g.displayName="UsersList")}catch{}try{x.displayName||(x.displayName="FullUsersList")}catch{}try{y.displayName||(y.displayName="VirtualUsersList")}catch{}function b(e){let{defaultText:t,usersState:n,currentUser:d,onSelect:c,hotKey:u,onOpenChange:h,renderCustomFooter:p,size:x,showTypedInUser:y=!1,width:b="large",label:w=""}=e,[k,S]=(0,f.useState)(""),L=function(e,t){if(!e)return[];let n=t.trim().toLowerCase();return n?e.filter(e=>e.login.toLowerCase().includes(n)||e.name?.toLowerCase().includes(n)):e}(n.users,k);return(0,i.jsx)("div",{children:(0,i.jsxs)(l.W,{onOpenChange:h,children:[(0,i.jsx)(l.W.Button,{"data-hotkey":u,size:x,"data-testid":"user-selector-button",children:(0,i.jsxs)(s.A,{sx:{display:"flex"},children:[(0,i.jsx)(s.A,{sx:{mr:2},children:d?(0,i.jsx)(a.r,{size:16,src:d.primaryAvatarUrl,square:d.path.startsWith("/apps/")}):(0,i.jsx)(m.A,{icon:r.PeopleIcon,size:"small",sx:{color:"fg.muted"}})}),(0,i.jsx)(s.A,{sx:{maxWidth:125,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:d?(0,i.jsxs)("span",{children:[w,d.login]}):(0,i.jsx)("span",{children:t})})]})}),(0,i.jsx)(l.W.Overlay,{width:b,children:(0,i.jsxs)(o.l,{showDividers:!0,selectionVariant:"single",children:[(0,i.jsx)(j,{defaultText:k,onFilterChange:S}),(0,i.jsx)(o.l.Divider,{}),n.loading?(0,i.jsx)(C,{}):n.error?(0,i.jsx)(v,{}):0===L.length?(0,i.jsx)(N,{showTypedInUser:y,filterText:k,onSelect:c}):(0,i.jsx)(g,{users:L,currentUser:d,onSelect:c,sx:p?{pb:"10px",pt:1}:{pt:1}}),p&&(0,i.jsx)(o.l.Divider,{sx:{marginTop:0}}),p?.()]})})]})})}function j({onFilterChange:e,defaultText:t}){return(0,i.jsx)(o.l.Group,{sx:{px:2},children:(0,i.jsx)(d.A,{leadingVisual:r.SearchIcon,value:t,sx:{width:"100%"},placeholder:"Find a user...",onChange:t=>e(t.target.value)})})}function C(){return(0,i.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",p:2},children:(0,i.jsx)(c.A,{size:"medium","aria-label":"Loading users..."})})}function v(){return(0,i.jsx)(u.A,{variant:"danger",children:"Could not load users"})}function N({showTypedInUser:e,filterText:t,onSelect:n}){return e?(0,i.jsx)(o.l.Item,{sx:{display:"flex",justifyContent:"center",mb:2},onSelect:()=>{n&&n({login:t,name:t,path:"",primaryAvatarUrl:""})},children:(0,i.jsxs)(i.Fragment,{children:["Filter on author\xa0",(0,i.jsx)(s.A,{as:"span",sx:{fontWeight:600},children:t})]})}):(0,i.jsx)(s.A,{sx:{p:3,display:"flex",justifyContent:"center"},children:"Nothing to show"})}try{b.displayName||(b.displayName="UserSelector")}catch{}try{j.displayName||(j.displayName="UserFilter")}catch{}try{C.displayName||(C.displayName="Loading")}catch{}try{v.displayName||(v.displayName="LoadingFailed")}catch{}try{N.displayName||(N.displayName="UsersZeroState")}catch{}},97273:(e,t,n)=>{n.d(t,{P:()=>l});var i=n(74848),a=n(75177);let r={reason:"readonly-comment-box-module__reason--CzzUh"};function l({reason:e,icon:t,...n}){return(0,i.jsx)(a.A,{className:"blankslate",sx:{border:"1px solid",borderColor:"neutral.muted",borderRadius:2,backgroundColor:"canvas.default",boxShadow:"shadow.small"},...n,children:(0,i.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"fg.muted"},children:[t&&(0,i.jsx)(t,{size:24}),(0,i.jsx)("div",{className:r.reason,children:e})]})})}try{l.displayName||(l.displayName="ReadonlyCommentBox")}catch{}},81681:(e,t,n)=>{n.d(t,{v:()=>N});var i=n(74848),a=n(45079),r=n(93743),l=n(38621),s=n(52464),o=n(34614),d=n(89169),c=n(75177),u=n(96540),m=n(39029),f=n(35373),h=n(58924),p=n(8489),g=n(46311);let x={MEMBER:"Member",OWNER:"Owner",MANNEQUIN:"Mannequin",COLLABORATOR:"Collaborator",CONTRIBUTOR:"Contributor",FIRST_TIME_CONTRIBUTOR:"First-time contributor",FIRST_TIMER:"First-time GitHub contributor",NONE:""},y={MEMBER:({viewerDidAuthor:e,org:t})=>`${e?"You are":"This user is"} a member of the ${t} organization.`,OWNER:({viewerDidAuthor:e,repo:t})=>`${e?"You are":"This user is"} the owner of the ${t} repository.`,MANNEQUIN:()=>"This is a mannequin user.",COLLABORATOR:({viewerDidAuthor:e,repo:t})=>`${e?"You have":"This user has"} been invited to collaborate on the ${t} repository.`,CONTRIBUTOR:({viewerDidAuthor:e,repo:t})=>`${e?"You have":"This user has"} previously committed to the ${t} repository.`,FIRST_TIME_CONTRIBUTOR:({viewerDidAuthor:e,repo:t})=>`${e?"You are":"This user is"} a first-time contributor to the ${t} repository.`,FIRST_TIMER:({viewerDidAuthor:e})=>`${e?"This is your":"This user's"} first pull request on GitHub.`,NONE:()=>""},b=({association:e,org:t,repo:n,viewerDidAuthor:a})=>{let r=x[e]?e:"NONE";if("NONE"===r)return null;let l=y[r]({viewerDidAuthor:a??!1,org:t,repo:n});return(0,i.jsx)(g.C,{label:x[r],ariaLabel:l,testId:f.Y.commentAuthorAssociation,viewerDidAuthor:a})};try{b.displayName||(b.displayName="CommentAuthorAssociation")}catch{}let j=({viewerDidAuthor:e,subjectType:t})=>(0,i.jsx)(g.C,{viewerDidAuthor:e,ariaLabel:m.k.commentSubjectAuthor(e??!1,t??"comment"),label:m.k.commentAuthor,testId:f.Y.commentSubjectAuthor});try{j.displayName||(j.displayName="CommentSubjectAuthor")}catch{}var C=n(19290);let v=({createdAt:e,owner:t,viewerDidAuthor:n})=>{let a=new Date(e),r=a.toLocaleString("default",{month:"long"}),l=m.k.sponsor(t,`${r} ${a.getFullYear()}`);return(0,i.jsx)(g.C,{label:m.k.sponsorBadge,ariaLabel:l,testId:f.Y.sponsorLabel,viewerDidAuthor:n})};try{v.displayName||(v.displayName="SponsorsBadge")}catch{}function N({actions:e,comment:t,commentAuthorLogin:n,isMinimized:a=!1,avatarUrl:x,lastEditedByMessage:y,editHistoryComponent:N,additionalHeaderMessage:k,sx:S,viewerDidAuthor:L=!1,userAvatar:D=(0,i.jsx)(w,{avatarUrl:x,login:n,isHidden:!!t.pendingMinimizeReason||t.isHidden}),commentSubjectAuthorLogin:I,commentSubjectType:E,isReply:A=!1,headingProps:{as:T,...R}={as:"h3"},commentAuthorType:_,id:F,forceInlineAvatar:O,containerStyle:M}){let B=M||A?{}:{backgroundColor:L?"accent.subtle":"canvas.subtle",borderTopLeftRadius:"6px",borderTopRightRadius:"6px",borderBottom:"1px solid",borderColor:L?"accent.muted":"border.default",borderBottomWidth:a?0:1,py:O?[1,1,2,2]:1,pr:1,pl:3,...S},U=t.pendingMinimizeReason??t.minimizedReason,$=!!U||t.isHidden,P=new Date(t.createdAt),H=(0,i.jsxs)(i.Fragment,{children:[k&&(0,i.jsx)(s.A,{sx:{color:"fg.muted",overflow:"hidden",textOverflow:"ellipsis"},children:k}),(0,i.jsxs)(s.A,{sx:{overflow:"hidden",textOverflow:"ellipsis",color:"fg.muted"},children:[(0,i.jsx)(o.A,{href:t.url,sx:{color:"inherit"},children:(0,i.jsxs)(d.A,{date:P,children:["on ",P.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})}),t.createdViaEmail&&(0,i.jsx)("span",{children:` ${m.k.sentViaEmail}`})]}),$&&(0,i.jsxs)(s.A,{sx:{color:"fg.muted"},children:[" ","\xb7"," ",U?(0,i.jsxs)("span",{children:[m.k.hiddenCommentWithReason," ",U.replace(/_/g,"-").toLowerCase()]}):(0,i.jsx)("span",{children:m.k.hiddenComment})]}),y&&!$&&(0,i.jsx)(u.Suspense,{children:y})]});return(0,i.jsx)(c.A,{id:F,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",...B},"data-testid":f.Y.commentHeader,children:(0,i.jsxs)(c.A,{className:h.A.activityHeader,sx:{width:"100%",minWidth:0,minHeight:"var(--control-small-size, 28px)",justifyContent:"space-between",alignItems:"stretch",paddingBottom:y||O?0:"var(--base-size-6, 6px)"},children:[(0,i.jsxs)(T,{...R,className:"sr-only",children:[n," commented"," ",(0,i.jsxs)(d.A,{date:P,children:["on ",P.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," "]})]}),(0,i.jsx)(c.A,{className:O?"":p.A.avatarInner,sx:{placeSelf:"center",gridArea:"avatar",display:O?"flex":["flex","flex","none","none"],marginRight:2},children:D}),(0,i.jsxs)(c.A,{className:h.A.narrowViewportWrapper,"data-testid":f.Y.commentHeaderLeftSideItems,sx:{minWidth:0,gridColumnStart:"title",gridColumnEnd:"badges",flexWrap:"wrap",alignItems:"center",flexShrink:1,flexBasis:"auto",columnGap:"0.45ch",paddingTop:1,paddingBottom:1},children:[(0,i.jsx)(c.A,{sx:{gridArea:"title",marginTop:0,alignItems:"center",display:"flex",flexShrink:1,flexBasis:"auto",overflow:"hidden"},children:(0,i.jsx)(o.A,{"data-testid":f.Y.avatarLink,href:`/${"Bot"===_?"apps/":""}${n}`,"data-hovercard-url":(0,r.dCN)({owner:n}),sx:{fontSize:1,color:$?"fg.muted":"fg.default",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",alignSelf:"flex-end"},children:n})}),(0,i.jsx)(c.A,{className:h.A.footer,sx:{gridArea:"footer",lineHeight:"1.4"},children:H})]}),(0,i.jsxs)(c.A,{"data-testid":f.Y.commentHeaderRightSideItems,className:h.A.narrowViewportWrapper,sx:{whiteSpace:"nowrap",gridArea:"actions",columnGap:"var(--base-size-4, 4px)",justifyContent:"flex-end",flexShrink:2,flexGrow:1,alignItems:"flex-start"},children:[N&&(0,i.jsx)(c.A,{sx:{gridArea:"edits",display:"flex",justifyContent:"flex-end",overflow:"hidden",flexGrow:1,alignItems:["flex-start","center","center","center"],ml:2},children:N}),(0,i.jsxs)(c.A,{sx:{gridColumnStart:"badges",gridColumnEnd:"actions",display:"flex",columnGap:"var(--base-size-4, 4px)",alignItems:"center",justifyContent:"flex-end",minHeight:"var(--base-size-28, 28px)"},children:[(0,i.jsxs)(c.A,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",columnGap:"var(--base-size-8, 8px)",ml:1},children:["PENDING"===t.state&&(0,i.jsx)(g.C,{leadingElement:(0,i.jsx)(l.DotFillIcon,{}),label:"Pending",ariaLabel:"This review comment is pending",testId:"pending-badge",variant:"attention",sx:{mr:1}}),!$&&!a&&t.authorToRepoOwnerSponsorship&&t.authorToRepoOwnerSponsorship.isActive&&(0,i.jsx)(v,{createdAt:t.authorToRepoOwnerSponsorship.createdAt,owner:t.repository.owner.login,viewerDidAuthor:L}),!$&&!a&&t.showSpammyBadge&&(0,i.jsx)(C.b,{}),!t.repository.isPrivate&&!$&&!a&&(0,i.jsx)(b,{association:t.authorAssociation,viewerDidAuthor:L,org:t.repository.owner.login,repo:t.repository.name}),n===I&&(0,i.jsx)(j,{viewerDidAuthor:L,subjectType:E})]}),(0,i.jsx)(c.A,{sx:{display:"flex",columnGap:"var(--base-size-4, 4px)"},children:e})]})]})]})})}function w({avatarUrl:e,login:t,isHidden:n}){return(0,i.jsx)(o.A,{href:`/${t}`,className:p.A.avatarLink,"data-hovercard-url":(0,r.dCN)({owner:t}),"aria-label":`@${t}'s profile`,children:(0,i.jsx)(a.r,{src:e,alt:`@${t}`,size:24,className:n?p.A.hiddenActivityAvatar:p.A.activityAvatar})})}try{N.displayName||(N.displayName="ActivityHeader")}catch{}try{w.displayName||(w.displayName="DefaultAvatar")}catch{}},46711:(e,t,n)=>{n.d(t,{p:()=>b});var i=n(74848),a=n(36219),r=n(37887),l=n(12327),s=n(89539),o=n(38621),d=n(87330),c=n(89323),u=n(8338),m=n(96540),f=n(35373),h=n(40571),p=n(7278),g=n(77178),x=n(17023),y=n(65464);function b({comment:e,commentAuthorLogin:t,editComment:n,onReplySelect:b,isMinimized:j=!1,navigate:C,onMinimize:v,hideComment:N,unhideComment:w,deleteComment:k,commentRef:S}){let[L,D]=(0,m.useState)(!1),[I,E]=(0,m.useState)(null),[A,T]=(0,m.useState)(!1),[R,_]=(0,m.useState)(!1),[F,O]=(0,m.useState)(!1),[M,B]=(0,m.useState)(!1),U=(0,m.useCallback)(n=>`${n.replace(/^(?!>)/gm,"> ")} 

 _Originally posted by @${t} in [${e.referenceText}](${e.url})_`,[e.referenceText,t,e.url]),$=()=>{navigator.clipboard.writeText(e.url)},P=!!e.pendingMinimizeReason||e.isHidden,H=(0,m.useMemo)(()=>P&&!j&&e.viewerCanSeeMinimizeButton?(0,i.jsx)(d.K,{sx:{color:"fg.muted"},"aria-label":"hide comment",variant:"invisible",onClick:()=>v?.(!0),icon:o.FoldIcon,size:"small"}):null,[P,j,v,e.viewerCanSeeMinimizeButton]),K=(0,m.useMemo)(()=>P&&j&&e.viewerCanSeeUnminimizeButton?(0,i.jsx)(d.K,{sx:{color:"fg.muted"},"aria-label":"show comment",variant:"invisible",onClick:()=>v?.(!1),icon:o.UnfoldIcon,size:"small"}):null,[P,j,v,e.viewerCanSeeUnminimizeButton]),V=(0,m.useMemo)(()=>{if(!e.author)return;let n=s.cg?.location.origin;if(!n)return;let i=`content_url=${encodeURIComponent(e.url)}&report=${t}+(user)`;return`${n}/contact/report-content?${i}`},[t,e.author,e.url]),z=(e.viewerCanReport||e.viewerCanReportToMaintainer)&&e.author,G=function(e){let t=e.length>120?`${e.slice(0,120)}... (truncated)`:e;return`Comment actions for comment: "${t}"`}(e.body),W=function(e){let{viewerCanBlockFromOrg:t,pendingBlock:n,hasAuthor:i,pendingUnblock:a}=e;return!!i&&!n&&(!!a||t)}({viewerCanBlockFromOrg:e.viewerCanBlockFromOrg,pendingBlock:!!e.pendingBlock,pendingUnblock:!!e.pendingUnblock,hasAuthor:!!e.author}),q=function(e){let{viewerCanUnblockFromOrg:t,pendingBlock:n,hasAuthor:i,pendingUnblock:a}=e;return!!i&&!a&&(!!n||t)}({viewerCanUnblockFromOrg:e.viewerCanUnblockFromOrg,pendingBlock:!!e.pendingBlock,pendingUnblock:!!e.pendingUnblock,hasAuthor:!!e.author});return(0,i.jsxs)(i.Fragment,{children:[A&&(0,i.jsx)(r.or,{isCreateDialogOpen:A,setIsCreateDialogOpen:T,navigate:C,optionConfig:{defaultDisplayMode:l.q.IssueCreation,issueCreateArguments:{initialValues:{body:U(e.body)},repository:{name:e.repository.name,owner:e.repository.owner.login}}}}),R&&(0,i.jsx)(x._,{owner:e.repository.owner.login,ownerUrl:e.repository.owner.url,reportUrl:V,contentId:e.id,onClose:()=>_(!1),contentType:"comment"}),F&&e.author&&(0,i.jsx)(p.r,{onClose:()=>O(!1),organization:e.repository.owner,contentId:e.id,contentAuthor:e.author,contentUrl:e.url}),M&&e.author&&(0,i.jsx)(y.o,{onClose:()=>B(!1),organization:e.repository.owner,contentAuthor:e.author,contentId:e.id}),H,K,(0,i.jsxs)(c.W,{open:L,onOpenChange:e=>{if(e){let e=window.getSelection();e&&e.anchorNode?E({anchorNode:e.anchorNode,range:e.getRangeAt(0)}):E(null)}D(e)},children:[(0,i.jsx)(c.W.Anchor,{"data-testid":f.Y.commentHeaderHamburger,children:(0,i.jsx)(d.K,{unsafeDisableTooltip:!0,size:"small",icon:o.KebabHorizontalIcon,variant:"invisible","aria-label":G,sx:{color:"fg.muted"}})}),(0,i.jsx)(c.W.Overlay,{children:(0,i.jsxs)(u.l,{"data-testid":f.Y.commentHeaderHamburgerOpen,children:[(0,i.jsxs)(u.l.Item,{onSelect:()=>$(),children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(o.LinkIcon,{})}),"Copy link"]}),(0,a.M3)()&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(u.l.Item,{onSelect:()=>{b((0,h.E)(S?.current,I,e.body))},children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(o.QuoteIcon,{})}),"Quote reply"]}),(0,i.jsx)(u.l.Divider,{}),(0,i.jsxs)(u.l.Item,{"data-testid":f.Y.commentMenuRefComment,sx:{width:"max-content"},onSelect:()=>T(!0),children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(o.IssueOpenedIcon,{})}),"Reference in a new issue"]})]}),(e.viewerCanUpdate||e.viewerCanMinimize||e.viewerCanDelete)&&(0,i.jsx)(u.l.Divider,{}),e.viewerCanUpdate&&(0,i.jsxs)(u.l.Item,{onSelect:()=>n(),children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(o.PencilIcon,{})}),"Edit"]}),e.viewerCanMinimize&&!P&&(0,i.jsxs)(c.W,{children:[(0,i.jsx)(c.W.Anchor,{children:(0,i.jsxs)(u.l.Item,{children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(o.EyeClosedIcon,{})}),"Hide"]})}),(0,i.jsx)(c.W.Overlay,{children:(0,i.jsx)(u.l,{children:(0,i.jsx)(g.w,{onSelect:N,setMenuOpen:D})})})]}),e.viewerCanMinimize&&P&&(0,i.jsxs)(u.l.Item,{onSelect:w,children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(o.EyeIcon,{})})," ","Unhide"]}),e.viewerCanDelete&&(0,i.jsxs)(u.l.Item,{variant:"danger",onSelect:k,children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(o.TrashIcon,{})}),"Delete"]}),z&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.l.Divider,{}),e.viewerCanReportToMaintainer?(0,i.jsxs)(u.l.Item,{onSelect:()=>{_(!0)},children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(o.ReportIcon,{})}),"Report content"]}):(0,i.jsxs)(u.l.LinkItem,{href:V,target:"_blank",children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(o.ReportIcon,{})}),"Report content"]})]}),(W||q)&&!z&&(0,i.jsx)(u.l.Divider,{}),W&&(0,i.jsxs)(u.l.Item,{onSelect:()=>O(!0),children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(o.BlockedIcon,{})}),"Block user"]}),q&&(0,i.jsxs)(u.l.Item,{onSelect:()=>B(!0),children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(o.BlockedIcon,{})}),"Unblock user"]})]})})]})]})}try{b.displayName||(b.displayName="CommentActions")}catch{}},46311:(e,t,n)=>{n.d(t,{C:()=>s});var i=n(74848),a=n(49061),r=n(47139),l=n(96540);let s=({label:e,ariaLabel:t,testId:n,viewerDidAuthor:s,variant:o,leadingElement:d})=>{let c=l.useRef(null),[u,m]=(0,a.B)({contentRef:c,"aria-label":t});return(0,i.jsxs)(r.A,{variant:o||"secondary","data-testid":n,"aria-label":t,ref:c,sx:s?{borderColor:"accent.muted"}:{},...u,children:[d,e,m]})};try{s.displayName||(s.displayName="CommentHeaderBadge")}catch{}},14772:(e,t,n)=>{n.d(t,{z:()=>r});var i=n(74848),a=n(75177);let r=({onClick:e,id:t,children:n})=>(0,i.jsx)(a.A,{as:"button",type:"button",id:t,sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"left",fontWeight:400,color:"fg.muted",width:"100%",backgroundColor:"canvas.default",border:"1px solid",borderColor:"border.default",cursor:"text",borderRadius:2,height:"var(--control-medium-size)",lineHeight:"var(--text-body-lineHeight-medium)",px:2},onClick:e,children:n});try{r.displayName||(r.displayName="CompactCommentButton")}catch{}},19290:(e,t,n)=>{n.d(t,{b:()=>s});var i=n(74848),a=n(39029),r=n(35373),l=n(46311);let s=()=>(0,i.jsx)(l.C,{variant:"danger",ariaLabel:a.k.spammyBadgeTooltip,label:a.k.spammyBadge,testId:r.Y.spammyLabel});try{s.displayName||(s.displayName="SpammyBadge")}catch{}},7278:(e,t,n)=>{n.d(t,{r:()=>j});var i=n(74848),a=n(25013),r=n(16255),l=n(75177),s=n(89323),o=n(8338),d=n(73451),c=n(65607),u=n(52464),m=n(55847),f=n(91246),h=n(96540),p=n(18312),g=n(69487);let x=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"BlockUserFromOrganizationPayload",kind:"LinkedField",name:"blockUserFromOrganization",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"blockUserFromOrganizationMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"blockUserFromOrganizationMutation",selections:t},params:{id:"cc2dfdd4807633d71341d55e85bdcec5",metadata:{},name:"blockUserFromOrganizationMutation",operationKind:"mutation",text:null}}}();x.hash="1cc6b979024f82ac249a77676892c1f0";var y=n(77178);let b={ONE_DAY:"For 1 day",THREE_DAYS:"For 3 days",SEVEN_DAYS:"For 7 days",THIRTY_DAYS:"For 30 days",INDEFINITE:"Until I unblock them"},j=({onClose:e,...t})=>{let[n,a]=(0,h.useState)("INDEFINITE"),[m,p]=(0,h.useState)(!0),[g,x]=(0,h.useState)(!1),[j,w]=(0,h.useState)(void 0),k=t.contentAuthor.login;return(0,i.jsx)(r.Z,{children:(0,i.jsx)(f.l,{renderHeader:()=>(0,i.jsx)(v,{onClose:e,...t}),renderFooter:()=>(0,i.jsx)(N,{onClose:e,...t,notifyBlockedUser:m,hideComment:g,duration:n,hiddenReason:j}),sx:{width:"100%",margin:4,maxWidth:"640px",maxHeight:"clamp(315px, 80vh, 800px)"},width:"xlarge",height:"auto",onClose:e,children:(0,i.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",gap:2},children:[(0,i.jsx)(l.A,{sx:{display:"flex",flexDirection:"row"},children:(0,i.jsx)("div",{children:(0,i.jsxs)("span",{children:["Blocking a user prevents them from interacting with repositories of this organization, such as opening or commenting on pull requests or issues. Learn more about"," ",(0,i.jsx)("a",{href:"https://docs.github.com/communities/maintaining-your-safety-on-github/blocking-a-user-from-your-organization",children:"blocking a user."})]})})}),(0,i.jsx)(l.A,{sx:{display:"flex",flexDirection:"row"},children:(0,i.jsxs)(s.W,{children:[(0,i.jsxs)(s.W.Button,{children:["Block a user: ",b[n]]}),(0,i.jsx)(s.W.Overlay,{children:(0,i.jsx)(o.l,{selectionVariant:"single",children:(0,i.jsxs)(o.l.Group,{children:[(0,i.jsx)(o.l.GroupHeading,{children:"Block options"}),Object.keys(b).map(e=>(0,i.jsx)(o.l.Item,{onSelect:()=>{a(e)},selected:e===n,children:b[e]},e))]})})})]})}),(0,i.jsx)(C,{}),(0,i.jsx)("h4",{children:"More options"}),(0,i.jsxs)(d.A,{sx:{mt:1},children:[(0,i.jsx)(c.A,{checked:m,onChange:()=>p(!m),"aria-checked":m}),(0,i.jsx)(d.A.Label,{children:"Send user a notification and show activity in timeline"}),(0,i.jsx)(d.A.Caption,{children:(0,i.jsxs)(u.A,{sx:{color:"fg.subtle",fontSize:12},children:["You can notify ",(0,i.jsx)("b",{children:k})," as to why they're being blocked. A public timeline entry will show that this user was blocked. They will receive an email notification and a notice when they try to comment with the following message:",(0,i.jsx)(l.A,{sx:{mt:1,ml:2},children:(0,i.jsxs)("blockquote",{children:["A maintainer of the @",t.organization.login," organization has blocked you because of"," ",(0,i.jsx)("a",{href:t.contentUrl,children:"this content"}),". For more information please see"," ",(0,i.jsx)("a",{href:"https://docs.github.com/site-policy/github-terms/github-community-guidelines",children:"the community guidelines"}),"."]})})]})})]}),(0,i.jsxs)(d.A,{children:[(0,i.jsx)(c.A,{checked:g,onChange:()=>x(!g),"aria-checked":g}),(0,i.jsx)(d.A.Label,{children:"Hide this user's comments"}),(0,i.jsx)(d.A.Caption,{children:(0,i.jsxs)(u.A,{sx:{color:"fg.subtle",fontSize:12},children:["All of their comments in this organization"," ",(0,i.jsx)("a",{href:"https://docs.github.com/communities/moderating-comments-and-conversations/managing-disruptive-comments#hiding-a-comment",children:"will be hidden"})," ","to all users and will display a reason."]})})]}),(0,i.jsx)(l.A,{sx:{ml:4},children:(0,i.jsxs)(s.W,{children:[(0,i.jsx)(s.W.Button,{children:(j&&y.n[j])??"Choose a reason"}),(0,i.jsx)(s.W.Overlay,{children:(0,i.jsx)(o.l,{selectionVariant:"single",children:(0,i.jsx)(y.w,{onSelect:w})})})]})})]})})})},C=()=>(0,i.jsx)(l.A,{sx:{height:"1px",backgroundColor:"fg.subtle",margin:"8px 0"}}),v=({contentAuthor:e,organization:t,onClose:n})=>(0,i.jsx)(f.l.Header,{children:(0,i.jsxs)(l.A,{sx:{display:"flex"},children:[(0,i.jsx)(l.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,px:2,py:"6px"},children:(0,i.jsxs)(f.l.Title,{children:["Block ",e.login," from ",t.login]})}),(0,i.jsx)(f.l.CloseButton,{onClose:n})]})}),N=({organization:e,contentAuthor:t,contentId:n,notifyBlockedUser:r,hideComment:l,duration:s,hiddenReason:o,onClose:d})=>{let c=(0,p.useRelayEnvironment)(),u=(0,h.useCallback)(()=>{!function({environment:e,input:{organizationId:t,blockedUserId:n,duration:i,notifyBlockedUser:a,hiddenReason:r,contentId:l},onError:s,onCompleted:o}){let d={organizationId:t,blockedUserId:n,duration:i,notifyBlockedUser:a,contentId:l};r&&(d={...d,hiddenReason:r}),(0,p.commitMutation)(e,{mutation:x,variables:{input:d},onError:e=>s&&s(e),onCompleted:()=>{o?.()}})}({environment:c,input:{organizationId:e.id,contentId:n,blockedUserId:t.id,duration:s,hiddenReason:l&&o?o:void 0,notifyBlockedUser:r},onError:a.l,onCompleted:()=>(0,g.commitLocalUpdate)(c,e=>{let t=e.get(n);t?.setValue(!1,"pendingUnblock"),t?.setValue(!0,"pendingBlock"),o&&t?.setValue(o,"pendingMinimizeReason")})}),d()},[c,e.id,n,t.id,s,l,o,r,d]);return(0,i.jsx)(f.l.Footer,{children:(0,i.jsx)(m.Q,{sx:{width:"100%"},variant:"danger",disabled:l&&!o,onClick:u,children:"Block user from organization"})})};try{j.displayName||(j.displayName="BlockUserFromOrgDialog")}catch{}try{C.displayName||(C.displayName="DialogDivider")}catch{}try{v.displayName||(v.displayName="BlockUserFromOrgDialogHeader")}catch{}try{N.displayName||(N.displayName="BlockUserFromOrgDialogFooter")}catch{}},77178:(e,t,n)=>{n.d(t,{n:()=>r,w:()=>l});var i=n(74848),a=n(8338);let r={SPAM:"Spam",ABUSE:"Abuse",OFF_TOPIC:"Off-topic",OUTDATED:"Outdated",DUPLICATE:"Duplicate",RESOLVED:"Resolved"},l=({setMenuOpen:e,onSelect:t})=>(0,i.jsx)(i.Fragment,{children:Object.keys(r).map(n=>(0,i.jsx)(a.l.Item,{"aria-label":`Hide comment as ${r[n]}`,onSelect:()=>{t(n),e?.(!1)},children:r[n]},n))});try{l.displayName||(l.displayName="HideCommentActionItems")}catch{}},17023:(e,t,n)=>{n.d(t,{_:()=>y});var i=n(74848),a=n(67819),r=n(75177),l=n(34614),s=n(89323),o=n(8338),d=n(55847),c=n(16255),u=n(89015),m=n(73451),f=n(15198),h=n(91246),p=n(96540),g=n(18312);let x=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"SubmitAbuseReportPayload",kind:"LinkedField",name:"submitAbuseReport",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"submitAbuseReportMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"submitAbuseReportMutation",selections:t},params:{id:"0603fe0f6dabc68adea31e484c57deb7",metadata:{},name:"submitAbuseReportMutation",operationKind:"mutation",text:null}}}();x.hash="8b252221b8eab001809aa2a2d583cb84";let y=({owner:e,ownerUrl:t,reportUrl:n,contentId:y,onClose:b,contentType:j="content"})=>{let C=(0,g.useRelayEnvironment)(),{addToast:v}=(0,a.Y6)(),[N,w]=(0,p.useState)("Choose a reason"),[k,S]=(0,p.useState)(!1),[L,D]=(0,p.useState)("admins"),I=(0,p.useCallback)(()=>{S(!0),function({environment:e,input:{reportedContentId:t,reason:n},onError:i,onCompleted:a}){(0,g.commitMutation)(e,{mutation:x,variables:{input:{reportedContent:t,reason:n}},onError:e=>i&&i(e),onCompleted:()=>a&&a()})}({environment:C,input:{reportedContentId:y,reason:"Choose a reason"===N?"UNSPECIFIED":N},onError(e){v({type:"error",message:`Unable to submit report: ${e}`}),S(!1)},onCompleted(){v({type:"success",message:"Report submitted"}),S(!1),b()}})},[v,y,C,b,N]),E=(0,i.jsxs)(r.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{children:[(0,i.jsxs)("span",{children:["This ",j," violates "]}),(0,i.jsx)(l.A,{href:t,children:`@${e}'s `}),(0,i.jsx)("span",{children:"Code of Conduct and should be submitted to the maintainers of this repository for review."})]}),(0,i.jsx)("p",{children:"This report, as well as your username as the reporter, will be viewable by all admins of this repository."}),(0,i.jsxs)("p",{children:["Choose a reason for reporting this ",j]})]}),(0,i.jsx)(r.A,{sx:{marginTop:"8px",marginBottom:"16px"},children:(0,i.jsxs)(s.W,{children:[(0,i.jsx)(s.W.Button,{children:N}),(0,i.jsx)(s.W.Overlay,{children:(0,i.jsxs)(o.l,{children:[(0,i.jsx)(o.l.Item,{onSelect:()=>w("ABUSE"),children:"Abuse"}),(0,i.jsx)(o.l.Item,{onSelect:()=>w("SPAM"),children:"Spam"}),(0,i.jsx)(o.l.Item,{onSelect:()=>w("OFF_TOPIC"),children:"Off Topic"})]})})]})}),(0,i.jsxs)(r.A,{sx:{marginTop:"8px"},children:[(0,i.jsxs)(r.A,{sx:{fontSize:"12px",color:"fg.muted"},children:[(0,i.jsx)("span",{children:"Learn more about "}),(0,i.jsx)(l.A,{href:"https://docs.github.com/articles/reporting-abuse-or-spam",children:"requesting that maintainers moderate content."})]}),(0,i.jsx)(d.Q,{sx:{marginTop:"30px",width:"100%"},variant:"danger",onClick:()=>I(),disabled:k,children:"Report to repository admins"})]})]}),A=(0,i.jsxs)(r.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,i.jsx)("span",{children:"Contact GitHub Support about this user's spammy or abusive behavior."}),(0,i.jsxs)(r.A,{sx:{marginTop:"12px"},children:[(0,i.jsxs)(r.A,{sx:{marginTop:"auto",fontSize:"12px",color:"fg.muted"},children:[(0,i.jsx)("span",{children:"Learn more about "}),(0,i.jsx)(l.A,{href:"https://docs.github.com/articles/reporting-abuse-or-spam",children:"reporting abuse to GitHub support"})]}),(0,i.jsx)(d.Q,{sx:{width:"100%",marginTop:"30px"},variant:"danger",as:"a",href:n,disabled:k,children:"Report abuse to GitHub support"})]})]});return(0,i.jsx)(c.Z,{children:(0,i.jsx)(h.l,{renderHeader:()=>(0,i.jsx)(h.l.Header,{children:(0,i.jsxs)(r.A,{sx:{display:"flex"},children:[(0,i.jsx)(r.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,px:2,py:"6px"},children:(0,i.jsxs)(h.l.Title,{children:["Report ",j]})}),(0,i.jsx)(h.l.CloseButton,{onClose:b})]})}),sx:{width:"100%",margin:4,maxWidth:"640px",maxHeight:"clamp(315px, 80vh, 800px)"},width:"xlarge",height:"auto",onClose:b,children:(0,i.jsxs)(r.A,{sx:{gap:3,display:"grid"},children:[(0,i.jsxs)(u.A,{name:"choiceGroup",onChange:e=>{D(e)},children:[(0,i.jsxs)(u.A.Label,{sx:{fontWeight:"bold",fontSize:"14px",mb:"4px"},children:["Where would you like to report this ",j," to?"]}),(0,i.jsxs)(m.A,{children:[(0,i.jsx)(f.A,{value:"admins",defaultChecked:!0}),(0,i.jsx)(m.A.Label,{children:"To repository admins"})]}),(0,i.jsxs)(m.A,{children:[(0,i.jsx)(f.A,{value:"support"}),(0,i.jsx)(m.A.Label,{children:"To GitHub support"})]})]}),"admins"===L&&E,"support"===L&&A]})})})};try{y.displayName||(y.displayName="ReportContentDialog")}catch{}},65464:(e,t,n)=>{n.d(t,{o:()=>d});var i=n(74848),a=n(53526),r=n(96540),l=n(18312),s=n(69487);let o=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UnblockUserFromOrganizationPayload",kind:"LinkedField",name:"unblockUserFromOrganization",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"unblockUserFromOrganizationMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"unblockUserFromOrganizationMutation",selections:t},params:{id:"3bb2b18124f6d9e474f1e4d67f4d648c",metadata:{},name:"unblockUserFromOrganizationMutation",operationKind:"mutation",text:null}}}();o.hash="05b84828fae0f7858c1ccd7347bfbb3e";let d=({contentAuthor:e,organization:t,onClose:n,contentId:d})=>{let c=(0,l.useRelayEnvironment)(),u=(0,r.useCallback)(i=>{"confirm"===i&&function({environment:e,input:{organizationId:t,unblockedUserId:n},onError:i,onCompleted:a}){(0,l.commitMutation)(e,{mutation:o,variables:{input:{organizationId:t,unblockedUserId:n}},onError:e=>i&&i(e),onCompleted:()=>{a?.()}})}({environment:c,input:{unblockedUserId:e.id,organizationId:t.id},onCompleted:()=>(0,s.commitLocalUpdate)(c,e=>{let t=e.get(d);t?.setValue(!0,"pendingUnblock"),t?.setValue(!1,"pendingBlock")})}),n()},[n,c,e.id,t.id,d]);return(0,i.jsxs)(a.K,{title:`Unblock ${e.login} from ${t.login}`,confirmButtonContent:"Unblock user",confirmButtonType:"danger",onClose:u,children:["Are you sure you want to unblock ",(0,i.jsx)("strong",{children:e.login})," from ",(0,i.jsx)("strong",{children:t.login}),"?"]})};try{d.displayName||(d.displayName="UnblockUserFromOrgDialog")}catch{}},6835:(e,t,n)=>{n.d(t,{d:()=>r});var i=n(74848),a=n(90731);function r({status:e,oid:t,repo:n,badgeProps:r={},descriptionString:l=""}){let[s,o]=(0,a.ym)(t,n);return e?(0,i.jsx)(a.B6,{disablePopover:!1,size:"small",statusRollup:e,buttonSx:{height:"18px",color:"fg.muted",p:"2px"},combinedStatus:s,descriptionText:l,onWillOpenPopup:o,...r}):null}try{r.displayName||(r.displayName="AsyncChecksStatusBadge")}catch{}},53738:(e,t,n)=>{n.d(t,{N:()=>et,$:()=>en});var i=n(74848),a=n(96540),r=n(51752),l=n(48799),s=n(55991),o=n(89539),d=n(38621),c=n(65481),u=n(55847),m=n(12528),f=n(20053),h=n(77962),p=n(52438);let g={"commit-discussion-comments":"Comment-module__commit-discussion-comments--WaMOe","discussion-comments-rose":"Comment-module__discussion-comments-rose--v1SXb"};var x=n(84386),y=n(20300);let b=()=>(0,i.jsx)("div",{className:"d-flex gap-2",children:(0,i.jsx)("div",{className:"flex-1 border overflow-x-auto rounded-2 borderColor-muted color-shadow-small",children:(0,i.jsxs)("div",{className:"d-flex flex-column gap-2 m-3",children:[(0,i.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[(0,i.jsx)(y.O,{variant:"elliptical",height:"xl",width:"xl"}),(0,i.jsx)(y.O,{variant:"rounded",height:"sm",width:"150px"})]}),[void 0,void 0].map((e,t)=>(0,i.jsx)(y.O,{variant:"rounded",height:"sm",width:"random"},t)),(0,i.jsx)(x.e,{})]})})});try{b.displayName||(b.displayName="CommentLoading")}catch{}var j=n(81681),C=n(46711),v=n(21341),N=n(94689),w=n(26396),k=n(36897),S=n(25232),L=n(52873),D=n(71437),I=n(53094),E=n(85797),A=n(34313),T=n(27234),R=n(35967);let _=(0,a.forwardRef)(({initialMarkdown:e,onCancel:t,onSave:n,referenceId:r,buttonText:l,commentContent:s},o)=>{let[d,c]=(0,a.useState)(!1),u=(0,a.useRef)(null),m=(0,a.useRef)(void 0),f=(0,a.useCallback)(()=>{},[]),{markdownBody:h,resetMarkdownBody:p,markdownValidationResult:g,handleMarkdownBodyChanged:x}=(0,A.x)({commentBoxRef:u,markdownComposerRef:o,onChange:f,onCancel:()=>{},referenceId:r});(0,a.useEffect)(()=>{e&&!h&&x(e)},[e]),(0,a.useEffect)(()=>{if(s&&m.current!==s){x(s),m.current=s;let e=window.setTimeout(()=>{u.current&&(u.current?.scrollIntoView(),u.current?.focus())},0);return()=>{window.clearTimeout(e)}}},[s]),(0,R.N)(()=>{if(u&&u.current){let e=window.setTimeout(()=>{u.current?.focus()},0);return()=>{window.clearTimeout(e)}}},[u]);let y=async()=>{c(!0),await n(h,p),c(!1)},b=(0,T.nN)()||void 0;return(0,i.jsx)(E.h,{ref:u,validationResult:g,disabled:d,onChange:e=>{x(e)},onCancel:()=>{x(e??""),t?.()},onSave:y,saveButtonText:l,saveButtonTrailingIcon:!1,value:h,teamHovercardsEnabled:!0,fileUploadsEnabled:!0,userSettings:(0,L.X)().commentBoxConfig,subject:b})});function F({comment:e,commitOid:t,onCancel:n,onUpdate:r}){let{editComment:l}=(0,L.X)(),s=(0,a.useRef)(null),o=async t=>{let n=await l(t,e);n.updatedFields&&r({...e,...n.updatedFields})};return(0,i.jsx)(_,{commitOid:t,initialMarkdown:e.body,ref:s,onSave:o,onCancel:n,referenceId:`${t}-${e.id}`,buttonText:"Update comment"})}_.displayName="CommitCommentEditor";try{F.displayName||(F.displayName="UpdateCommitComment")}catch{}function O({comments:e,commit:t,locked:n,deleteComment:a,updateComment:r,setNewCommentContent:l}){return 0===e.length?null:(0,i.jsx)("div",{className:"d-flex flex-column gap-3",children:e.map(e=>(0,i.jsx)(M,{comment:e,commit:t,locked:n,deleteComment:a,updateComment:r,setNewCommentContent:l},e.id))})}function M({comment:e,commit:t,locked:n,deleteComment:r,updateComment:s,setNewCommentContent:o}){let d=(0,l.t)(),[c,u]=(0,a.useState)(!1),[m,f]=(0,a.useState)(e.isHidden),h=(0,a.useRef)(null),{deleteComment:p,hideComment:g,unhideComment:y}=(0,L.X)(),b=async()=>{let t=await p(e.id.toString());"canceled"!==t&&"error"!==t&&"success"===t&&r(e.id)},j=async t=>{let n=await g(e.id.toString(),t);"error"!==n&&"success"===n&&(s({...e,isHidden:!0,minimizedReason:t}),f(!0))},C=async()=>{let t=await y(e.id.toString());"error"!==t&&"success"===t&&(s({...e,isHidden:!1,minimizedReason:null}),f(!1))},v=t.authors.length>0?t.authors[0]?.login:"",N={...(0,D.p)(e,t,d),referenceText:(0,I.F)(t.oid)};return(0,i.jsxs)("div",{className:"border rounded-2",ref:h,id:e.urlFragment,tabIndex:-1,children:[(0,i.jsx)(B,{comment:N,commentAuthorLogin:e.author.login,commentSubjectAuthorLogin:v,commentSubjectType:"commit",avatarUrl:e.author.avatarUrl,isMinimized:m,editComment:()=>{u(!0)},onReplySelect:o,onMinimize:f,navigate:()=>{},hideComment:j,unhideComment:C,deleteComment:b,commentRef:h,showEditHistory:e.viewerCanReadUserContentEdits&&!!e.lastUserContentEdit,commitComment:e}),m?null:c?(0,i.jsx)("div",{className:"m-2",children:(0,i.jsx)(F,{comment:e,commitOid:t.oid,onUpdate:e=>{s(e),u(!1)},onCancel:()=>u(!1)})}):(0,i.jsxs)("div",{className:"d-flex flex-column m-3 gap-3",style:{gap:"12px"},children:[(0,i.jsx)("div",{className:"markdown-body","data-turbolinks":"false",children:(0,i.jsx)(k.G,{disabled:!1,verifiedHTML:e.htmlBody,markdownValue:e.body,onChange:()=>{},onLinkClick:()=>{},teamHovercardsEnabled:!0})}),(0,i.jsx)(a.Suspense,{fallback:(0,i.jsx)(x.e,{}),children:(0,i.jsx)(S.ReactionViewerRelayQueryComponent,{id:e.relayId,subjectLocked:n})})]})]})}function B({hideActions:e,...t}){let n,r;let l=t.commitComment;return t.showEditHistory&&(n=(0,i.jsx)(a.Suspense,{fallback:null,children:(0,i.jsx)(U,{id:l.relayId})}),r=(0,i.jsx)($,{id:t.comment.id})),(0,i.jsx)(j.v,{lastEditedByMessage:r,editHistoryComponent:n,forceInlineAvatar:!0,...t,actions:e?void 0:(0,i.jsx)(C.p,{...t})})}function U({id:e}){let t=(0,w.f)({id:e});return t?(0,i.jsx)(v.W,{editHistory:t}):null}function $({id:e}){let t=(0,w.f)({id:e});return t?(0,i.jsx)(N._,{editInformation:t}):null}try{O.displayName||(O.displayName="ExistingCommitComments")}catch{}try{M.displayName||(M.displayName="ExistingCommitComment")}catch{}try{B.displayName||(B.displayName="CommitCommentHeader")}catch{}try{U.displayName||(U.displayName="CommitCommentHeaderEditHistory")}catch{}try{$.displayName||($.displayName="CommitCommentHeaderLastEditedBy")}catch{}var P=n(93743),H=n(27010),K=n(80171),V=n(91246);function z({commitOid:e,locked:t,onClose:n}){let r=(0,l.t)(),{helpUrl:s}=(0,H.X)(),[o,d]=(0,a.useState)(!1),u=t?"Unlock":"Lock",m=async()=>{(await (0,K.DI)(`${(0,P.$Qz)({owner:r.ownerLogin,repo:r.name,commitish:e})}/lock`,{method:"PUT",headers:{Accept:"application/json"}})).ok?n(!0):d(!0)},f=async()=>{(await (0,K.lS)(`${(0,P.$Qz)({owner:r.ownerLogin,repo:r.name,commitish:e})}/unlock`,{method:"PUT",headers:{Accept:"application/json"}})).ok?n(!1):d(!0)};return(0,i.jsxs)(V.l,{onClose:()=>n(),width:"large",title:`${u} conversation on this commit`,footerButtons:[{content:`${u} conversation`,buttonType:"danger",sx:{width:"100%"},onClick:t?f:m}],children:[o&&(0,i.jsxs)(c.A,{className:"mb-2",variant:"danger",children:["There was an error ",u.toLocaleLowerCase(),"ing this conversation. Please try again."]}),(0,i.jsxs)("p",{children:[u,"ing the conversation means:"]}),(0,i.jsx)("ul",{className:"ml-4",children:t?(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Everyone"})," will be able to comment on this commit once more."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("li",{children:["Other users ",(0,i.jsx)("strong",{children:"can\u2019t add new comments"})," to this commit."]}),r.isOrgOwned?(0,i.jsxs)("li",{children:["You and other members of teams with\xa0",(0,i.jsx)("a",{href:`${s}/articles/what-are-the-different-access-permissions`,children:"write access"}),"\xa0 to this repository ",(0,i.jsx)("strong",{children:"can still leave comments"})," that others can see."]}):(0,i.jsxs)("li",{children:["You and other collaborators\xa0",(0,i.jsx)("a",{href:"<%= GitHub.help_url %>/articles/what-are-the-different-access-permissions",children:"with access"}),"\xa0to this repository ",(0,i.jsx)("strong",{children:"can still leave comments"})," that others can see."]})]})}),(0,i.jsxs)("p",{className:"mb-0 mt-2",children:["You can always ",t?"lock":"unlock"," this commit again in the future."]})]})}try{z.displayName||(z.displayName="LockConversationDialog")}catch{}var G=n(97273),W=n(58431),q=n(14772),Q=n(65876),Y=n(45079);function X({commitOid:e,onAddComment:t,onExpandCommentEditor:n,newCommentContent:r,canComment:l,locked:s,repoArchived:o,avatarURL:c}){let{addComment:u}=(0,L.X)(),m=(0,a.useRef)(null),f=async(e,n)=>{let i=await u(e);i.comment&&(t(i.comment),n())},h=(0,W.i)(o,s);return(0,i.jsx)("div",{className:"d-flex flex-column gap-2 pt-3",children:l?(0,i.jsx)(J,{commitOid:e,commentEditor:m,onExpandEditor:n,onSave:f,newCommentContent:r,avatarURL:c||Q.t.ghostUser.avatarUrl}):(0,i.jsx)(G.P,{icon:d.LockIcon,reason:h})})}function J(e){let[t,n]=(0,a.useState)(!1),l="Comment";return t?(0,i.jsx)("div",{id:r.Bq.issueCommentComposer,children:(0,i.jsx)(_,{commitOid:e.commitOid,ref:e.commentEditor,onSave:e.onSave,referenceId:`new-discussion-comment-${e.commitOid}`,commentContent:e.newCommentContent,buttonText:l,onCancel:()=>{n(!1)}})}):(0,i.jsxs)("div",{className:"d-flex flex-items-center border rounded-2 p-2 gap-2 color-bg-subtle",children:[(0,i.jsx)(Y.r,{src:e.avatarURL,size:20}),(0,i.jsx)(q.z,{onClick:()=>{n(!0),e.onExpandEditor?.()},children:l})]})}try{X.displayName||(X.displayName="NewCommitComment")}catch{}try{J.displayName||(J.displayName="CompactEditor")}catch{}var Z=n(99805);let ee=(0,a.forwardRef)(({commitOid:e,subscribed:t},n)=>{let r;let[s,o]=(0,a.useState)(t),[c,m]=(0,a.useState)(!1),f=(0,l.t)(),h=(0,Z.H)("/notifications/thread","post");r=c?`You're now ${s?"subscribed":"unsubscribed"} to this thread.`:s?"You're receiving notifications because you're subscribed to this thread.":"You're not receiving notifications from this thread.";let p=async()=>{let t=new FormData;t.append("repository_id",f.id.toString()),t.append("thread_id",e),t.append("thread_class","Commit"),t.append("id",s?"unsubscribe":"subscribe"),t.append("authenticity_token",h??""),(await (0,K.DI)("/notifications/thread",{method:"POST",body:t})).ok&&(o(!s),m(!0))};return(0,i.jsxs)("div",{className:"d-flex flex-items-center border rounded-2 p-2 gap-2",ref:n,children:[(0,i.jsx)(u.Q,{onClick:p,size:"small",leadingVisual:s?d.BellSlashIcon:d.BellIcon,children:s?"Unsubscribe":"Subscribe"}),(0,i.jsx)("p",{role:"status",className:"f6 fgColor-muted mb-0",children:r})]})});ee.displayName="NotificationsFooter";let et="comments";function en(e){return(0,i.jsx)("div",{className:(0,f.$)("d-flex flex-column gap-2 pt-3",r.mU.commentsContainer,g["commit-discussion-comments"]),id:et,children:(0,a.createElement)(ei,{...e,key:e.commit.oid})})}function ei({commit:e,commentInfo:t}){let n=(0,l.t)(),r=(0,s.i)(),{retry:d,loadMore:m,canLoadMore:f,addComment:x,deleteComment:y,updateComment:j,count:C,comments:v,subscribed:N,providerState:w}=(0,h.y)(),[k,S]=(0,a.useState)(void 0),[L,D]=(0,a.useState)(t.locked),I=(0,a.useMemo)(()=>(0,p.N)(e.oid,n.id),[e.oid,n.id]),E=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(o.cg?.location.hash){let e=o.cg.location.hash.slice(1);if(v.find(t=>t.urlFragment===e)){let t=document.getElementById(e);t&&(t.scrollIntoView(),t.focus())}}},[v]);let A=(0,a.useCallback)(()=>{setTimeout(()=>E.current?.scrollIntoView({behavior:"smooth",block:"nearest"}),0)},[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ea,{commitOid:e.oid,commentCount:C,canLock:t.canLock,locked:L,setLocked:D}),"loading"===w&&(0,i.jsx)(b,{}),"error"===w&&(0,i.jsxs)(c.A,{className:"d-flex flex-justify-between flex-items-center",variant:"danger",children:[(0,i.jsx)("span",{children:"Failed to load comments."}),(0,i.jsx)(u.Q,{onClick:()=>d(),children:"Retry"})]}),"loaded"===w&&f&&(0,i.jsx)(u.Q,{className:"width-full",onClick:()=>m(),children:"Load more comments"}),(0,i.jsx)(O,{comments:v,commit:e,locked:L,deleteComment:y,updateComment:j,setNewCommentContent:S}),I?(0,i.jsx)("div",{className:"text-center",children:[...Array(38)].map((e,t)=>(0,i.jsx)("img",{alt:"rose",src:"/images/icons/emoji/rose.png",className:g["discussion-comments-rose"]},`rose-${t}`))}):null,"loaded"===w||0!==v.length?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(X,{commitOid:e.oid,onAddComment:x,onExpandCommentEditor:A,newCommentContent:k,canComment:t.canComment,locked:L,repoArchived:t.repoArchived,avatarURL:r?.avatarURL}),r?(0,i.jsx)(ee,{ref:E,commitOid:e.oid,subscribed:N??!1}):null]}):null]})}function ea({commitOid:e,commentCount:t,locked:n,setLocked:r,canLock:l}){let[s,o]=(0,a.useState)(!1);return(0,i.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between",children:[(0,i.jsxs)("h2",{className:"sr-only",children:[t," commit comments"]}),(0,i.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,i.jsx)("div",{className:"h4 pr-2",children:"Comments"}),void 0!==t&&(0,i.jsx)(m.A,{children:t})]}),l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(u.Q,{leadingVisual:n?d.KeyIcon:d.LockIcon,variant:"invisible",onClick:()=>o(!0),children:[n?"Unlock":"Lock"," conversation"]}),s&&(0,i.jsx)(z,{commitOid:e,locked:n,onClose:e=>{o(!1),void 0!==e&&r(e)}})]})]})}try{en.displayName||(en.displayName="DiscussionComments")}catch{}try{ei.displayName||(ei.displayName="DiscussionCommentsInternal")}catch{}try{ea.displayName||(ea.displayName="DiscussionCommentsHeader")}catch{}},70475:(e,t,n)=>{n.d(t,{j:()=>d});var i=n(74848),a=n(91021),r=n(20300),l=n(81115),s=n(89169),o=n(2662);function d({commit:e,repo:t,children:n,settings:d,textVariant:c}){let u=(0,o.NO)(e.oid),[m]=(0,l.I)(()=>!1,!0,[]);return(0,i.jsxs)(a.j,{authors:e.authors,committer:e.committer,committerAttribution:e.committerAttribution,onBehalfOf:u?.onBehalfOf,repo:t,includeVerbs:!0,authorSettings:{fontWeight:"normal",fontColor:"fg.muted",avatarSize:16,...d},textVariant:c,children:[!m&&(0,i.jsx)(s.A,{className:"pl-1",datetime:e.committedDate}),m&&(0,i.jsx)(r.O,{variant:"rounded",className:"d-none d-sm-flex ml-1",width:"60px"}),n]})}try{d.displayName||(d.displayName="CommitAttribution")}catch{}},30801:(e,t,n)=>{n.d(t,{s:()=>m});var i=n(74848),a=n(38621),r=n(93597),l=n(84217),s=n(30729);let o={none:{},bottom:{pb:0},top:{pt:0}},d=()=>(0,i.jsx)(s.A,{icon:a.GitCommitIcon});function c({children:e,leadingVisual:t,clipTimeline:n="none",sx:a}){let l=o[n];return(0,i.jsxs)(r.A.Item,{sx:{py:1,...l,...a},children:[(0,i.jsx)(r.A.Badge,{sx:{backgroundColor:"canvas.default"},children:t??(0,i.jsx)(d,{})}),(0,i.jsx)(r.A.Body,{className:"mt-0",children:e})]})}function u({title:e,as:t,...n}){return(0,i.jsx)(l.A,{as:t,className:"text-normal f5 py-1",...n,children:e})}let m=Object.assign(c,{Heading:u});try{d.displayName||(d.displayName="DefaultLeadingVisual")}catch{}try{c.displayName||(c.displayName="TimelineRowComponent")}catch{}try{u.displayName||(u.displayName="TimelineRowHeading")}catch{}try{m.displayName||(m.displayName="TimelineRow")}catch{}},68494:(e,t,n)=>{n.d(t,{w:()=>o});var i=n(74848),a=n(15635),r=n(36619),l=n(639),s=n(53094);function o({sha:e,direction:t="s"}){let{sendAnalyticsEvent:n}=(0,r.s)(),{loggingPrefix:o,loggingPayload:d}=(0,l.xe)(),c=(0,l.eX)();return(0,i.jsx)("div",{onClick:()=>{c&&n(`${o}click`,"COPY_SHA_CLICKED",d)},children:(0,i.jsx)(a.T,{textToCopy:e,ariaLabel:`Copy full SHA for ${(0,s.F)(e)}`,tooltipProps:{direction:t},size:"small"})})}try{o.displayName||(o.displayName="CopySHA")}catch{}},43935:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(74848),a=n(20053);function r({children:e,className:t=""}){return(0,i.jsx)("div",{className:(0,a.$)("color-bg-default position-relative border rounded-2 color-border-default mt-2 d-flex flex-column",t),children:e})}try{r.displayName||(r.displayName="Panel")}catch{}},639:(e,t,n)=>{n.d(t,{eX:()=>s,xe:()=>o,zq:()=>l});var i=n(74848),a=n(96540);let r=(0,a.createContext)({loggingPayload:void 0,loggingPrefix:void 0});function l({children:e,loggingInfo:t}){return(0,i.jsx)(r.Provider,{value:t,children:e})}function s(){let e=(0,a.useContext)(r);return void 0!==e.loggingPayload&&void 0!==e.loggingPrefix}function o(){return(0,a.useContext)(r)}try{r.displayName||(r.displayName="CommitsLoggingContext")}catch{}try{l.displayName||(l.displayName="CommitsLoggingInfoProvider")}catch{}},2662:(e,t,n)=>{n.d(t,{M2:()=>o,NO:()=>d,UI:()=>r,Xx:()=>l,ej:()=>u,xs:()=>c});var i=n(74848),a=n(96540);let r={deferredCommits:[],renameHistory:null,loading:!0},l={deferredCommits:[],renameHistory:null,loading:!1},s=(0,a.createContext)(r);function o({children:e,deferredData:t}){return(0,i.jsx)(s.Provider,{value:t,children:e})}function d(e){let t=(0,a.useContext)(s),n=t.error,i=t.deferredCommits?.find(t=>t?.oid===e);return n&&void 0===i&&(i={oid:e,statusCheckStatus:void 0}),i}function c(){return(0,a.useContext)(s).loading}function u(){return(0,a.useContext)(s).renameHistory}try{s.displayName||(s.displayName="DeferredCommitDataContext")}catch{}try{o.displayName||(o.displayName="DeferredCommitDataProvider")}catch{}},77962:(e,t,n)=>{n.d(t,{c:()=>c,y:()=>u});var i,a=n(74848),r=n(25013),l=n(93743),s=n(80171),o=n(96540);let d=(0,o.createContext)({comments:[],addComment:r.l,deleteComment:r.l,updateComment:r.l,loadMore:r.l,retry:r.l,canLoadMore:!1,count:0,subscribed:!1,providerState:"initial"});function c({children:e,comments:t=[],commentCount:n=0,canLoadMore:i=!1,subscribed:r=!1,providerState:c="initial",repo:u,commitOid:m}){let[f,h]=(0,o.useState)(t),[p,g]=(0,o.useState)(n),[x,y]=(0,o.useState)(i),[b,j]=(0,o.useState)(c),[C,v]=(0,o.useState)(r);(0,o.useEffect)(()=>{g(n),h(t),y(i),v(r),j(c)},[c]);let N=(0,o.useCallback)(async e=>{j("loading");let t=await (0,s.Sr)((0,l.Mo3)({owner:u.ownerLogin,repo:u.name,commitOid:m,beforeCommentId:e}));if(t.ok){let n=await t.json();e?h(e=>[...n.comments,...e]):h(n.comments),j("loaded"),g(n.count),v(n.subscribed),y(n.canLoadMore)}else j("error")},[u.ownerLogin,u.name,m]),w=(0,o.useCallback)(()=>{let e=f[0];e&&x&&N(e.id.toString())},[x,f,N]),k=(0,o.useCallback)(e=>{h([...f,e]),g((p??0)+1)},[f,p]),S=(0,o.useCallback)(e=>{h(f.filter(t=>t.id!==e)),g((p??0)-1)},[f,p]),L=(0,o.useCallback)(e=>{h(f.map(t=>t.id===e.id?e:t))},[f]),D=(0,o.useMemo)(()=>({addComment:k,canLoadMore:x,comments:f,count:p,deleteComment:S,loadMore:w,retry:N,subscribed:C,providerState:b,updateComment:L}),[k,x,f,p,S,N,w,b,C,L]);return(0,a.jsx)(d.Provider,{value:D,children:e})}function u(){let e=(0,o.useContext)(d);if(!e)throw Error("useDiscussionComments must be used within a DiscussionCommentsProvider");return e}try{d.displayName||(d.displayName="DiscussionCommentsContext")}catch{}try{c.displayName||(c.displayName="DiscussionCommentsProvider")}catch{}try{(i=DiscussionComments).displayName||(i.displayName="DiscussionComments")}catch{}},76451:(e,t,n)=>{n.d(t,{B:()=>c,r:()=>d});var i=n(74848),a=n(25013),r=n(96540);let l=(0,r.createContext)({comments:[],addComments:a.l,findInlineComment:()=>void 0,getCommentCountByPath:()=>0,getThreadDataByPathAndPosition:()=>void 0,getInlineCommentInfoByPathAndPosition:()=>void 0});function s(e){return e.reduce((e,t)=>(e.set(`${t.path}::${t.position}`,t),e),new Map)}function o(e){let t=new Map;for(let n in e)if(e.hasOwnProperty(n)){let i=new Map;for(let t in e[n])e[n].hasOwnProperty(t)&&i.set(Number(t),e[n][Number(t)]);t.set(n,i)}return t}function d({children:e,initialFiles:t,initialExpandedThreadId:n,initialInlineComments:a}){let[d,c]=(0,r.useState)([]),[u,m]=(0,r.useState)(t??[]),[f,h]=(0,r.useState)(()=>t?s(t):new Map),[p,g]=(0,r.useState)(()=>a?o(a):new Map);(0,r.useEffect)(()=>{m(t??[]),h(t?s(t):new Map),g(a?o(a):new Map)},[t,a]);let x=(0,r.useCallback)((e,t,n)=>{let i=e.map(e=>e.id),a=d.filter(e=>!i.includes(e.id)),r=u.filter(e=>e.path!==t||e.position!==parseInt(n)),l={path:t,position:parseInt(n),count:e.length,threads:[{id:`${t}::${n}`,diffSide:"RIGHT",commentsData:{totalCount:e.length,comments:e.map(e=>({id:e.id,author:{avatarUrl:e?.author?.avatarUrl??"",login:e?.author?.login??"",url:""}}))}}]};c([...a,...e]),m([...r,l]),h(s([...r,l]))},[u,d]),y=(0,r.useCallback)(e=>d.find(t=>t.relayId===e),[d]),b=(0,r.useCallback)(e=>{let t=0;for(let n of u)n.path===e&&(t+=n.count);return t},[u]),j=(0,r.useCallback)((e,t)=>f.get(`${e}::${t}`),[f]),C=(0,r.useCallback)((e,t)=>p.get(e)?.get(t),[p]),v=(0,r.useMemo)(()=>({comments:d,addComments:x,findInlineComment:y,getCommentCountByPath:b,getThreadDataByPathAndPosition:j,getInlineCommentInfoByPathAndPosition:C,initialExpandedThreadId:n}),[x,d,y,b,j,C,n]);return(0,i.jsx)(l.Provider,{value:v,children:e})}function c(){let e=(0,r.useContext)(l);if(!e)throw Error("useInlineComments must be used within a InlineCommentsProvider");return e}try{l.displayName||(l.displayName="InlineCommentsContext")}catch{}try{d.displayName||(d.displayName="InlineCommentsProvider")}catch{}},52801:(e,t,n)=>{n.d(t,{f:()=>Z});var i=n(74848),a=n(46697),r=n(89539),l=n(34610),s=n(72731),o=n(93597),d=n(96540),c=n(64622),u=n(43935);let m={panel:"CommitGroup-module__panel--tvFMx"};var f=n(38719),h=n(90731),p=n(72029),g=n(45999),x=n(18748),y=n(34618),b=n(59760),j=n(77175),C=n(36619),v=n(639),N=n(2662),w=n(70475),k=n(93743),S=n(15091),L=n(38621),D=n(55847),I=n(87330),E=n(94977),A=n(14616),T=n(53094),R=n(53738);let _=d.memo(F);function F({repo:e,oid:t}){let n=`browse-repo-${(0,T.F)(t)}`,{sendAnalyticsEvent:a}=(0,C.s)(),{loggingPrefix:r,loggingPayload:l}=(0,v.xe)(),s=(0,v.eX)();return(0,i.jsx)(E.A,{"aria-label":"Browse repository at this point",id:n,direction:"sw",children:(0,i.jsx)("a",{"aria-labelledby":n,href:(0,k.IO9)({repo:e,action:"tree",commitish:t}),className:"Button Button--iconOnly Button--invisible Button--small","data-testid":"commit-row-browse-repo",onClick:()=>{s&&a(`${r}click`,"COMMITS_BROWSE_REPOSITORY_AT_THIS_POINT_CLICKED",l)},children:(0,i.jsx)(L.CodeIcon,{})})})}let O=d.memo(M);function M({repo:e,oid:t,path:n}){if(!n)return null;let a=`view-code-${(0,T.F)(t)}`;return(0,i.jsx)(E.A,{"aria-label":"View code at this point",id:a,direction:"sw",children:(0,i.jsx)("a",{"aria-labelledby":a,href:(0,k.nD_)({owner:e.ownerLogin,repo:e.name,commitish:t,filePath:n}),className:"Button Button--iconOnly Button--invisible Button--small","data-testid":"commit-row-view-code",children:(0,i.jsx)(L.FileCodeIcon,{})})})}function B({commitUrl:e,oid:t,softNavToCommit:n}){let a={variant:"invisible",size:"small",sx:{fontFamily:"var(--fontStack-monospace)",color:"fg.muted"}};return(0,i.jsx)(E.A,{"aria-label":"View commit details",direction:"s",children:n?(0,i.jsx)(D.Q,{as:S.N,to:e,...a,children:(0,T.F)(t)}):(0,i.jsx)("a",{className:"Button--invisible Button--small Button text-mono",href:e,...a,children:(0,i.jsx)("span",{className:"Button-content",children:(0,i.jsx)("span",{className:"Button-label color-fg-muted",children:(0,T.F)(t)})})})})}function U({showDescription:e,setShowDescription:t,oid:n}){let a=(0,T.F)(n),r=`show-description-${a}`,l=`${e?"Hide":"Show"} description for ${a}`;return(0,i.jsx)(A.m,{id:r,text:l,"aria-label":l,children:(0,i.jsx)(I.K,{icon:L.EllipsisIcon,className:"Button Button--iconOnly Button--invisible Button--small ml-1","data-testid":"commit-row-show-description-button","aria-labelledby":r,"aria-pressed":e,"aria-expanded":e,onClick:n=>{n.preventDefault(),t(!e)}})})}function $({count:e,repo:t,oid:n}){if(!e)return null;let a=`comment-count-${(0,T.F)(n)}`;return(0,i.jsx)(E.A,{"aria-label":`View ${e} commit comment${e>1?"s":""}`,id:a,direction:"sw",children:(0,i.jsx)("a",{"aria-labelledby":a,href:`${(0,k.$Qz)({owner:t.ownerLogin,repo:t.name,commitish:n})}#${R.N}`,className:"Button Button--invisible Button--small","data-testid":"commit-row-comments",children:(0,i.jsxs)("span",{className:"Button-content color-fg-muted",children:[(0,i.jsx)(L.CommentIcon,{}),(0,i.jsx)("span",{className:"Button-label",children:e})]})})})}try{_.displayName||(_.displayName="BrowseRepositoryAtThisPoint")}catch{}try{F.displayName||(F.displayName="WrappedBrowseRepositoryAtThisPoint")}catch{}try{O.displayName||(O.displayName="ViewCodeAtThisPoint")}catch{}try{M.displayName||(M.displayName="WrappedViewCodeAtThisPoint")}catch{}try{B.displayName||(B.displayName="ViewCommitDetails")}catch{}try{U.displayName||(U.displayName="ToggleCommitDescription")}catch{}try{$.displayName||($.displayName="CommitCommentCount")}catch{}var P=n(72207),H=n(20300),K=n(66863),V=n(6835);function z({deferredData:e}){let{helpUrl:t}=(0,K.D)(),n=(0,N.xs)();return(0,i.jsxs)(i.Fragment,{children:[n&&(0,i.jsx)(H.O,{variant:"rounded",className:"d-none d-sm-flex",width:"62px"}),!n&&void 0===e&&(0,i.jsx)(H.O,{variant:"rounded",className:"d-none d-sm-flex",width:"62px"}),!n&&e&&(0,i.jsx)(P.h,{commitOid:e.oid,hasSignature:!0,verificationStatus:e.verifiedStatus,signature:e.signatureInformation?{helpUrl:t,...e.signatureInformation}:void 0})]})}function G({deferredData:e,oid:t,repository:n}){let a=(0,N.xs)(),r="";try{r=e?.statusCheckStatus?.short_text?.split("checks")[0]?.trim()||""}catch{}return(0,i.jsxs)(i.Fragment,{children:[a&&(0,i.jsx)(H.O,{variant:"rounded",className:"d-none d-sm-flex ml-2",width:"20px"}),!a&&void 0===e&&(0,i.jsx)(H.O,{variant:"rounded",className:"d-none d-sm-flex ml-2",width:"20px"}),!a&&e?.statusCheckStatus&&(0,i.jsx)("div",{className:"d-none d-sm-flex ml-1",children:"\xb7"}),(0,i.jsx)("div",{className:"d-none d-sm-flex",children:(0,i.jsx)(V.d,{oid:t,status:e?.statusCheckStatus?.state,descriptionString:r,repo:n})})]})}try{z.displayName||(z.displayName="SignedCommitBadge")}catch{}try{G.displayName||(G.displayName="CommitChecksStatusBadge")}catch{}var W=n(68494);let q={ListItemTitle_0:"CommitRow-module__ListItemTitle_0--g9uVv",ListItem_0:"CommitRow-module__ListItem_0--PkFAi",ListItemMetadata_0:"CommitRow-module__ListItemMetadata_0--MUr_4"},Q=(0,d.lazy)(()=>n.e("ui_packages_commits_components_Commits_CommitActionBar_tsx").then(n.bind(n,29655)).then(e=>({default:e.CommitActionBar})));function Y({commit:e,repo:t,path:n,softNavToCommit:a}){let[r,l]=(0,d.useState)(!1),s=(0,d.useRef)(null),[o,c]=(0,h.ym)(e.oid,t),[u,m]=(0,d.useState)(!1),k=(0,N.NO)(e.oid),{sendAnalyticsEvent:S}=(0,C.s)(),{loggingPrefix:L,loggingPayload:D}=(0,v.xe)(),I=(0,v.eX)();return(0,d.useEffect)(()=>{r&&s.current&&s.current.textContent&&(0,f.i)(s.current.textContent)},[s,r]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(p.c,{"data-testid":"commit-row-item","data-commit-link":e.url,title:(0,i.jsx)(b.a,{value:e.shortMessage,markdownValue:e.shortMessageMarkdownLink,href:e.url,onClick:()=>{I&&S(`${L}click`,"COMMITS_TITLE_CLICKED",D)},containerClassName:q.ListItemTitle_0,headingClassName:q.ListItemTitle_0,children:e.bodyMessageHtml&&(0,i.jsx)(U,{showDescription:r,setShowDescription:l,oid:e.oid})}),metadata:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.V,{children:(0,i.jsx)($,{oid:e.oid,repo:t,count:k?.commentCount??0})}),(0,i.jsx)(y.V,{className:q.ListItemMetadata_0,children:(0,i.jsx)(z,{deferredData:k})}),(0,i.jsxs)(y.V,{className:"d-none d-sm-flex px-0 gap-2",variant:"primary",children:[(0,i.jsxs)("div",{className:"d-flex",children:[(0,i.jsx)(B,{oid:e.oid,commitUrl:e.url,softNavToCommit:a}),(0,i.jsx)(W.w,{sha:e.oid})]}),(0,i.jsx)(O,{repo:t,oid:e.oid,path:n}),(0,i.jsx)(_,{repo:t,oid:e.oid})]})]}),secondaryActions:(0,i.jsx)(d.Suspense,{children:(0,i.jsx)(Q,{commit:e,repo:t,path:n,setDialogOpen:m,fetchCheckDetails:c,deferredData:k})}),className:q.ListItem_0,children:[(0,i.jsx)("div",{className:"px-1"}),(0,i.jsxs)(x.Q,{children:[r&&e.bodyMessageHtml&&(0,i.jsx)(g.U,{children:(0,i.jsx)(j.yx,{ref:s,html:e.bodyMessageHtml,className:"ws-pre-wrap extended-commit-description-container pb-2 text-mono wb-break-word"})}),(0,i.jsx)(g.U,{children:(0,i.jsx)(w.j,{commit:e,repo:t,children:(0,i.jsx)(G,{repository:t,deferredData:k,oid:e.oid})})})]})]}),k?.statusCheckStatus&&u&&(0,i.jsx)(h.xC,{combinedStatus:o,isOpen:u,onDismiss:()=>{m(!1)}})]})}try{Q.displayName||(Q.displayName="CommitActionBar")}catch{}try{Y.displayName||(Y.displayName="CommitRow")}catch{}var X=n(30801);function J({commits:e,title:t,shouldClipTimeline:n,repo:a,currentBlobPath:r="",softNavToCommit:l}){let s=(0,d.useId)();return(0,i.jsxs)(X.s,{clipTimeline:n?"top":"none",children:[(0,i.jsx)(X.s.Heading,{as:"h3",id:s,title:`Commits on ${t}`,"data-testid":"commit-group-title"}),(0,i.jsx)(u.Z,{className:m.panel,children:(0,i.jsx)(c.u,{title:t,titleHeaderTag:"h3",ariaLabelledBy:s,children:e.map(e=>(0,i.jsx)(Y,{commit:e,repo:a,path:r,softNavToCommit:l},e.oid))},t)})]})}try{J.displayName||(J.displayName="CommitGroup")}catch{}function Z({leadingContent:e,commitGroups:t,trailingContent:n,deferredCommitData:c=N.Xx,repository:u,currentBlobPath:m,loggingPayload:f,loggingPrefix:h,shouldClipTimeline:p=!0,softNavToCommit:g=!1}){let x=(0,d.useRef)(0),y=(0,d.useRef)(null),b=(0,d.useRef)(null),j=(0,d.useRef)(!1),C=(0,d.useRef)([]),w=(0,s.Z)(),k=e=>{"commit-diff-view:tab-forward"===e.commandId&&(y.current=b.current,b.current=r.XC?.activeElement??null,j.current=!1),"commit-diff-view:tab-backward"===e.commandId&&r.XC?.activeElement?.hasAttribute("data-commit-link")&&!j.current&&y.current&&(y.current.focus(),b.current=y.current),"commit-diff-view:tab-backward"===e.commandId&&(j.current=!0)},S=e=>{if(!(0,a.zw)()&&("commit-diff-view:go-down-commit"===e.commandId||"commit-diff-view:go-up-commit"===e.commandId))return;let t=1;for(let e=0;e<C.current.length;e++)C.current[e]?.contains(r.XC?.activeElement)&&(t=e+1);let n=!1;if(("commit-diff-view:go-up-commit"===e.commandId||"commit-diff-view:go-up-commit-arrow"===e.commandId)&&(n=!0),x.current!==t)x.current=t;else{let e=C.current[n?t-2:t];e?.focus(),e?.focus(),x.current=n?t-1:t+1}};return(0,d.useEffect)(()=>{let e=setTimeout(()=>{let e=document.querySelectorAll('[id*="-list-view-node-"]');C.current=Array.from(e)},0);return()=>clearTimeout(e)},[t]),(0,i.jsx)(N.M2,{deferredData:c,children:(0,i.jsx)(v.zq,{loggingInfo:{loggingPayload:f,loggingPrefix:h},children:(0,i.jsxs)(o.A,{clipSidebar:!0,onKeyDown:e=>{if("Enter"===e.key){let t=r.XC?.activeElement?.hasAttribute("data-commit-link")?r.XC?.activeElement?.getAttribute("data-commit-link"):void 0;t&&(e.ctrlKey||e.metaKey?r.cg?.open(t,"_blank"):w(t))}},children:[e,(0,i.jsx)(l.tL,{commands:{"commit-diff-view:go-down-commit-arrow":S,"commit-diff-view:go-down-commit":S,"commit-diff-view:go-up-commit-arrow":S,"commit-diff-view:go-up-commit":S,"commit-diff-view:tab-forward":k,"commit-diff-view:tab-backward":k},triggerOnDefaultPrevented:!0,children:t.map((e,t)=>(0,i.jsx)(J,{title:e.title,commits:e.commits,shouldClipTimeline:p&&0===t,currentBlobPath:m,repo:u,softNavToCommit:g},e.title))}),n]})})})}try{Z.displayName||(Z.displayName="Commits")}catch{}},95777:(e,t,n)=>{n.d(t,{M:()=>u});var i=n(74848),a=n(33428),r=n(25013),l=n(38621),s=n(67138),o=n(24664),d=n(43935);let c={timeout:{description:"Try reloading the page, or if the problem persists, view the history locally using this command:",heading:"Commit history cannot be loaded",icon:(0,i.jsx)(l.AlertIcon,{size:"medium",className:"mb-2 fgColor-muted"}),showTextInput:!0},unavailable:{description:"There isn't any commit history to show here.",heading:"No commits history",icon:(0,i.jsx)(l.GitCommitIcon,{size:"medium"}),showTextInput:!1}};function u({timeoutMessage:e,unavailableMessage:t}){let n=c[""!==e?"timeout":"unavailable"],u=t??n.description;return(0,i.jsx)(d.Z,{children:(0,i.jsx)("div",{"data-hpc":!0,children:(0,i.jsxs)(o.A,{border:!1,spacious:!0,children:[(0,i.jsx)(o.A.Visual,{children:n.icon}),(0,i.jsx)(o.A.Heading,{children:n.heading}),(0,i.jsx)(o.A.Description,{children:u}),n.showTextInput&&(0,i.jsx)(s.A,{"aria-label":"View commit history locally command",className:"d-flex flex-justify-center mt-2",monospace:!0,onChange:r.l,readOnly:!0,size:"large",trailingAction:(0,i.jsx)(s.A.Action,{onClick:()=>(0,a.D)(e),icon:l.CopyIcon,"aria-label":"Copy to clipboard",className:"fgColor-muted"}),value:e})]})})})}try{u.displayName||(u.displayName="CommitsBlankState")}catch{}},93900:(e,t,n)=>{n.d(t,{U:()=>u});var i=n(74848),a=n(85003),r=n(89539),l=n(75177),s=n(96540),o=n(45116),d=n(11871),c=n(73248);function u({batchPending:e,batchingEnabled:t,commentBoxConfig:n,condensed:u,fileLevelComment:m,filePath:f,focusOnMount:h,isReplying:p,lineNumber:g,onAddComment:x,onCancelComment:y,onPersistedCommentExists:b,quotedText:j="",side:C,subjectId:v,threadId:N,suggestedChangesConfig:w}){let[k,S]=(0,s.useState)(j),[L,D]=(0,s.useState)(!1),[I,E]=(0,s.useState)(),A=(0,s.useRef)(null),T=(0,s.useRef)(null),{persistCommentToStorage:R,removePersistedCommentFromStorage:_}=(0,o.L)({diffSide:C,filePath:f,line:g,subjectId:v,threadId:N,handlePersistedCommentExists:({text:e})=>{e&&(S(e),b?.())},fileLevelComment:!!m});(0,s.useEffect)(()=>{if(h){let e=setTimeout(()=>{if(T.current&&(r.XC||r.cg)){let e=T.current,t=e.getBoundingClientRect(),n=r.XC?.documentElement.clientHeight||0;if(!(t.top>=0&&t.bottom<=(r.cg?.innerHeight||n))){let i=t.top,a=r.XC?.documentElement.getBoundingClientRect().top||0,l=e.clientHeight*(2/3);r.cg?.scrollTo({top:i-a-2/3*n+l,behavior:"smooth"})}}A.current?.focus()},100);return()=>{window.clearTimeout(e)}}},[h]);let F=({submitBatch:e})=>{D(!0),E(void 0);let t=(0,d.u)(k,w?.sourceContentFromDiffLines??"");if(!t.isValid){E(t.errorMessage),D(!1);return}x?.({commentText:k,onCompleted(){D(!1),B()},onError(e){D(!1);let t="Failed to save comment";e.message&&(t=`${t}: ${e.message}`),E(t)},submitBatch:e})},O=()=>F({submitBatch:!1}),M=()=>F({submitBatch:!0}),B=()=>{_(),S(""),y?.()},U={footer:{justifyContent:p?"end":"space-between","> div:first-child":{display:u||p?"none":"flex"},...u&&{"> div:last-child":{display:"flex",flexDirection:"column",width:"100%"}}}};return(0,i.jsx)(l.A,{sx:{display:"flex",flexDirection:"column",fieldset:{minWidth:0,width:["100%"]}},children:(0,i.jsxs)(c.S,{ref:A,label:"Add diff comment",sx:U,value:k,onChange:e=>{E(void 0),R({text:e}),S(e)},onPrimaryAction:t?O:M,userSettings:n,suggestedChangesConfig:w,markdownErrorMessage:I,children:[y&&(0,i.jsx)(a.x,{disabled:L,sx:{py:1,px:2},variant:"default",onClick:B,children:"Cancel"}),!e&&(0,i.jsx)(a.x,{disabled:L||!k.length,sx:{py:1,px:2},variant:t?"default":"primary",onClick:M,ref:T,children:p?"Reply":"Comment"}),t&&(0,i.jsx)(a.x,{disabled:L||!k.length,sx:{py:1,px:2},variant:"primary",onClick:O,children:e?"Add review comment":"Start a review"})]})})}try{u.displayName||(u.displayName="AddCommentEditor")}catch{}},10452:(e,t,n)=>{n.d(t,{Y:()=>h});var i=n(74848),a=n(45079),r=n(38621),l=n(75177),s=n(52464),o=n(30631),d=n(55847),c=n(30729),u=n(99634),m=n(70819);let f={[u.U.Failure]:(0,i.jsx)(c.A,{icon:r.StopIcon,sx:{fill:"danger.fg"}}),[u.U.Warning]:(0,i.jsx)(c.A,{icon:r.AlertIcon,sx:{fill:"attention.fg"}}),[u.U.Notice]:(0,i.jsx)(c.A,{icon:r.InfoIcon,sx:{fill:"fg.muted"}})};function h({annotation:e}){return(0,i.jsxs)(l.A,{sx:{borderLeft:"6px solid",borderColor:m.GF[e.annotationLevel].primaryColor,p:4},children:[(0,i.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[f[e.annotationLevel],(0,i.jsx)(s.A,{sx:{fontWeight:600,color:"fg.muted",fontSize:0,pl:2},children:m.GF[e.annotationLevel].ariaLabel})]}),(0,i.jsx)(s.A,{sx:{color:m.GF[e.annotationLevel].primaryColor,fontWeight:600,fontSize:1},children:e.title}),(0,i.jsx)(l.A,{sx:{mb:3,mt:1},children:e.message&&(0,i.jsx)(s.A,{sx:{fontFamily:"var(--fontStack-monospace)",fontSize:0,display:"-webkit-box",overflow:"hidden","-webkit-box-orient":"vertical","-webkit-line-clamp":"8",maxWidth:"unset"},children:e.message})}),(0,i.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsxs)(l.A,{sx:{flexGrow:2},children:[(0,i.jsx)(a.r,{src:e.appAvatarUrl,alt:e.appAvatarAltText}),(0,i.jsxs)(o.A,{sx:{ml:2,maxWidth:"300px"},inline:!0,title:`${e.checkSuiteName} / ${e.checkRun.name}`,children:[(0,i.jsx)(s.A,{sx:{fontWeight:600,fontSize:0},children:e.checkSuiteName})," /"," ",(0,i.jsx)(s.A,{sx:{fontSize:0},children:e.checkRun.name})]})]}),e.checkRun.detailsUrl&&(0,i.jsx)(d.Q,{as:"a",href:e.checkRun.detailsUrl,size:"small",children:"View details"})]})]})}try{h.displayName||(h.displayName="Annotation")}catch{}},70819:(e,t,n)=>{n.d(t,{GF:()=>d,S:()=>o,Xh:()=>l});var i=n(74848),a=n(38267),r=n(99634);function l({annotationLevel:e,...t}){let{icon:n,...a}=d[e];return function({fill:e,stroke:t,ariaLabel:n,svgHtml:a,className:r}){return(0,i.jsx)("svg",{"aria-label":n,className:r,fill:e,height:"24",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",style:{boxShadow:"none"},viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:a})}({...n,...a,...t})}let s=(0,a.i7)(["0%{opacity:0;}100%{opacity:1;}"]),o=(0,a.Ay)(l).withConfig({displayName:"AnnotationIcon__AnimatedAnnotationIcon",componentId:"sc-a049329a-0"})(["animation:"," 0.1s ease-in;"],s),d={[r.U.Failure]:{priority:1,ariaLabel:"Check failure",primaryColor:"danger.fg",icon:{fill:"var(--bgColor-danger-emphasis, var(--color-danger-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"15",x2:"9",y1:"9",y2:"15"}),(0,i.jsx)("line",{x1:"9",x2:"15",y1:"9",y2:"15"})]})}},[r.U.Warning]:{priority:2,ariaLabel:"Check warning",primaryColor:"attention.fg",icon:{fill:"var(--bgColor-attention-emphasis, var(--color-attention-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"16",y2:"16"})]})}},[r.U.Notice]:{priority:3,ariaLabel:"Check notice",primaryColor:"fg.muted",icon:{fill:"var(--bgColor-neutral-emphasis, var(--color-neutral-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"16",y2:"12"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"8"})]})}}};try{l.displayName||(l.displayName="AnnotationIcon")}catch{}try{o.displayName||(o.displayName="AnimatedAnnotationIcon")}catch{}},7046:(e,t,n)=>{n.d(t,{$:()=>y});var i=n(74848),a=n(36619),r=n(20935),l=n(69676),s=n(82678),o=n(75177),d=n(30595),c=n(73451),u=n(67138),m=n(51856),f=n(91246),h=n(96540);function p({children:e,footerButtons:t}){let{containerRef:n}=(0,s.G)({bindKeys:l.z0.ArrowHorizontal|l.z0.Tab,focusInStrategy:"closest"});return t?(0,i.jsx)(f.l.Footer,{ref:n,children:(0,i.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,i.jsx)(o.A,{sx:{display:"flex",flexDirection:"row",gap:2,justifyContent:"flex-end"},children:(0,i.jsx)(f.l.Buttons,{buttons:t})}),e]})}):null}let g={CHANGE_COMMIT_MESSAGE:"CHANGE_COMMIT_MESSAGE",CHANGE_EXTENDED_DESCRIPTION:"CHANGE_EXTENDED_DESCRIPTION"};function x(e,t){switch(t.type){case g.CHANGE_COMMIT_MESSAGE:return{...e,commitMessage:t.payload};case g.CHANGE_EXTENDED_DESCRIPTION:return{...e,extendedDescription:t.payload};default:return console.error("Unknown suggested change action."),e}}function y({authorLogins:e,batchSize:t,onClose:n,onCommit:l}){let s=(0,r.A)(),{sendAnalyticsEvent:y}=(0,a.s)(),[b,j]=(0,h.useState)(!1),[C,v]=(0,h.useState)(),[N,w]=(0,h.useReducer)(x,{commitMessage:1===e.length?`Apply suggestion from @${e[0]}`:1===new Set(e).size?`Apply suggestions from @${e[0]}`:"Apply suggestions from code review",extendedDescription:""}),k=(0,h.useCallback)((e,t,n)=>{if(!s())return;let i="There was an error trying to commit changes";n?i+=`: ${n}`:i+=".",j(!1),v(i)},[s]),S=(0,h.useCallback)(()=>{s()&&(j(!1),C&&v(void 0))},[C,s]),L=(0,h.useCallback)(()=>{b||(j(!0),y("comments.commit_suggestion","COMMIT_SUGGESTION_DIALOG_BUTTON",{batchSize:t}),l(`${N.commitMessage}

${N.extendedDescription}`,k,S))},[t,N.commitMessage,N.extendedDescription,S,k,b,l,y]);return(0,i.jsxs)(f.l,{title:"Apply suggestion",renderFooter:()=>(0,i.jsx)(p,{footerButtons:[{content:"Cancel",onClick:n},{content:(0,i.jsxs)(o.A,{as:"span",sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:["Commit changes",b&&(0,i.jsx)(d.A,{size:"small",sx:{ml:1}})]}),onClick:L,buttonType:"primary"}],children:C&&(0,i.jsx)(c.A.Validation,{sx:{mt:2,pt:1,justifyContent:"flex-end"},variant:"error",children:C})}),onClose:n,children:[(0,i.jsxs)(c.A,{sx:{mb:2},children:[(0,i.jsx)(c.A.Label,{children:"Commit message"}),(0,i.jsx)(u.A,{block:!0,name:"commit_message",onChange:e=>w({type:g.CHANGE_COMMIT_MESSAGE,payload:e.target.value}),value:N.commitMessage})]}),(0,i.jsxs)(c.A,{children:[(0,i.jsx)(c.A.Label,{children:"Extended description (optional)"}),(0,i.jsx)(m.Ay,{block:!0,rows:3,placeholder:"Add an optional description...",onChange:e=>w({type:g.CHANGE_EXTENDED_DESCRIPTION,payload:e.target.value}),value:N.extendedDescription})]})]})}try{p.displayName||(p.displayName="DialogFooter")}catch{}try{y.displayName||(y.displayName="ApplySuggestionDialog")}catch{}},73248:(e,t,n)=>{n.d(t,{S:()=>s});var i=n(74848),a=n(85797),r=n(96540),l=n(11660);let s=(0,r.forwardRef)(({children:e,...t},n)=>{let r=(0,l.n)();return(0,i.jsx)(a.h,{...t,ref:n,placeholder:"Leave a comment",actions:e,subject:r??void 0,showLabel:!1})});s.displayName="ConversationCommentBox"},41095:(e,t,n)=>{n.d(t,{H:()=>f});var i=n(74848),a=n(14772),r=n(36619),l=n(75177),s=n(96540),o=n(72878),d=n(75388),c=n(93900),u=n(86752),m=n(16564);function f({batchingEnabled:e,batchPending:t,commentAnchorPrefix:n,commentingImplementation:f,commentsConnectionId:h,filePath:p,hideDiffPreview:g,onRefreshThread:x,enterDialogMode:y,repositoryId:b,subject:j,subjectId:C,tabSize:v,thread:N,threadsConnectionId:w,shouldLimitHeight:k=!0,suggestedChangesConfig:S,viewerData:L,ghostUser:D}){let[I,E]=(0,s.useState)(!1),[A,T]=(0,s.useState)(void 0),{sendAnalyticsEvent:R}=(0,r.s)(),{addThreadReply:_}=f,F=e=>{T(e),E(!0)};if(null===N.commentsData.comments||N.commentsData.comments.length<1)return null;let O=(0,d.Lm)(N),M="LINE"===N.subjectType?{lineRange:O}:void 0;return(0,i.jsx)("div",{"data-testid":"review-thread",children:(0,i.jsxs)(l.A,{sx:k?{maxHeight:"40vh",overflowY:"auto"}:{},children:[!g&&N.isOutdated&&(0,i.jsx)(m.i,{subject:N.subject,tabSize:v??4}),N.commentsData.comments.map((e,t)=>(0,i.jsx)(u.U,{enterDialogMode:y,isAnchorable:!0,index:t,isLastChild:t===N.commentsData.comments.length-1,anchorPrefix:n,comment:e,commentConnectionId:N.commentsData.__id,commentingImplementation:f,filePath:p,isOutdated:N.isOutdated,repositoryId:b,subject:j,subjectId:C,threadId:N.id,onRefreshThread:x,onQuoteReply:F,threadCommentCount:N.commentsData.comments.length,threadsConnectionId:w,isThreadResolved:!!N.isResolved,suggestedChangesConfig:S,applySuggestedChangesValidationData:M,viewerData:L,ghostUser:D},e.id)),N.viewerCanReply&&(0,i.jsxs)(l.A,{sx:{borderBottomLeftRadius:2,borderBottomRightRadius:2,p:2},children:[I&&(0,i.jsx)(c.U,{batchingEnabled:e,batchPending:t,commentBoxConfig:f.commentBoxConfig,condensed:!1,fileLevelComment:!0,filePath:p,focusOnMount:!0,isReplying:!0,onCancelComment:()=>{E(!1),R("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON")},repositoryId:b,quotedText:A,subjectId:C,threadId:N.id,onAddComment:({commentText:e,onCompleted:t,onError:n,submitBatch:i})=>{let a=[];N.commentsData.__id&&a.push(N.commentsData.__id),h&&a.push(h),_({commentsConnectionIds:a,filePath:p,thread:N,text:e,submitBatch:i,onCompleted:e=>{e&&(0,o.p)(e.toString()),t?.(),x?.(N.id)},onError:n,threadsConnectionId:w}),R("comments.add","ADD_COMMENT_BUTTON")},suggestedChangesConfig:S}),!I&&(0,i.jsx)(a.z,{onClick:()=>{R("comments.start_thread_reply","REPLY_TO_THREAD_INPUT_BUTTON"),E(!0)},children:"Write a reply"})]})]})})}try{f.displayName||(f.displayName="ReviewThread")}catch{}},86752:(e,t,n)=>{n.d(t,{U:()=>C});var i=n(74848),a=n(85797),r=n(81681),l=n(46711),s=n(65876),o=n(25013),d=n(84386),c=n(25232),u=n(77175),m=n(89539),f=n(67819),h=n(75177),p=n(96540),g=n(72878),x=n(45116),y=n(11871),b=n(73248),j=n(98505);function C({isAnchorable:e=!1,index:t=0,isLastChild:n,isOutdated:C,isThreadResolved:v,anchorPrefix:N="r",comment:w,commentingImplementation:k,filePath:S,hideActions:L,enterDialogMode:D=o.l,onRefreshThread:I,onQuoteReply:E=o.l,subjectId:A,subject:T,threadCommentCount:R,threadId:_,threadsConnectionId:F,suggestedChangesConfig:O,applySuggestedChangesValidationData:M,viewerData:B,ghostUser:U=s.t.ghostUser,skipReactions:$=!1}){let{addToast:P}=(0,f.Y6)(),[H,K]=(0,p.useState)(!1),[V,z]=(0,p.useState)(w.isHidden),[G,W]=(0,p.useState)(w.body),[q,Q]=(0,p.useState)(!1),[Y,X]=(0,p.useState)(),{persistCommentToStorage:J,removePersistedCommentFromStorage:Z}=(0,x.L)({subjectId:A,filePath:S,fileLevelComment:"FILE"===w.subjectType,threadId:w.id,handlePersistedCommentExists:({text:e})=>{e&&W(e)}}),{editComment:ee,deleteComment:et,hideComment:en,unhideComment:ei,lazyFetchReactionGroups:ea}=k,er=(0,p.useRef)(null),el=(0,p.useRef)(null),es=()=>{er.current?.focus()};(0,p.useEffect)(()=>{if(H){let e=window.setTimeout(es);return()=>{window.clearTimeout(e)}}},[H]);let eo=(0,p.useCallback)(()=>{Q(!0);let e=(0,y.u)(G,O?.sourceContentFromDiffLines??"");if(!e.isValid){X(e.errorMessage),Q(!1);return}ee({text:G,comment:w,onCompleted:()=>{K(!1),Q(!1),Z(),I?.(_)},onError:()=>{Q(!1),P({type:"error",message:"Failed to update comment"})}})},[P,G,w,ee,I,Z,O,_]),ed=w.currentDiffResourcePath?.split("#r").pop(),ec=ed?`${N}${ed}`:void 0,eu=ec&&m.fV?new URL(`${m.fV.pathname}#${ec}`,m.fV.origin).toString():void 0,em=(0,p.useRef)(null);(0,p.useEffect)(()=>{e&&ed&&ec&&window.location.hash.split("#").pop()===ec&&((0,g.p)(ed,N),D?.(!1),em.current?.focus())},[N,ec,ed,D,e]);let ef={outline:"2px solid",outlineColor:"accent.fg",outlineOffset:"-2px",boxShadow:"none"},eh=t>0,ep=t>1,eg=k.suggestedChangesEnabled,ex=H?"editing":V?"hidden":"visible",ey={headingProps:{as:"h3"},avatarUrl:w.author?.avatarUrl??U.avatarUrl,comment:{...w,url:eu??"",referenceText:w.reference.text??`#${w.reference.number}`},commentRef:em,deleteComment:()=>{et({commentId:w.id,onCompleted:()=>{I?.(_)},onError:()=>{Q(!1),P({type:"error",message:"Failed to delete comment"})},threadCommentCount:R,threadId:_,threadsConnectionId:F,filePath:S})},editComment:()=>{K(!0)},editHistoryComponent:void 0,hideComment:e=>{en({commentId:w.id,reason:e,onCompleted:()=>{I?.(_)},onError:()=>{Q(!1),P({type:"error",message:"Failed to hide comment"})}})},onMinimize:z,isMinimized:V,commentAuthorLogin:w.author?.login??U.login,navigate:o.l,commentSubjectAuthorLogin:w.reference?.author?.login??"",commentSubjectType:k.commentSubjectType,onReplySelect:E,unhideComment:()=>{ei({commentId:w.id,onCompleted:()=>{I?.(_)},onError:()=>{Q(!1),P({type:"error",message:"Failed to unhide comment"})}})},hideActions:L,isReply:eh,forceInlineAvatar:!0,containerStyle:{}};return(0,i.jsxs)(h.A,{ref:em,id:e?ec:void 0,tabIndex:-1,sx:{"&:not(:first-child)":{backgroundColor:"canvas.inset"},"&:first-child + div":{borderTop:"1px solid",borderColor:"border.muted"},":target":ef,":focus":ef,pb:eh?0:2},children:[ep&&(0,i.jsx)(h.A,{sx:{display:"flex",pl:eh?1:0},children:(0,i.jsx)(h.A,{sx:{ml:4,height:8,borderLeft:"1px solid",borderColor:"border.default"}})}),(0,i.jsx)(h.A,{sx:{px:3,pt:ep?0:2,pb:0},children:(0,i.jsx)(r.v,{...ey,actions:L?void 0:(0,i.jsx)(l.p,{...ey})})}),(0,i.jsxs)(h.A,{sx:{display:"flex",pl:eh?1:0},children:[eh&&(0,i.jsx)(h.A,{sx:{ml:4,mr:1,pl:3,borderLeft:"1px solid",borderColor:"border.default",...n&&{borderImage:"linear-gradient(to bottom, var(--borderColor-default, var(--color-border-default)), rgba(0, 0, 0, 0)) 1 100%"}}}),"editing"===ex&&(0,i.jsx)(h.A,{sx:{pr:2,pl:eh?0:2,pb:2,pt:1,flexGrow:1},children:(0,i.jsxs)(b.S,{ref:er,label:"Update comment",value:G,onChange:e=>{J({text:e}),W(e),X(void 0)},onPrimaryAction:eo,userSettings:k.commentBoxConfig,suggestedChangesConfig:O,markdownErrorMessage:Y,children:[(0,i.jsx)(a.x,{variant:"default",onClick:()=>{K(!1),Z(),W(w.body)},children:"Cancel"}),(0,i.jsx)(a.x,{disabled:q||!G.length,variant:"primary",onClick:eo,children:"Update"})]})}),"visible"===ex&&(0,i.jsx)(h.A,{sx:eh?{pb:2,pr:2,overflowX:"auto",width:"100%"}:{px:3,pb:2,width:"100%"},children:w.bodyHTML&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.oG,{ref:el,className:"markdown-body","comment-testid":`Comment body html for comment ${w.id}`,html:w.bodyHTML,sx:{mt:1,fontSize:1}}),!$&&(0,i.jsx)(h.A,{sx:{display:"flex",flexDirection:"column",mt:3},children:ea?(0,i.jsx)(p.Suspense,{fallback:(0,i.jsx)(d.e,{}),children:(0,i.jsx)(c.ReactionViewerRelayQueryComponent,{id:w.id})}):(0,i.jsx)(c.ReactionViewerRelay,{reactionGroups:w,subjectId:w.id})}),eg&&M&&(0,i.jsx)(j.v,{comment:w,commentBodyRef:el,commentingImplementation:k,filePath:S,isOutdated:C,isThreadResolved:v,threadId:_,suggestedChangesConfig:O,applySuggestedChangesValidationData:M,subject:T,viewerData:B})]})})]})]})}try{C.displayName||(C.displayName="ReviewThreadComment")}catch{}},16564:(e,t,n)=>{n.d(t,{i:()=>o});var i=n(74848),a=n(18571),r=n(90408),l=n(75177),s=n(52464);function o({subject:e,sx:t,tabSize:n,hideHeaderDetails:o,diffTableSx:d}){if(!e?.diffLines||e?.diffLines.length<1)return null;let c=(0,a.c7)(e.diffLines);return(0,i.jsxs)(l.A,{sx:{m:3,border:0,borderBottomWidth:6,borderStyle:"solid",borderColor:"border.muted",borderBottomLeftRadius:2,borderBottomRightRadius:2,...t},children:[!o&&(0,i.jsx)(l.A,{sx:{borderWidth:1,borderStyle:"solid",borderTopLeftRadius:2,borderTopRightRadius:2,borderColor:"border.muted",color:"fg.muted",px:2,py:1},children:(0,i.jsxs)(s.A,{sx:{fontSize:0,color:"fg.muted"},children:["Line"," ",(0,r.Ah)({originalStartLine:e.originalStartLine,originalEndLine:e.originalEndLine,startDiffSide:e.startDiffSide,endDiffSide:e.endDiffSide}),", commit ",(0,i.jsx)("code",{children:e.pullRequestCommit?.commit.abbreviatedOid})]})}),(0,i.jsx)(r.l4,{lineWidth:c,lines:e.diffLines,tabSize:n,sx:d})]})}try{o.displayName||(o.displayName="StaticUnifiedDiffPreview")}catch{}},98505:(e,t,n)=>{n.d(t,{v:()=>S});var i=n(74848),a=n(35967),r=n(96540),l=n(40961),s=n(75388),o=n(75177),d=n(435),c=n(36619),u=n(55847);function m({commentingImplementation:e,suggestedChange:t}){let{sendAnalyticsEvent:n}=(0,c.s)();return(0,i.jsx)(o.A,{sx:{display:"flex",flexDirection:"row-reverse"},children:(0,i.jsx)(u.Q,{variant:"primary",onClick:()=>{n("comments.add_suggested_change_to_batch","ADD_SUGGESTED_CHANGE_TO_BATCH_BUTTON"),e.addSuggestedChangeToPendingBatch(t)},children:"Add suggestion to batch"})})}try{m.displayName||(m.displayName="AddToExistingBatch")}catch{}var f=n(38621),h=n(91321),p=n(87330),g=n(89323),x=n(8338);let y={addSuggestionToBatch:{text:"Add suggestion to batch"},applySuggestion:{text:"Apply suggestion"}};function b({commentingImplementation:e,onOpenDialog:t,suggestedChange:n}){let{sendAnalyticsEvent:a}=(0,c.s)(),[l,s]=(0,r.useState)(y.addSuggestionToBatch),[d,m]=(0,r.useState)(!1),b=(0,r.useRef)(null),j=(0,r.useRef)(null),C=()=>m(!d),{addSuggestedChangeToPendingBatch:v}=e,N=(0,r.useCallback)(()=>{l===y.addSuggestionToBatch&&(v(n),a("comments.add_suggested_change_to_batch","ADD_SUGGESTED_CHANGE_TO_BATCH_BUTTON")),l===y.applySuggestion&&t(j)},[v,t,l,a,n]);return(0,i.jsx)(o.A,{sx:{display:"flex",flexDirection:"row-reverse"},children:(0,i.jsxs)(h.A,{children:[(0,i.jsx)(u.Q,{variant:"primary",onClick:N,ref:j,children:l.text}),(0,i.jsx)(p.K,{unsafeDisableTooltip:!0,ref:b,"aria-haspopup":"true","aria-label":"More suggestion batching options",icon:f.TriangleDownIcon,size:"medium",variant:"primary",onClick:C}),(0,i.jsx)(g.W,{anchorRef:b,open:d,onOpenChange:C,children:(0,i.jsx)(g.W.Overlay,{width:"medium",children:(0,i.jsx)(x.l,{selectionVariant:"single",children:Object.keys(y).map(e=>{let t=y[e];return(0,i.jsx)(x.l.Item,{selected:l===t,onSelect:()=>s(t),children:t.text},e)})})})})]})})}try{b.displayName||(b.displayName="ApplyOrAddToBatch")}catch{}var j=n(7046),C=n(52464);function v({reason:e,sx:t}){return(0,i.jsx)(o.A,{sx:{m:2,...t},children:(0,i.jsx)(C.A,{as:"small",sx:{color:"fg.muted"},children:e})})}try{v.displayName||(v.displayName="CodeSuggestionUnavailable")}catch{}var N=n(47139);function w({commentingImplementation:e,onOpenDialog:t,suggestedChange:n}){let a=(0,r.useRef)(null),l=(0,r.useCallback)(()=>{t(a)},[t]),s=e.pendingSuggestedChangesBatch.length,{sendAnalyticsEvent:d}=(0,c.s)();return(0,i.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",flexDirection:"row"},children:[(0,i.jsx)(N.A,{variant:"attention",sx:{my:"auto"},children:"Pending in batch"}),(0,i.jsxs)(o.A,{sx:{display:"flex",gap:2},children:[(0,i.jsx)(u.Q,{size:"medium",variant:"danger",onClick:()=>{e.removeSuggestedChangeFromPendingBatch(n),d("comments.remove_suggested_change_from_batch","REMOVE_SUGGESTED_CHANGE_FROM_BATCH_BUTTON")},children:"Remove from batch"}),(0,i.jsx)(u.Q,{ref:a,size:"medium",count:s,variant:"primary",onClick:l,children:`Apply suggestion${s>1?"s":""}`})]})]})}try{w.displayName||(w.displayName="CommitOrRemoveFromBatch")}catch{}function k({commentingImplementation:e,suggestedChange:t}){let{setIsDialogOpen:n}=(0,d.W)(),[a,l]=(0,r.useState)(!1),c=(0,r.useRef)(void 0),{pendingSuggestedChangesBatch:u,submitSuggestedChanges:f}=e,h=(0,s.c0)(t,u),p=0===u.length,{isValid:g,reason:x}=(0,s.EJ)(t,u),y=(0,r.useMemo)(()=>h?u:[t],[h,u,t]),C=(0,r.useCallback)(e=>{l(e),n?.(e)},[n]),N=(0,r.useCallback)(()=>{if(C(!1),c.current){let e=c.current.current;setTimeout(()=>e?.focus())}},[C]),k=(0,r.useCallback)(e=>{C(!0),c.current=e},[C,c]),S=(0,r.useCallback)((e,t,n)=>{f({suggestedChanges:y,commitMessage:e,onCompleted:()=>{N(),n()},onError:t})},[N,f,y]);return(0,i.jsxs)(o.A,{sx:{p:2,borderTop:"1px solid",borderColor:"border.default"},children:[h&&(0,i.jsx)(w,{commentingImplementation:e,suggestedChange:t,onOpenDialog:k}),!h&&!g&&x&&(0,i.jsx)(v,{reason:x,sx:{m:0}}),!h&&p&&(0,i.jsx)(b,{commentingImplementation:e,suggestedChange:t,onOpenDialog:k}),!h&&g&&!p&&(0,i.jsx)(m,{commentingImplementation:e,suggestedChange:t}),a&&(0,i.jsx)(j.$,{authorLogins:y.map(e=>e.authorLogin),batchSize:y.length,onClose:N,onCommit:S})]})}try{k.displayName||(k.displayName="CodeSuggestionActions")}catch{}function S({applySuggestedChangesValidationData:e,comment:t,commentBodyRef:n,commentingImplementation:o,filePath:d,isOutdated:c,isThreadResolved:u,subject:m,suggestedChangesConfig:f,threadId:h,viewerData:p}){let g=function(e,t,n,i,l){let[s,o]=(0,r.useState)();return(0,a.N)(()=>{if(!e.current||"LINE"!==t.subjectType)return;let a=[...e.current.getElementsByClassName("js-apply-changes")];if(a.length>0){let e=[];for(let r of a){let a=r?.closest("div.js-suggested-changes-blob");if(!a)continue;let s=[...a.querySelectorAll(".js-blob-code-addition")];l.lineRange&&e.push({authorLogin:t.author?.login??"ghost",commentId:t.id,path:n,ref:r,suggestion:s.map(e=>e.textContent),lineRange:l.lineRange,threadId:i})}o(e)}},[l.lineRange,t.author?.login,t.bodyHTML,t.id,t.subjectType,e,n,i]),s}(n,t,d,h,e);return(0,i.jsx)(i.Fragment,{children:g?.length?g.map(n=>{let{isValid:a,reason:r}=(0,s.o_)({suggestedChange:n,isOutdated:c,isPending:"PENDING"===t.state,isResolved:u,pullRequestIsClosed:m?.state!=="OPEN",pullRequestIsInMergeQueue:!!m?.isInMergeQueue,userCanApplySuggestion:!!p?.viewerCanApplySuggestion,applySuggestedChangesValidationData:e,suggestedChangesConfig:f});return!a&&r?(0,l.createPortal)((0,i.jsx)(v,{reason:r}),n.ref):(0,l.createPortal)((0,i.jsx)(k,{commentingImplementation:o,suggestedChange:n}),n.ref)}):null})}try{S.displayName||(S.displayName="SuggestedChangeView")}catch{}},11660:(e,t,n)=>{n.d(t,{n:()=>r,u:()=>l});var i=n(96540);let a=(0,i.createContext)(null),r=()=>(0,i.useContext)(a),l=a.Provider;try{a.displayName||(a.displayName="ConversationMarkdownSubjectContext")}catch{}},435:(e,t,n)=>{n.d(t,{W:()=>s,j:()=>l});var i=n(74848),a=n(96540);let r=(0,a.createContext)({});function l({children:e}){let[t,n]=(0,a.useState)(!1),l=(0,a.useMemo)(()=>({isDialogOpen:t,setIsDialogOpen:n}),[t,n]);return(0,i.jsx)(r.Provider,{value:l,children:e})}let s=()=>(0,a.useContext)(r);try{r.displayName||(r.displayName="DialogStateContext")}catch{}try{l.displayName||(l.displayName="DialogStateProvider")}catch{}},82967:(e,t,n)=>{n.d(t,{$:()=>d});var i=n(74848),a=n(38621),r=n(8338),l=n(30595),s=n(80967),o=n(11761);let d=e=>(0,i.jsx)(o.B,{errorFallback:(0,i.jsx)(c,{}),suspenseFallback:(0,i.jsx)(u,{}),Component:m,...e}),c=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.l.Divider,{}),(0,i.jsxs)(r.l.Item,{disabled:!0,children:[(0,i.jsx)(r.l.LeadingVisual,{children:(0,i.jsx)(a.AlertIcon,{})}),"Copilot failed to load"]})]}),u=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.l.Divider,{}),(0,i.jsxs)(r.l.Item,{disabled:!0,children:[(0,i.jsx)(r.l.LeadingVisual,{children:(0,i.jsx)(l.A,{size:"small"})}),"Copilot is loading..."]})]}),m=e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.l.Divider,{}),(0,i.jsx)(s.t,{eventContext:{prx:!0},leadingVisual:(0,i.jsx)(a.CopilotIcon,{}),fileDiffReference:e.fileDiffReference})]});try{d.displayName||(d.displayName="CopilotDiffChatBlobActionsMenuItems")}catch{}try{c.displayName||(c.displayName="MenuItemError")}catch{}try{u.displayName||(u.displayName="MenuItemLoading")}catch{}try{m.displayName||(m.displayName="BaseCopilotDiffChatBlobActionsMenuItems")}catch{}},11761:(e,t,n)=>{n.d(t,{x:()=>m,B:()=>p});var i=n(74848);let a=function(){var e={alias:null,args:null,kind:"ScalarField",name:"isCopilotDotcomChatEnabled",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DiffChatWrapper_ViewerQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[e],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"DiffChatWrapper_ViewerQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"16bed8244ee96ad06b6638dbb86dd0ff",metadata:{},name:"DiffChatWrapper_ViewerQuery",operationKind:"query",text:null}}}();a.hash="4d1f99d4dad28f392f7ea1a3cecbcfff";let r=function(){var e={defaultValue:null,kind:"LocalArgument",name:"endOid"},t={defaultValue:null,kind:"LocalArgument",name:"pullRequestId"},n={defaultValue:null,kind:"LocalArgument",name:"startOid"},i=[{kind:"Variable",name:"id",variableName:"pullRequestId"}],a=[{kind:"Variable",name:"endOid",variableName:"endOid"},{kind:"Variable",name:"startOid",variableName:"startOid"}],r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s=[{alias:null,args:null,kind:"ScalarField",name:"oid",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},l],storageKey:null},l],storageKey:null},l];return{fragment:{argumentDefinitions:[e,t,n],kind:"Fragment",metadata:null,name:"DiffChatWrapper_ComparisonQuery",selections:[{alias:"pullRequest",args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:a,concreteType:"PullRequestComparison",kind:"LinkedField",name:"comparison",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useFileDiffReference_Comparison"}],storageKey:null}],type:"PullRequest",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,n,e],kind:"Operation",name:"DiffChatWrapper_ComparisonQuery",selections:[{alias:"pullRequest",args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:a,concreteType:"PullRequestComparison",kind:"LinkedField",name:"comparison",plural:!1,selections:[{alias:null,args:null,concreteType:"Commit",kind:"LinkedField",name:"oldCommit",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"Commit",kind:"LinkedField",name:"newCommit",plural:!1,selections:s,storageKey:null}],storageKey:null}],type:"PullRequest",abstractKey:null},l],storageKey:null}]},params:{id:"fb6fd29b2f37f48929378e605adb454a",metadata:{},name:"DiffChatWrapper_ComparisonQuery",operationKind:"query",text:null}}}();r.hash="e34cdc5b305060e84f51c908a09989a0";let l=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"diffEntryId"}],t=[{kind:"Variable",name:"id",variableName:"diffEntryId"}],n={alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null},i=[n,{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"DiffChatWrapper_DiffEntryQuery",selections:[{alias:"diffEntry",args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"useFileDiffReference_DiffEntry"}],type:"PullRequestDiffEntry",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"DiffChatWrapper_DiffEntryQuery",selections:[{alias:"diffEntry",args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"pathDigest",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"rawUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBinary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSubmodule",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLfsPointer",storageKey:null},{alias:null,args:null,concreteType:"TreeEntry",kind:"LinkedField",name:"oldTreeEntry",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"TreeEntry",kind:"LinkedField",name:"newTreeEntry",plural:!1,selections:i,storageKey:null}],type:"PullRequestDiffEntry",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"7c9df64c41ef33594dd0882be84ef373",metadata:{},name:"DiffChatWrapper_DiffEntryQuery",operationKind:"query",text:null}}}();l.hash="064698bd6869b0c7d063a68d0b3666d8";var s=n(62475),o=n(74535),d=n(96540),c=n(18312),u=n(69898);let m=({children:e})=>{let{viewer:t}=(0,c.useLazyLoadQuery)(a,{});return t.isCopilotDotcomChatEnabled?(0,i.jsx)(i.Fragment,{children:e}):null},f=({Component:e,componentProps:t,queryVariables:n})=>{let{pullRequest:a}=(0,c.useLazyLoadQuery)(r,n),{diffEntry:o}=(0,c.useLazyLoadQuery)(l,n);(0,s.M)(a?.comparison),(0,s.M)(o);let d=(0,u.Kf)(a.comparison,o);return d?(0,i.jsx)(e,{fileDiffReference:d,...t}):null},h=({Component:e,componentProps:t,referenceData:n,queryVariables:a})=>{let{pullRequest:l}=(0,c.useLazyLoadQuery)(r,a);(0,s.M)(l?.comparison);let o=(0,u.hQ)(l?.comparison,n);return o?(0,i.jsx)(e,{fileDiffReference:o,...t}):null},p=({Component:e,componentProps:t,errorFallback:n=null,suspenseFallback:a=null,...r})=>(0,i.jsx)(o.t,{fallback:n,children:(0,i.jsx)(d.Suspense,{fallback:a,children:(0,i.jsx)(m,{children:r.referenceData?(0,i.jsx)(h,{Component:e,componentProps:t,referenceData:r.referenceData,queryVariables:r.queryVariables}):(0,i.jsx)(f,{Component:e,componentProps:t,queryVariables:r.queryVariables})})})});try{m.displayName||(m.displayName="CopilotCodeChatAccessLoader")}catch{}try{f.displayName||(f.displayName="CopilotCodeChatReferenceLoader")}catch{}try{h.displayName||(h.displayName="CopilotCodeChatComparisonLoader")}catch{}try{p.displayName||(p.displayName="DiffChatWrapper")}catch{}},31654:(e,t,n)=>{n.d(t,{i:()=>o});var i=n(74848),a=n(64883),r=n(84091),l=n(67819),s=n(8338);let o=({fileDiffReference:e,eventContext:t,afterSelect:n})=>{let{addToast:o}=(0,l.Y6)();return(0,i.jsx)(s.l.Item,{onSelect:()=>{(0,a.Oc)(e),o({message:"Reference added to thread",type:"success"}),(0,r.BI)("copilot.file-diff.add",t),n?.()},children:"Attach to current thread"})};try{o.displayName||(o.displayName="DiffLinesAttachMenuItem")}catch{}},80967:(e,t,n)=>{n.d(t,{t:()=>o});var i=n(74848),a=n(64883),r=n(9853),l=n(84091),s=n(8338);let o=({fileDiffReference:e,leadingVisual:t,eventContext:n,afterSelect:o})=>(0,i.jsxs)(s.l.Item,{onSelect:()=>{(0,a.qR)({intent:r.wh.conversation,references:[e]}),(0,l.BI)("copilot.file-diff.discuss",n),o?.()},children:[t&&(0,i.jsx)(s.l.LeadingVisual,{children:t}),"Ask about this diff"]});try{o.displayName||(o.displayName="DiffLinesDiscussMenuItem")}catch{}},35180:(e,t,n)=>{n.d(t,{e:()=>o});var i=n(74848),a=n(64883),r=n(9853),l=n(84091),s=n(8338);let o=({fileDiffReference:e,eventContext:t,afterSelect:n})=>(0,i.jsx)(s.l.Item,{onSelect:()=>{(0,a.qR)({content:"Explain",intent:r.wh.explainFileDiff,references:[e]}),(0,l.BI)("copilot.file-diff.explain",t),n?.()},children:"Explain"});try{o.displayName||(o.displayName="DiffLinesExplainMenuItem")}catch{}},51194:(e,t,n)=>{n.d(t,{o:()=>y});var i=n(74848),a=n(38621),r=n(96540),l=n(94227),s=n(34614),o=n(2583),d=n(49983),c=n(60906),u=n(41783),m=n(8258),f=n(89539);let h=(0,r.memo)(function({file:e,depth:t,hash:n,onSelect:d}){let m=(0,r.useRef)(null),h=(0,r.useRef)(null),p=`#diff-${e.diff.pathDigest}`,g=(0,u.Z)({focusRowRef:m,mouseRowRef:m}),x=e.diff.totalCommentsCount??0,y=e.diff.highestAnnotationLevel,b=null,j=null;switch(y){case"WARNING":j=(0,i.jsxs)("span",{className:"sr-only",children:[x>0?"and ":""," has warning annotations"]}),b=(0,i.jsx)("div",{className:"pl-1 fgColor-attention",children:(0,i.jsx)(a.AlertIcon,{})});break;case"NOTICE":j=(0,i.jsxs)("span",{className:"sr-only",children:[x>0?"and ":""," has notice annotations"]}),b=(0,i.jsx)("div",{className:"pl-1 fgColor-default",children:(0,i.jsx)(a.InfoIcon,{})});break;case"FAILURE":j=(0,i.jsxs)("span",{className:"sr-only",children:[x>0?"and ":""," has failure annotations"]}),b=(0,i.jsx)("div",{className:"pl-1 fgColor-danger",children:(0,i.jsx)(a.XCircleFillIcon,{})})}(0,r.useEffect)(()=>{if(m.current&&e.diff.pathDigest===n){let e=window.setTimeout(()=>{let e=f.XC?.getElementById("diff_file_tree")?.parentElement,t=m.current.offsetTop,n=f.cg?.innerHeight??0;e&&(e.scrollTop=t-n/2)},0);return()=>{window.clearTimeout(e)}}},[e.diff.pathDigest,n]);let C=(0,r.useCallback)(t=>{if(t.nativeEvent instanceof KeyboardEvent){if(m?.current!==document.activeElement){t.preventDefault();return}if("Enter"===t.key||" "===t.key){t.preventDefault(),d?.(e.diff),h?.current?.click();return}}if(t.nativeEvent instanceof MouseEvent){if(t.metaKey||t.ctrlKey||1===t.button){t.preventDefault(),window.open(p,"_blank");return}d?.(e.diff),h?.current?.click()}},[p,e.diff,d]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(l.G.Item,{defaultExpanded:!0,"aria-level":t,current:e.diff.pathDigest===n,id:e.diff.path,onSelect:C,ref:m,children:[(0,i.jsx)(l.G.LeadingVisual,{children:(0,i.jsx)(c.E,{status:e.diff.changeType})}),(0,i.jsx)(s.A,{href:p,muted:!0,ref:h,role:"presentation",style:{color:"var(--fgColor-default)"},tabIndex:-1,children:e.fileName}),g&&(0,i.jsx)(o.m,{"data-testid":`${e.fileName}-item-tooltip`,id:`${e.fileName}-item-tooltip`,contentRef:m,"aria-label":e.fileName,open:!0,direction:"ne"}),!!x&&(0,i.jsxs)("span",{className:"sr-only",children:["has ",x<10?x:"9+"," ",x>1?"comments":"comment"]}),j,(!!x||y)&&(0,i.jsx)(l.G.TrailingVisual,{children:(0,i.jsxs)("div",{className:"d-flex flex-items-center flex-row",children:[!!x&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.CommentIcon,{}),(0,i.jsx)("div",{className:"ml-1 text-bold fgColor-default f6",children:x<10?x:"9+"})]}),b]})})]})})});function p({directory:e,renderPattern:t,depth:n=0,leadingPath:a="",...s}){let d=a?`${a}/`:"",c=r.useRef(null),m=r.useRef(null),f=(0,u.Z)({focusRowRef:m,mouseRowRef:c});if(!e.files.length&&1===e.directories.length)return(0,i.jsx)(i.Fragment,{children:e.directories.map(a=>(0,i.jsx)(p,{depth:0===n?1:n,directory:a,leadingPath:`${d}${e.name}`,renderPattern:t,...s},a.path))});function h(){return"traditional"===t?(0,i.jsx)(g,{directory:e,depth:n,renderPattern:t,...s}):(0,i.jsx)(x,{directory:e,depth:n,renderPattern:t,...s})}return 0===n?h():(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(l.G.Item,{ref:m,defaultExpanded:!0,id:e.path,children:[(0,i.jsx)(l.G.LeadingVisual,{children:(0,i.jsx)(l.G.DirectoryIcon,{})}),(0,i.jsx)("span",{ref:c,children:`${d}${e.name}`}),f&&(0,i.jsx)(o.m,{"data-testid":`${e.name}-directory-item-tooltip`,id:`${e.name}-directory-item-tooltip`,contentRef:m,"aria-label":`${d}${e.name}`,open:!0,direction:"ne"}),(0,i.jsx)(l.G.SubTree,{children:h()})]},e.path)})}function g({directory:e,renderPattern:t,depth:n=0,...a}){let r=e.files.map(e=>({path:e.filePath,pathType:"file",node:e})).concat(e.directories.map(e=>({path:e.path,pathType:"directory",node:e})));return r.sort((e,t)=>(0,d.wH)(e.path,t.path)),(0,i.jsx)(i.Fragment,{children:r.map(e=>"file"===e.pathType?(0,i.jsx)(h,{depth:n+1,file:e.node,...a},e.path):(0,i.jsx)(p,{depth:n+1,directory:e.node,renderPattern:t,...a},e.path))})}function x({directory:e,depth:t=0,...n}){return(0,i.jsxs)(i.Fragment,{children:[e.files.map(e=>(0,i.jsx)(h,{depth:t+1,file:e,...n},e.filePath)),e.directories.map(e=>(0,i.jsx)(p,{depth:t+1,directory:e,...n},e.path))]})}let y=(0,r.memo)(function({diffs:e,renderPattern:t,...n}){let a=(0,d.xY)(e),[s,o]=r.useState(""),c=(0,r.useCallback)(()=>{o(((0,m.pd)(f.fV.hash??"")??"").replace("diff-",""))},[o]);return(0,r.useEffect)(()=>(window.addEventListener("hashchange",c),c(),()=>{window.removeEventListener("hashchange",c)}),[c]),(0,i.jsx)(l.G,{"aria-label":"File Tree",children:(0,i.jsx)(p,{directory:a,renderPattern:t,...n,hash:s})})});try{h.displayName||(h.displayName="File")}catch{}try{p.displayName||(p.displayName="Directory")}catch{}try{g.displayName||(g.displayName="TraditionalDirectoryRendering")}catch{}try{x.displayName||(x.displayName="GroupedDirectoryRendering")}catch{}try{y.displayName||(y.displayName="DiffFileTree")}catch{}},32e3:(e,t,n)=>{n.d(t,{kF:()=>p,F7:()=>h});var i,a=n(74848),r=n(38621),l=n(67138),s=n(89323),o=n(87330),d=n(30595),c=n(8338),u=n(96540),m=n(20053);let f={filterLoadingHeight:"FileFilter-module__filterLoadingHeight--cW8BP"},h="No extension";function p({filterText:e,onFilterTextChange:t,fileExtensions:n,unselectedFileExtensions:i,onFilterChange:d,additionalFilterGroups:m}){let[f,p]=(0,u.useState)(e),g=(e,t)=>{d?.(e?"selectFileExtension":"unselectFileExtension",{extension:t})},x=Array.from(n||[]).filter(e=>e!==h).sort(),y=e=>!i?.has(e),b=n?.has(h);return(0,a.jsxs)("div",{className:"d-flex flex-nowrap gap-2",children:[(0,a.jsx)(l.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:r.SearchIcon,placeholder:"Filter files\u2026",value:f,onChange:e=>{p(e.target.value),t?.(e.target.value)}}),(0,a.jsxs)(s.W,{children:[(0,a.jsx)(s.W.Anchor,{children:(0,a.jsx)(o.K,{unsafeDisableTooltip:!0,"aria-label":"Filter",icon:r.SlidersIcon,className:"flex-shrink-0"})}),(0,a.jsx)(s.W.Overlay,{children:(0,a.jsxs)(c.l,{children:[(0,a.jsxs)(c.l.Group,{selectionVariant:"multiple",children:[(0,a.jsx)(c.l.GroupHeading,{children:"File extensions"}),x.map(e=>{let t=y(e);return(0,a.jsx)(c.l.Item,{selected:t,onSelect:()=>g(!t,e),children:`${e}`},e)}),b&&(0,a.jsx)(c.l.Item,{selected:y(h),onSelect:()=>g(!y(h),h),children:h},h)]}),m]})})]})]})}try{(i=function({filterText:e,onFilterTextChange:t}){return(0,a.jsxs)("div",{className:"d-flex flex-nowrap gap-2",children:[(0,a.jsx)(l.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:r.SearchIcon,placeholder:"Filter files\u2026",value:e,onChange:e=>t?.(e.target.value)}),(0,a.jsxs)(s.W,{children:[(0,a.jsx)(s.W.Anchor,{children:(0,a.jsx)(o.K,{unsafeDisableTooltip:!0,"aria-label":"Filter",icon:r.SlidersIcon,className:"flex-shrink-0"})}),(0,a.jsx)(s.W.Overlay,{className:(0,m.$)(f.filterLoadingHeight),children:(0,a.jsx)("div",{className:(0,m.$)("d-flex","flex-column","flex-justify-center","flex-items-center",f.filterLoadingHeight),children:(0,a.jsx)(d.A,{size:"medium"})})})]})]})}).displayName||(i.displayName="FileFilterLoading")}catch{}try{p.displayName||(p.displayName="FileFilterShared")}catch{}},60906:(e,t,n)=>{n.d(t,{E:()=>l});var i=n(74848),a=n(38621),r=n(30729);function l({status:e}){switch(e){case"ADDED":case"COPIED":return(0,i.jsx)(r.A,{size:16,icon:a.FileAddedIcon,className:"fgColor-success"});case"DELETED":case"REMOVED":return(0,i.jsx)(r.A,{size:16,icon:a.FileRemovedIcon,className:"fgColor-danger"});case"RENAMED":return(0,i.jsx)(r.A,{size:16,icon:a.FileMovedIcon,className:"fgColor-attention"});default:return(0,i.jsx)(r.A,{size:16,icon:a.FileDiffIcon,className:"fgColor-muted"})}}try{l.displayName||(l.displayName="FileStatusIcon")}catch{}},75656:(e,t,n)=>{n.d(t,{Y:()=>p,o:()=>f});var i=n(74848),a=n(38719),r=n(89539),l=n(96540),s=n(46996),o=n(66760),d=n(8258),c=n(3616),u=n(77134);let m=(0,l.createContext)(null);function f(){let e=(0,l.useContext)(m);if(!e)throw Error("useSelectedDiffRowRange must be used within a SelectedDiffRowRangeContext");return e}function h(e){e.startLineNumber===e.endLineNumber&&e.startOrientation===e.endOrientation?(0,a.i)(`${"left"===e.startOrientation?"L":"R"}${e.startLineNumber} selected.`):(0,a.i)(`${"left"===e.startOrientation?"L":"R"}${e.startLineNumber} to ${"left"===e.endOrientation?"L":"R"}${e.endLineNumber} selected.`)}function p({children:e}){let t=(0,l.useRef)(new Map),n=(0,c.K)((e,n)=>{if(!e)return;let i=e.diffAnchor,a=t.current.get(i);if(!a)return;let{leftLines:r,rightLines:l}=(0,u.Mk)(a);return(0,o.A)({selectedDiffRowRange:e,leftLines:r,rightLines:l,isNumberCell:n})}),[f,p]=(0,l.useState)(()=>(0,d.ZD)(r.fV.hash)),[g,x]=(0,l.useState)(()=>{if(f){let e=n(f);if(e)return{leftLines:e.selectedLeftLines,rightLines:e.selectedRightLines||[]}}return{leftLines:[],rightLines:[]}}),y=(0,c.K)((e,t)=>{let i=n(e,t),a=i?{leftLines:i.selectedLeftLines,rightLines:i.selectedRightLines||[]}:{leftLines:[],rightLines:[]};(0,s.A)(g,a)||x(a)}),b=(0,c.K)((e,t,n,i,a)=>{if(!t||!n)return;let r=i&&f&&f.diffAnchor===e?t<=f.firstSelectedLineNumber?{...f,startLineNumber:t,startOrientation:n,endLineNumber:f.firstSelectedLineNumber,endOrientation:f.firstSelectedOrientation}:{...f,startLineNumber:f.firstSelectedLineNumber,startOrientation:f.firstSelectedOrientation,endLineNumber:t,endOrientation:n}:{diffAnchor:e,endLineNumber:t,endOrientation:n,startLineNumber:t,startOrientation:n,firstSelectedLineNumber:t,firstSelectedOrientation:n};h(r),(a||i)&&p(r),y(r,a),(0,d.i8)(r)}),j=(0,c.K)(e=>{h(e),p(e),y(e),(0,d.i8)(e)}),C=(0,c.K)(({diffAnchor:e,startGridCell:t,endGridCell:n,focusedGridCell:i})=>{j({diffAnchor:e,endLineNumber:n.lineNumber,endOrientation:n.orientation,firstSelectedLineNumber:i.lineNumber,firstSelectedOrientation:i.orientation,startLineNumber:t.lineNumber,startOrientation:t.orientation})}),v=(0,c.K)(()=>{f&&(p(void 0),y(void 0),(0,a.i)("Selection Cleared"),history.replaceState({},"",window.location.pathname+window.location.search))}),N=(0,c.K)((e,n)=>{t.current.set(e,n),f?.diffAnchor===e&&y(f)}),w=(0,c.K)(e=>t.current.get(e)),k=(0,l.useMemo)(()=>({selectedDiffRowRange:f,updateSelectedDiffRowRange:b,clearSelectedDiffRowRange:v,replaceSelectedDiffRowRange:j,replaceSelectedDiffRowRangeFromGridCells:C,updateDiffLines:N,selectedDiffLines:g,getDiffLinesFromLineRange:n,getDiffLinesByDiffAnchor:w}),[f,b,v,j,C,g,N,n,w]);return(0,i.jsx)(m.Provider,{value:k,children:e})}try{m.displayName||(m.displayName="SelectedDiffRowRange")}catch{}try{p.displayName||(p.displayName="SelectedDiffRowRangeContextProvider")}catch{}},760:(e,t,n)=>{n.d(t,{G:()=>k});var i=n(74848),a=n(38621),r=n(89323),l=n(8338),s=n(20053),o=n(4805),d=n(98939),c=n(84217),u=n(55847),m=n(96540),f=n(36219),h=n(93743),p=n(20120),g=n(80171);function x(e){return 0===(function(){let e=(0,p.B)();return e?(e.userNotices??[]).filter(e=>!e.dismissed):[]})().filter(t=>t.name===e).length}let y="compact_diff_lines";function b(){let e=x(y),{dismissNotice:t}=function(e){let t=x(e);return{dismissNotice:(0,m.useCallback)(()=>{(0,f.M3)()&&!t&&(0,g.DI)((0,h.VB1)({noticeName:e}),{method:"POST"})},[t,e])}}(y),{updateLineSpacing:n}=(0,o.n)(),[a,r]=(0,m.useState)(!0),l=(0,m.useCallback)(()=>{n("compact"),r(!1),t()},[t,n]),s=(0,m.useCallback)(()=>{r(!1),t()},[t]);return e?null:(0,i.jsx)(d.A,{open:a,caret:"top-right",sx:{top:"60px",right:"-4px"},children:(0,i.jsxs)(d.A.Content,{className:"d-flex flex-column gap-2",sx:{minWidth:"260px",width:"40%"},children:[(0,i.jsx)(c.A,{sx:{fontSize:2},as:"h2",children:"Customizable line height"}),(0,i.jsx)("p",{children:"The default line height has been increased for improved accessibility. You can choose to enable a more compact line height from the view settings menu."}),(0,i.jsxs)("div",{className:"d-flex gap-2 flex-row w-full flex-wrap",children:[(0,i.jsx)(u.Q,{onClick:l,sx:{flexShrink:0,flexGrow:1},children:"Enable compact line height"}),(0,i.jsx)(u.Q,{onClick:s,variant:"invisible",sx:{color:"accent.fg",flexGrow:1},alignContent:"center",children:"Dismiss"})]})]})})}try{b.displayName||(b.displayName="DiffCompactLinesPopover")}catch{}function j({lineSpacingPreferenceAvailable:e=!0,reloadOnChange:t=!1}){let{hideWhitespace:n,updateHideWhitespace:a,lineSpacing:r,updateLineSpacing:s}=(0,o.n)();return(0,i.jsxs)(l.l.Group,{selectionVariant:"multiple",variant:"subtle",children:[(0,i.jsx)(l.l.Item,{selected:n,onSelect:()=>{a(!n),t&&window.location.reload()},children:"Hide whitespace"}),e&&(0,i.jsx)(l.l.Item,{selected:"compact"===r,onSelect:()=>s("compact"===r?"relaxed":"compact"),children:"Compact line height"})]})}try{j.displayName||(j.displayName="DiffLinePresentationToggles")}catch{}function C({reloadOnChange:e=!1}){let{splitPreference:t,updateSplitPreference:n}=(0,o.n)();return(0,i.jsxs)(l.l.Group,{selectionVariant:"single",children:[(0,i.jsx)(l.l.GroupHeading,{children:"Layout"}),(0,i.jsx)(l.l.Item,{selected:"unified"===t,onSelect:()=>{n("unified"),e&&window.location.reload()},children:"Unified"}),(0,i.jsx)(l.l.Item,{selected:"split"===t,onSelect:()=>{n("split"),e&&window.location.reload()},children:"Split"})]})}try{C.displayName||(C.displayName="DiffViewPreferenceToggle")}catch{}var v=n(93843),N=n(6655);function w(){let{diff_inline_comments:e}=(0,v.h)(),{commentsPreference:t,updateCommentsPreference:n}=(0,o.n)();return e?(0,i.jsxs)(l.l.Group,{selectionVariant:"single",children:[(0,i.jsx)(l.l.GroupHeading,{children:"Comments"}),(0,i.jsx)(l.l.Item,{selected:t===N.s.Collapsed,onSelect:()=>n(N.s.Collapsed),children:"Collapsed"}),(0,i.jsx)(l.l.Item,{selected:t===N.s.Visible,onSelect:()=>n(N.s.Visible),children:"Always visible"})]}):null}try{w.displayName||(w.displayName="DiffCommentsPreferenceToggle")}catch{}function k({invisible:e=!0,lineSpacingPreferenceAvailable:t=!0,reloadOnSplitPreferenceChange:n=!1,reloadOnWhitespaceChange:o=!1,small:d}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.W,{children:[(0,i.jsx)(r.W.Anchor,{children:(0,i.jsx)("button",{className:(0,s.$)("Button Button--iconOnly",e?"Button--invisible":"Button--secondary",d&&"Button--small"),"aria-label":"Open diff view settings",children:(0,i.jsx)(a.GearIcon,{})})}),(0,i.jsx)(r.W.Overlay,{children:(0,i.jsxs)(l.l,{children:[(0,i.jsx)(C,{reloadOnChange:n}),(0,i.jsx)(w,{}),(0,i.jsx)(l.l.Divider,{}),(0,i.jsx)(j,{lineSpacingPreferenceAvailable:t,reloadOnChange:o})]})})]}),(0,i.jsx)(b,{})]})}try{k.displayName||(k.displayName="DiffViewSettings")}catch{}},4805:(e,t,n)=>{n.d(t,{B:()=>c,n:()=>u});var i=n(74848),a=n(72731),r=n(96540),l=n(80171),s=n(94747);let o={hideWhitespace:!1,splitPreference:"split",lineSpacing:"relaxed",commentsPreference:n(6655).s.Visible,updateCommentsPreference:()=>{},updateHideWhitespace:()=>{},updateSplitPreference:()=>{},updateLineSpacing:()=>{}},d=(0,r.createContext)(o);function c({viewSettings:e,children:t}){let n=function(e){let t=e,[n]=(0,a.o)(),i=n.get("diff");return("split"===i||"unified"===i)&&(t=i),t}(e.splitPreference),o=function(e){let t=e,[n]=(0,a.o)(),i=n.get("w");return"1"===i?t=!0:"0"===i&&(t=!1),t}(e.hideWhitespace),c=e.lineSpacing,{mutate:u}=(0,s.n)({mutationFn:async({commentsPreference:e,lineSpacing:t,splitPreference:n})=>{let i={};e&&(i={...i,commentsPreference:e}),t&&(i={...i,lineSpacing:t}),n&&(i={...i,diff:n});let a=await (0,l.Sr)("/users/diffview",{method:"POST",headers:{Accept:"application/json"},body:i}),r=await a.json();if(a.ok)return r;throw Error(r.error||"Unknown error occurred",{cause:a.status})}}),[f,h]=(0,r.useState)(o),[p,g]=(0,r.useState)(e.commentsPreference),[x,y]=(0,r.useState)(c),[b,j]=(0,r.useState)(n),C=(0,r.useCallback)(async e=>{m("diff",e),j(e),u({splitPreference:e})},[u]),v=(0,r.useCallback)(async e=>{g(e),u({commentsPreference:e})},[u]),N=(0,r.useCallback)(e=>{m("w",e?"1":"0"),h(e)},[]),w=(0,r.useCallback)(async e=>{y(e),u({lineSpacing:e})},[u]),k=(0,r.useMemo)(()=>({commentsPreference:p,hideWhitespace:f,splitPreference:b,lineSpacing:x,updateCommentsPreference:v,updateHideWhitespace:N,updateSplitPreference:C,updateLineSpacing:w}),[p,f,x,b,v,N,w,C]);return(0,i.jsx)(d.Provider,{value:k,children:t})}function u(){return(0,r.useContext)(d)}function m(e,t){let n=new URL(window.location.href,window.location.origin);if(t){let i=encodeURIComponent(t);n.searchParams.set(e,i)}else n.searchParams.delete(e);window.history.replaceState({path:n.toString()},"",n.toString())}try{d.displayName||(d.displayName="DiffViewSettingsContext")}catch{}try{c.displayName||(c.displayName="DiffViewSettingsProvider")}catch{}},78293:(e,t,n)=>{n.d(t,{u:()=>l});var i=n(74848),a=n(20053);let r={diffSquare:"DiffSquares-module__diffSquare--h5kjy",addition:"DiffSquares-module__addition--jeNtt",deletion:"DiffSquares-module__deletion--hKV3q",neutral:"DiffSquares-module__neutral--VlyoP"};function l({squares:e}){return(0,i.jsx)("div",{className:"d-flex",children:e.map((e,t)=>(0,i.jsx)("div",{"data-testid":`${e} diffstat`,className:(0,a.$)(r.diffSquare,r[e])},t))})}try{l.displayName||(l.displayName="DiffSquares")}catch{}},76193:(e,t,n)=>{n.d(t,{z:()=>s});var i=n(74848),a=n(94977),r=n(78293);let l={addition:"addition",deletion:"deletion",neutral:"neutral"};function s({linesAdded:e=0,linesDeleted:t=0,linesChanged:n=0,tooltipDirection:s}){if(!e&&!t&&!n||0===n)return null;let{greenSquares:o,redSquares:d,graySquares:c}=function(e,t,n){let i=n>5?5/n:1,a=Math.floor(e*i),r=Math.floor(t*i);return{greenSquares:a,redSquares:r,graySquares:5-a-r}}(e,t,n),u=[...Array(o).fill(l.addition),...Array(d).fill(l.deletion),...Array(c).fill(l.neutral)];return(0,i.jsxs)("div",{className:"d-flex flex-items-center gap-1 pl-1",children:[e>0&&(0,i.jsxs)("span",{className:"f6 text-bold fgColor-success",children:["+",e.toLocaleString()]}),t>0&&(0,i.jsxs)("span",{className:"f6 text-bold fgColor-danger",children:["-",t.toLocaleString()]}),(0,i.jsx)(a.A,{"aria-label":function({linesAdded:e,linesChanged:t,linesDeleted:n}){return`${t} ${1===t?"change":"changes"}: ${e} ${1===e?"addition":"additions"} & ${n} ${1===n?"deletion":"deletions"}`}({linesAdded:e,linesChanged:n,linesDeleted:t}),direction:s??"e",children:(0,i.jsx)(r.u,{squares:u})})]})}try{s.displayName||(s.displayName="DiffStats")}catch{}},99793:(e,t,n)=>{n.d(t,{L:()=>o});var i=n(74848),a=n(38621),r=n(87330),l=n(94977),s=n(20053);let o=n(96540).forwardRef(({expanded:e,testid:t,ariaLabel:n,ariaControls:o,onToggleExpanded:d,alignment:c,dataHotkey:u,className:m,tooltipDirection:f,variant:h},p)=>(0,i.jsx)(l.A,{"aria-label":n,id:`expand-button-${t}`,direction:f,children:(0,i.jsx)(r.K,{unsafeDisableTooltip:!0,ref:p,"data-testid":e?`collapse-${t}`:`expand-${t}`,"aria-labelledby":`expand-button-${t}`,"aria-expanded":e,"aria-controls":o,icon:e?"left"===c?a.SidebarExpandIcon:a.SidebarCollapseIcon:"left"===c?a.SidebarCollapseIcon:a.SidebarExpandIcon,"data-hotkey":u,onClick:e=>{d(e)},variant:h??"invisible",className:(0,s.$)(m,"fgColor-muted")})}));o.displayName="ExpandButton"},55702:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var i=n(74848),a=n(81115),r=n(65481),l=n(75177),s=n(30595),o=n(52464),d=n(96540);let c={ERROR:"ERROR",LOADING:"LOADING",LOADED:"LOADED",READY:"READY"};function u(e){e&&(e.load=e.hello=null,e.helloTimer&&(clearTimeout(e.helloTimer),e.helloTimer=null),e.loadTimer&&(clearTimeout(e.loadTimer),e.loadTimer=null))}function m(e,t){e&&e.postMessage&&e.postMessage(JSON.stringify(t),"*")}function f({identityUuid:e,size:t,type:n,url:o}){let[f]=(0,a.I)(()=>window.location.origin,"https://www.github.com",[]),p=new URL(o,f).origin,{renderState:g,errorMsg:x,iFrameRef:y,containerRef:b}=function(e){let[t,n]=function(e){let[t,n]=(0,d.useState)(e),i=(0,d.useRef)(t);return[i,e=>{i.current=e,n(e)}]}(c.LOADING),i=(0,d.useRef)(null),a=(0,d.useRef)(null),r=(0,d.useRef)(null),l=(0,d.useRef)({untimed:!0}),s=(0,d.useCallback)(t=>(function(e,t,n,i,a,r,l){if(e.origin!==t)return;let s=function(e){var t;let n=e.data;if(!n)return null;if("string"==typeof n)try{n=JSON.parse(n)}catch{return null}return"object"==typeof(t=n)&&t&&"render"===t.type&&"string"==typeof t.body&&"object"==typeof t.payload?n:null}(e);if(!s){r(c.ERROR);return}let o=s.body,d=null!=s.payload?s.payload:void 0,u=n.current?.contentWindow;switch(o){case"hello":(a.current??{untimed:!0}).hello=Date.now(),m(u,{type:"render:cmd",body:{cmd:"ack",ack:!0}}),m(u,{type:"render:cmd",body:{cmd:"branding",branding:!1}});break;case"error":case"error:fatal":case"error:invalid":d&&l(d.error??null),r(c.ERROR);break;case"loading":r(c.LOADING);break;case"loaded":r(c.LOADED);break;case"ready":d&&"number"==typeof d.height&&i.current&&(i.current.style.height=`${d.height}px`),r(c.READY);break;case"resize":d&&"number"==typeof d.height&&i.current&&(i.current.style.height=`${d.height}px`);break;case"code_rendering_service:container:get_size":m(u,{type:"render:cmd",body:{cmd:"code_rendering_service:container:size","code_rendering_service:container:size":{width:i.current?.getBoundingClientRect().width}}});break;case"code_rendering_service:markdown:get_data":if(!n.current||!i.current)return;!function(e,t){let n=e.getAttribute("data-content");if(!n)return;let i={type:"render:cmd",body:{cmd:"code_rendering_service:data:ready","code_rendering_service:data:ready":{data:JSON.parse(n).data,width:t.getBoundingClientRect().width}}};m(e.contentWindow,i)}(n.current,i.current)}})(t,e,a,r,l,n,e=>i.current=e),[e,n]);return(0,d.useEffect)(()=>{u(l.current);let e=e=>{(t.current===c.LOADING||t.current===c.LOADED)&&(!e||l.current.hello)&&n(c.ERROR)};return l.current={load:Date.now(),hello:null,helloTimer:window.setTimeout(e,1e4,!0),loadTimer:window.setTimeout(e,45e3)},()=>{u(l.current)}},[t,n]),(0,d.useEffect)(()=>(window.addEventListener("message",s),()=>window.removeEventListener("message",s)),[s]),{renderState:t.current,errorMsg:i.current,iFrameRef:a,containerRef:r}}(p);if("ipynb"===n&&t>3e7||t>2e8)return(0,i.jsx)(r.A,{variant:"danger",children:"Sorry, this is too big to display."});let j=g!==c.READY?{height:"1px",width:"1px",position:"fixed",bottom:0,right:0}:{height:"100%",width:"100%"};return(0,i.jsx)(l.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,i.jsxs)(l.A,{"data-hpc":!0,"data-host":p,"data-type":n,ref:b,sx:{width:1024,...g!==c.ERROR?{borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px",lineHeight:"0",padding:5,textAlign:"center"}:{},...g===c.READY?{height:"500px",padding:0,background:"none"}:{}},children:[g===c.ERROR?(0,i.jsx)(h,{error:x}):g!==c.READY?(0,i.jsx)(s.A,{size:"large",sx:{mx:"auto"}}):null,g!==c.ERROR&&(0,i.jsx)(l.A,{as:"iframe",ref:y,src:`${o}#${e}`,sandbox:"allow-scripts allow-same-origin allow-top-navigation",sx:{border:0,display:"block",...j},name:e,title:"File display",children:"Viewer requires iframe."})]})})}function h({error:e}){if(!e)return(0,i.jsx)(r.A,{variant:"danger",children:"Unable to render code block"});let t=e.split("\n");return(0,i.jsxs)(r.A,{variant:"danger",children:[(0,i.jsx)(o.A,{as:"p",sx:{fontWeight:"bold"},children:"Error rendering embedded code"}),(0,i.jsx)("p",{children:t.map((e,t)=>(0,i.jsxs)(d.Fragment,{children:[e,(0,i.jsx)("br",{})]},`error-line-${t}`))})]})}try{f.displayName||(f.displayName="FileRendererBlob")}catch{}try{h.displayName||(h.displayName="FileRendererErrorMessage")}catch{}},45999:(e,t,n)=>{n.d(t,{U:()=>o});var i=n(74848),a=n(48229),r=n(20053),l=n(88767);let s={container:"Description-module__container--b3n6F",compact:"Description-module__compact--SPRVh"};function o({children:e,style:t,className:n}){let{variant:o}=(0,l.e)();return(0,i.jsx)("div",{...(0,a.G)("list-view-item-description"),className:(0,r.$)(s.container,"compact"===o&&s.compact,n),style:t,children:e})}try{o.displayName||(o.displayName="ListItemDescription")}catch{}},18748:(e,t,n)=>{n.d(t,{Q:()=>c});var i=n(74848),a=n(48229),r=n(20053),l=n(96540),s=n(88767);let o={container:"MainContent-module__container--ry4iL",inner:"MainContent-module__inner--bU_tk",compact:"MainContent-module__compact--mM626"};var d=n(59760);function c({children:e}){let{variant:t}=(0,s.e)(),n=l.Children.toArray(e),c=n.findIndex(e=>(0,l.isValidElement)(e)&&"string"!=typeof e&&e.type===d.a),u=n[c],m=c<0?n:n.slice(0,c).concat(n.slice(c+1));return(0,i.jsxs)(i.Fragment,{children:[u,(0,i.jsx)("div",{...(0,a.G)("list-view-item-main-content"),className:o.container,children:(0,i.jsx)("div",{className:(0,r.$)(o.inner,"compact"===t&&o.compact),children:m})})]})}try{c.displayName||(c.displayName="ListItemMainContent")}catch{}},34618:(e,t,n)=>{n.d(t,{V:()=>s});var i=n(74848),a=n(48229),r=n(20053);let l={metadata:"Metadata-module__metadata--yvrod",secondary:"Metadata-module__secondary--zMgLx",primary:"Metadata-module__primary--cJgJU",alignRight:"Metadata-module__alignRight--rp0_Z"};function s({children:e,alignment:t,variant:n,...s}){return(0,i.jsx)("div",{...(0,a.G)("list-view-item-metadata-item"),...s,className:(0,r.$)(l.metadata,"primary"===n?l.primary:l.secondary,"right"===t&&l.alignRight,s.className),children:e})}try{s.displayName||(s.displayName="ListItemMetadata")}catch{}},21341:(e,t,n)=>{n.d(t,{W:()=>V});var i=n(74848);let a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],n={alias:null,args:null,kind:"ScalarField",name:"includesCreatedEdit",storageKey:null},i=[{kind:"Literal",name:"first",value:100}],a={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MarkdownEditHistoryViewerQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[n,{alias:null,args:i,concreteType:"UserContentEditConnection",kind:"LinkedField",name:"userContentEdits",plural:!1,selections:[a,{alias:null,args:null,concreteType:"UserContentEditEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"node",plural:!1,selections:[r,l,s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[o,d],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"userContentEdits(first:100)"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MarkdownEditHistoryViewerQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,{kind:"InlineFragment",selections:[n,{alias:null,args:i,concreteType:"UserContentEditConnection",kind:"LinkedField",name:"userContentEdits",plural:!1,selections:[a,{alias:null,args:null,concreteType:"UserContentEditEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"node",plural:!1,selections:[r,l,s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[c,o,d,r],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"userContentEdits(first:100)"}],type:"Comment",abstractKey:"__isComment"},r],storageKey:null}]},params:{id:"c6113eea560ba83b319c9b30fc5d4f7e",metadata:{},name:"MarkdownEditHistoryViewerQuery",operationKind:"query",text:null}}}();a.hash="58ea81646b217a25de6cfe147936e7f6";let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownEditHistoryViewer_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastEditedAt",storageKey:null}],type:"Comment",abstractKey:"__isComment"};r.hash="fcc1ee717c6a87a4ffdb4f4d9391d55c";var l=n(45079),s=n(81570),o=n(20300),d=n(75177),c=n(89323),u=n(8338),m=n(52464),f=n(89169),h=n(47139),p=n(96540),g=n(18312),x=n(60016);let y={couldNotDeleteEditRevision:"Failed to delete this revision",couldNotLoad:"Couldn't load"},b=({retry:e})=>(0,i.jsx)(x.h,{message:y.couldNotLoad,retry:e,sx:{p:4}});try{b.displayName||(b.displayName="CouldNotFindFallbackError")}catch{}let j=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],n={alias:null,args:null,kind:"ScalarField",name:"diff",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"diffBefore",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"EditHistoryDialogQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[n,i,a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[r],storageKey:null},{args:null,kind:"FragmentSpread",name:"EditHistoryDialogHeaderFragment"}],type:"UserContentEdit",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"EditHistoryDialogQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,{kind:"InlineFragment",selections:[n,i,a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[l,r,s],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},r,s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstEdit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanDelete",storageKey:null}],type:"UserContentEdit",abstractKey:null},s],storageKey:null}]},params:{id:"95112ed4d46018d629c28241b711a389",metadata:{},name:"EditHistoryDialogQuery",operationKind:"query",text:null}}}();j.hash="468f60acb1c6c8a75787e70fe36979a9";var C=n(91246),v=n(12490);let N={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EditHistoryDialogHeaderFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstEdit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanDelete",storageKey:null}],type:"UserContentEdit",abstractKey:null};N.hash="173b0fbf2e248d6057ccd670ace2eea7";var w=n(67819),k=n(38621),S=n(53526),L=n(55847),D=n(30729);let I={deleteEditRevision:"Delete revision"},E={ghostUserLogin:"ghost"},A=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"diff",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"deleteUserContentEditMutation",selections:[{alias:null,args:t,concreteType:"DeleteUserContentEditPayload",kind:"LinkedField",name:"deleteUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"userContentEdit",plural:!1,selections:[n,i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[a,r],storageKey:null},l],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"deleteUserContentEditMutation",selections:[{alias:null,args:t,concreteType:"DeleteUserContentEditPayload",kind:"LinkedField",name:"deleteUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"userContentEdit",plural:!1,selections:[n,i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a,r,n],storageKey:null},l],storageKey:null}],storageKey:null}]},params:{id:"71452b9f40a7828ac05811d1ad4f821e",metadata:{},name:"deleteUserContentEditMutation",operationKind:"mutation",text:null}}}();A.hash="45e1f3e7d425560f65ef39e8c357794d";let T=({queryRef:e,userContentEditId:t})=>{let n=(0,g.useFragment)(N,e),a=(0,g.useRelayEnvironment)(),r=(0,S.S)(),{addToast:l}=(0,w.Y6)(),s=(0,p.useCallback)(async()=>{await r({title:v.k.confirmations.deleteEditHistoryTitle,content:v.k.confirmations.deleteEditHistoryContent,confirmButtonType:"danger",confirmButtonContent:v.k.confirmations.deleteEditHistoryConfirmButtonContent})&&function({environment:e,input:{id:t},onCompleted:n,onError:i}){(0,g.commitMutation)(e,{mutation:A,variables:{input:{id:t}},onCompleted:e=>{null===e.deleteUserContentEdit?i?.():n?.()},onError:e=>i?.(e)})}({environment:a,input:{id:t},onError:()=>{l({type:"error",message:y.couldNotDeleteEditRevision})}})},[l,r,a,t]),o=n.newest||n.deletedAt;return(0,i.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",position:"sticky",top:0,backgroundColor:"canvas.subtle",p:3,borderBottom:"1px solid",borderColor:"border.muted"},children:[n.editor&&(0,i.jsx)(R,{login:n.editor.login,avatarUrl:n.editor.avatarUrl,time:n.editedAt,details:n.firstEdit?v.k.editHistory.created:v.k.editHistory.edited,trailingElement:o?(0,i.jsx)(h.A,{sx:{ml:1},children:n.deletedAt?v.k.editHistory.deleted:v.k.editHistory.mostRecent}):void 0}),n.viewerCanDelete&&!n.newest&&!n.deletedAt&&(0,i.jsxs)(L.Q,{sx:{marginLeft:"auto"},variant:"danger",size:"small","aria-label":v.k.editHistory.deleteRevisionAriaLabel,onClick:s,children:[(0,i.jsx)(D.A,{icon:k.TrashIcon})," ",I.deleteEditRevision]})]})};function R({login:e,avatarUrl:t,details:n,time:a,sx:r,trailingElement:s}){let o=!!t&&!!e;return(0,i.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center"},children:[(0,i.jsxs)(d.A,{sx:{...r},children:[o&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.r,{src:t,size:16,alt:`@${e}`,sx:{boxShadow:"0 0 0 2px var(--bgColor-muted, var(--color-canvas-subtle))",mr:1}}),(0,i.jsx)(m.A,{sx:{fontWeight:"bold"},children:e})]}),!o&&(0,i.jsx)("span",{children:e??E.ghostUserLogin}),(0,i.jsxs)("span",{children:[" ",n," "]}),a&&(0,i.jsx)(f.A,{date:new Date(a)})]}),s]})}try{T.displayName||(T.displayName="EditHistoryDialogHeader")}catch{}try{R.displayName||(R.displayName="ActorOperationDetails")}catch{}let _=e=>e.split(/\r?\n/),F=e=>e.split(/\s+/),O=e=>{let t="3px solid";switch(e){case"ADDED":return{borderLeft:t,borderColor:"var(--borderColor-success-emphasis, var(--color-success-fg))"};case"REMOVED":return{borderLeft:t,borderColor:"var(--borderColor-danger-emphasis, var(--color-danger-fg))"};case"EDITED":return{borderLeft:t,borderColor:"var(--borderColor-severe-emphasis, var(--color-severe-fg))"};case"UNCHANGED":return{}}},M=e=>{switch(e){case"ADDED":return{backgroundColor:"var(--diffBlob-additionWord-bgColor, var(--diffBlob-addition-bgColor-word))",color:"var(--diffBlob-additionWord-fgColor, var(--diffBlob-addition-fgColor-text))"};case"REMOVED":return{backgroundColor:"var(--diffBlob-deletionWord-bgColor, var(--diffBlob-deletion-bgColor-word))",color:"var(--diffBlob-deletionWord-fgColor, var(--diffBlob-deletion-fgColor-text))",textDecoration:"line-through"};case"UNCHANGED":return{}}},B=({words:e,modification:t})=>(0,i.jsxs)(d.A,{as:"span",sx:{pl:2},children:["EDITED"===t&&e.map((t,n)=>(0,i.jsx)(m.A,{sx:{...M(t.modification)},children:`${t.word}${n===e.length-1?"":" "}`},n)),"EDITED"!==t&&e.length>0&&(0,i.jsx)("span",{children:e.map(e=>e.word).join(" ")}),0===e.length&&(0,i.jsx)("br",{})]}),U=({before:e,after:t})=>{let n=function({before:e,after:t}){let n=e?_(e):[],i=t?_(t):[],a=[];for(let e=0;e<n.length||e<i.length;e++){let t=n[e],r=i[e];a.push(function(e,t){let n=e?F(e):[],i=t?F(t):[];if(0===n.length&&0===i.length||e===t)return{words:i.map(e=>({word:e,modification:"UNCHANGED"})),modification:"UNCHANGED"};if(0===n.length)return{words:i.map(e=>({word:e,modification:"ADDED"})),modification:"ADDED"};if(0===i.length)return{words:n.map(e=>({word:e,modification:"REMOVED"})),modification:"REMOVED"};let a=[];for(let e=0;e<n.length||e<i.length;e++){let t=n[e],r=i[e];t===r?a.push({word:t,modification:"UNCHANGED"}):(void 0!==t&&a.push({word:t,modification:"REMOVED"}),void 0!==r&&a.push({word:r,modification:"ADDED"}))}return{words:a,modification:"EDITED"}}(t,r))}return{lines:a}}({before:e,after:t});return(0,i.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",overflow:"auto",gap:1},children:n.lines.map((e,t)=>(0,i.jsx)(d.A,{sx:{...O(e.modification),flexDirection:"row"},children:(0,i.jsx)(B,{...e})},t))})};try{B.displayName||(B.displayName="LineDiffViewer")}catch{}try{U.displayName||(U.displayName="TextDiffViewer")}catch{}let $=({userContentEditId:e,onClose:t})=>(0,i.jsx)(C.l,{renderBody:()=>(0,i.jsx)(P,{userContentEditId:e}),onClose:t,title:v.k.editHistory.viewingEditTitle,width:"xlarge",height:"auto",sx:{width:"100%",margin:4,maxWidth:"800px",maxHeight:"clamp(300px, 80vh, 800px)"}}),P=({userContentEditId:e})=>{let[t,n]=(0,g.useQueryLoader)(j);return((0,p.useEffect)(()=>{n({id:e})},[n,e]),t)?(0,i.jsx)(p.Suspense,{fallback:(0,i.jsx)(K,{}),children:(0,i.jsx)(s.A,{onRetry:()=>n({id:e},{fetchPolicy:"network-only"}),fallback:e=>(0,i.jsx)(b,{retry:e}),children:(0,i.jsx)(H,{queryRef:t,userContentEditId:e})})}):(0,i.jsx)(K,{})},H=({queryRef:e,userContentEditId:t})=>{let n=(0,g.usePreloadedQuery)(j,e).node;if(!n)return(0,i.jsx)(K,{});let a=!n.diffBefore&&!n.diff;return(0,i.jsxs)(d.A,{sx:{overflowY:"auto"},children:[(0,i.jsx)(T,{queryRef:n,userContentEditId:t}),(0,i.jsxs)(d.A,{sx:{p:3},children:[!n.deletedAt&&!a&&(0,i.jsx)(U,{before:n.diffBefore??void 0,after:n.diff??void 0}),!n.deletedAt&&a&&(0,i.jsx)(m.A,{sx:{color:"fg.muted",fontStyle:"italic"},children:v.k.editHistory.emptyEdit}),n.deletedAt&&(0,i.jsx)(R,{login:n.deletedBy?.login,details:v.k.editHistory.deletedThisRevision,time:n.deletedAt,sx:{color:"fg.muted",fontStyle:"italic"}})]})]})};function K(){return(0,i.jsxs)(d.A,{sx:{m:2,display:"flex",flexDirection:"column",gap:2},children:[(0,i.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"}),(0,i.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"})]})}try{$.displayName||($.displayName="EditHistoryDialog")}catch{}try{P.displayName||(P.displayName="EditContent")}catch{}try{H.displayName||(H.displayName="EditContentInternal")}catch{}try{K.displayName||(K.displayName="EditContentLoading")}catch{}function V({editHistory:e}){let t=(0,g.useFragment)(r,e),[n,a]=(0,p.useState)(!1),[l,s]=(0,p.useState)("");return t&&t.viewerCanReadUserContentEdits&&t.lastEditedAt?(0,i.jsxs)(d.A,{sx:{display:"flex"},children:[(0,i.jsxs)(c.W,{children:[(0,i.jsx)(c.W.Button,{sx:{color:"fg.muted"},variant:"invisible",size:"small","aria-label":v.k.editHistory.ariaLabel,children:v.k.editHistory.openEditsButton}),(0,i.jsx)(c.W.Overlay,{width:"auto",children:(0,i.jsx)(z,{setIsEditHistoryDialogOpen:a,setSelectedId:s,editHistoryId:t.id,lastEditedAt:t.lastEditedAt})})]}),n&&(0,i.jsx)($,{onClose:()=>a(!1),userContentEditId:l})]}):null}let z=({editHistoryId:e,lastEditedAt:t,...n})=>{let[r,l]=(0,g.useQueryLoader)(a);return((0,p.useEffect)(()=>{l({id:e},{fetchPolicy:"network-only"})},[e,l,t]),r)?(0,i.jsx)(p.Suspense,{fallback:(0,i.jsx)(W,{}),children:(0,i.jsx)(s.A,{onRetry:()=>l({id:e},{fetchPolicy:"network-only"}),fallback:e=>(0,i.jsx)(b,{retry:e}),children:(0,i.jsx)(G,{queryRef:r,...n})})}):(0,i.jsx)(W,{})},G=({setIsEditHistoryDialogOpen:e,setSelectedId:t,queryRef:n})=>{let r=(0,g.usePreloadedQuery)(a,n);if(!r.node?.userContentEdits)return(0,i.jsx)(W,{});let s=r.node.userContentEdits.totalCount;return(0,i.jsx)(u.l,{sx:{maxHeight:"clamp(200px, 30vh, 320px)",overflow:"auto",width:"max-content"},children:(0,i.jsxs)(u.l.Group,{children:[(0,i.jsx)(u.l.GroupHeading,{children:`Edited ${s-1} time${s>2?"s":""}`}),r.node.userContentEdits.edges?.map((n,a)=>{let o=n?.node;if(!o?.editor)return null;let d=r.node?.includesCreatedEdit&&a===s-1;return i.jsxs(u.l.Item,{onSelect:()=>{t(o.id),e(!0)},children:[i.jsx(u.l.LeadingVisual,{children:i.jsx(l.r,{src:o.editor.avatarUrl,size:16,alt:`@${o.editor.login}`,sx:{boxShadow:"0 0 0 2px var(--bgColor-muted, var(--color-canvas-subtle))"}})}),i.jsx(m.A,{sx:{fontWeight:"normal"},children:o.editor.login}),i.jsxs(u.l.Description,{sx:{ml:1,display:"flex",flexDirection:"row",gap:"3px"},truncate:!0,children:[d&&i.jsx("div",{title:"",children:v.k.editHistory.created}),i.jsx(f.A,{date:new Date(o.editedAt)})]}),(0===a||o.deletedAt)&&i.jsx(u.l.TrailingVisual,{children:i.jsx(h.A,{children:0===a?v.k.editHistory.mostRecent:v.k.editHistory.deleted})})]},o.id)})]})})};function W(){return(0,i.jsxs)(d.A,{sx:{m:2,display:"flex",flexDirection:"column",gap:2,minWidth:"256px"},children:[(0,i.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"}),(0,i.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"}),(0,i.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"}),(0,i.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"})]})}try{V.displayName||(V.displayName="MarkdownEditHistoryViewer")}catch{}try{z.displayName||(z.displayName="EditHistoryActionMenuContent")}catch{}try{G.displayName||(G.displayName="EditHistoryActionMenuContentInternal")}catch{}try{W.displayName||(W.displayName="EditHistoryLoading")}catch{}},94689:(e,t,n)=>{n.d(t,{_:()=>d});var i=n(74848);let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownLastEditedBy",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"lastUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null}],storageKey:null}],type:"Comment",abstractKey:"__isComment"};a.hash="bbab0cb2d43eeaaa0ed5b010868ec7f4";var r=n(34614),l=n(18312),s=n(12490);let o={container:"MarkdownLastEditedBy-module__container--fKxHN"};function d({editInformation:e,includeSeparator:t,forceUnderline:n}){let d=(0,l.useFragment)(a,e);if(!d||!d.viewerCanReadUserContentEdits||!d.lastUserContentEdit||!d.lastUserContentEdit.editor)return null;let{login:c,url:u}=d.lastUserContentEdit.editor;return(0,i.jsxs)("span",{className:o.container,children:[t&&(0,i.jsx)("span",{children:" \xb7 "}),(0,i.jsxs)("span",{children:[`${s.k.editHistory.editedBy} `,(0,i.jsx)(r.A,{sx:{color:"fg.muted"},href:u,inline:n,children:c})]})]})}try{d.displayName||(d.displayName="MarkdownLastEditedBy")}catch{}},57135:(e,t,n)=>{n.d(t,{Y:()=>f});var i=n(74848),a=n(59299),r=n(44999),l=n(16255),s=n(20053),o=n(96540);let d=n(38267).Ay.span.withConfig({displayName:"ControlledTooltip__TooltipBase",componentId:"sc-fd0a7f7c-0"})(["&::after{position:absolute;z-index:1000000;display:none;padding:0.5em 0.75em;font:normal normal 11px/1.5 ",";-webkit-font-smoothing:subpixel-antialiased;color:",";text-align:center;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-wrap:break-word;white-space:pre;pointer-events:none;content:attr(data-visible-text);background:",";border-radius:",";opacity:0;}@keyframes tooltip-appear{from{opacity:0;}to{opacity:1;}}&.tooltipped-open,&:hover,&:active,&:focus{&::after{display:inline-block;text-decoration:none;animation-name:tooltip-appear;animation-duration:0.1s;animation-fill-mode:forwards;animation-timing-function:ease-in;animation-delay:0s;}}&.tooltipped-no-delay.tooltipped-open,&.tooltipped-no-delay:hover,&.tooltipped-no-delay:active,&.tooltipped-no-delay:focus{&::after{animation-delay:0s;}}&.tooltipped-s,&.tooltipped-se,&.tooltipped-sw{&::after{top:100%;right:50%;margin-top:6px;}}&.tooltipped-se{&::after{right:auto;left:50%;margin-left:-",";}}&.tooltipped-sw::after{margin-right:-",";}&.tooltipped-n,&.tooltipped-ne,&.tooltipped-nw{&::after{right:50%;bottom:100%;margin-bottom:6px;}}&.tooltipped-ne{&::after{right:auto;left:50%;margin-left:-",";}}&.tooltipped-nw::after{margin-right:-",";}&.tooltipped-s::after,&.tooltipped-n::after{transform:translateX(50%);}&.tooltipped-w{&::after{right:100%;bottom:50%;margin-right:6px;transform:translateY(50%);}}&.tooltipped-e{&::after{bottom:50%;left:100%;margin-left:6px;transform:translateY(50%);}}&.tooltipped-align-right-2::after{right:0;margin-right:0;}&.tooltipped-align-left-2::after{left:0;margin-left:0;}",";"],(0,a.Jt)("fonts.normal"),(0,a.Jt)("colors.fg.onEmphasis"),(0,a.Jt)("colors.neutral.emphasisPlus"),(0,a.Jt)("radii.2"),(0,a.Jt)("space.3"),(0,a.Jt)("space.3"),(0,a.Jt)("space.3"),(0,a.Jt)("space.3"),r.A),c=()=>()=>void 0,u=()=>!1,m=()=>!0,f=(0,o.forwardRef)(function({direction:e="n",className:t,text:n,noDelay:a,align:r,wrap:f,open:h=!1,portalProps:p={},...g},x){let y=(0,o.useSyncExternalStore)(c,m,u),b=(0,s.$)(t,`tooltipped-${e}`,r&&`tooltipped-align-${r}-2`,a&&"tooltipped-no-delay",f&&"tooltipped-multiline",h&&"tooltipped-open");return y?(0,i.jsx)(l.Z,{...p,children:(0,i.jsx)(d,{ref:x,role:"tooltip","aria-label":n,"data-visible-text":n||g["aria-label"],...g,sx:{position:"fixed",zIndex:1,...g.sx},className:b})}):null});try{f.displayName||(f.displayName="ControlledTooltip")}catch{}},2583:(e,t,n)=>{n.d(t,{m:()=>o});var i=n(74848),a=n(69676),r=n(96540),l=n(57135),s=n(94123);let o=(0,r.forwardRef)(function({contentRef:e,open:t,anchoredPositionAlignment:n,anchorSide:o,anchorOffset:d,alignmentOffset:c,allowOutOfBounds:u,...m},f){let h=(0,r.useRef)(null);(0,r.useImperativeHandle)(f,()=>h.current);let p=(0,r.useRef)({left:0,top:0}),g=(0,r.useSyncExternalStore)((0,r.useCallback)(n=>{if(!h.current||!e.current||!t)return()=>void 0;let i=(0,s.U)(e.current);return i?.addEventListener("scroll",n),()=>{i?.removeEventListener("scroll",n)}},[e,t]),(0,r.useCallback)(()=>{if(!h.current||!e.current)return p.current;let t=(0,a.uG)(h.current,e.current,{align:n??"center",side:o??"outside-top",alignmentOffset:c??0,anchorOffset:d??0,allowOutOfBounds:u});return(t.left!==p.current.left||t.top!==p.current.top)&&(p.current=t),p.current},[e,c,d,n,o,u]),(0,r.useCallback)(()=>p.current,[]));return(0,i.jsx)(l.Y,{...m,ref:h,open:t,style:{position:"absolute",...g,...m.style}})});try{o.displayName||(o.displayName="PortalTooltip")}catch{}},49061:(e,t,n)=>{n.d(t,{B:()=>l});var i=n(74848),a=n(96540),r=n(2583);function l({includeAriaAttributes:e=!0,...t}){let n=(0,a.useId)(),[l,s]=(0,a.useState)(!1),o=t.open??l,d=t.id??n,c=e?{"aria-describedby":d}:{},u=(0,a.useCallback)(()=>s(!0),[]),m=(0,a.useCallback)(()=>s(!1),[]);return[{...c,onPointerEnter:u,onPointerLeave:m,onFocus:u,onBlur:m},(0,i.jsx)(r.m,{...t,open:o,id:d},"portal-tooltip")]}},25232:(e,t,n)=>{n.r(t),n.d(t,{ReactionViewerRelay:()=>C,ReactionViewerRelayQueryComponent:()=>v,default:()=>N});var i=n(74848);let a=function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ReactionViewerRelayGroups",selections:[{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:e,type:"User",abstractKey:null},{kind:"InlineFragment",selections:e,type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:e,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:e,type:"Mannequin",abstractKey:null}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null}],type:"Reactable",abstractKey:"__isReactable"}}();a.hash="683f509bd79d5a4206eb49d13f947374";let r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a=[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ReactionViewerRelayLazyQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ReactionViewerRelayLazyQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n,i,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[n,{kind:"InlineFragment",selections:a,type:"User",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null}],type:"Reactable",abstractKey:"__isReactable"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}]},params:{id:"d284cb78e50ac8ee8a082f7850e0f1de",metadata:{},name:"ReactionViewerRelayLazyQuery",operationKind:"query",text:null}}}();r.hash="95899d766fa2c1bc2ea04b604e3db421";var l=n(96540),s=n(18312);let o=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"addReactionMutation",selections:[{alias:null,args:t,concreteType:"AddReactionPayload",kind:"LinkedField",name:"addReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"addReactionMutation",selections:[{alias:null,args:t,concreteType:"AddReactionPayload",kind:"LinkedField",name:"addReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[n,{kind:"TypeDiscriminator",abstractKey:"__isReactable"},{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[n,{kind:"InlineFragment",selections:i,type:"User",abstractKey:null},{kind:"InlineFragment",selections:i,type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:i,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:i,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[a],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null},a],storageKey:null}],storageKey:null}]},params:{id:"3654a2fd2d4535d6fdbb8be8a477a510",metadata:{},name:"addReactionMutation",operationKind:"mutation",text:null}}}();o.hash="504ef43df20e9ee96a023f421682e18d";let d=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"removeReactionMutation",selections:[{alias:null,args:t,concreteType:"RemoveReactionPayload",kind:"LinkedField",name:"removeReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"removeReactionMutation",selections:[{alias:null,args:t,concreteType:"RemoveReactionPayload",kind:"LinkedField",name:"removeReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[n,{kind:"TypeDiscriminator",abstractKey:"__isReactable"},{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[n,{kind:"InlineFragment",selections:i,type:"User",abstractKey:null},{kind:"InlineFragment",selections:i,type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:i,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:i,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[a],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null},a],storageKey:null}],storageKey:null}]},params:{id:"7d1ddf2cc4ed2ddb612c4ba7d9ea4f28",metadata:{},name:"removeReactionMutation",operationKind:"mutation",text:null}}}();d.hash="8e28d0138da52c07bb0e64eda432f580";var c=n(69676),u=n(82678),m=n(85349),f=n(8338),h=n(55847),p=n(94977),g=n(41482);function x({reactionGroup:e,disabled:t,onReact:n}){let{content:a,viewerHasReacted:r}=e.reaction,{reactors:l,totalCount:s}=e;if(0===s)return null;let o=l.flatMap(e=>"Other"!==e.typeName?[e.login]:[]),d=(0,g.fj)(a,r,o,s);return(0,i.jsx)(p.A,{"aria-label":(0,g.Js)(o,s),sx:{maxWidth:"100%"},wrap:!0,direction:"ne",align:"left",children:(0,i.jsx)(h.Q,{size:"small",sx:{"&:hover:not([disabled])":{backgroundColor:"accent.muted"},backgroundColor:r?"accent.subtle":"transparent",borderColor:r?"accent.emphasis":"border.default",borderRadius:100,px:2,boxShadow:"none"},"aria-label":d,role:"switch","aria-checked":r,leadingVisual:()=>(0,i.jsx)(i.Fragment,{children:g.qG[a]}),onClick:()=>n(a,r),disabled:t,children:s})})}try{x.displayName||(x.displayName="ReactionButton")}catch{}function y({onReact:e,reaction:t}){let{content:n,viewerHasReacted:a}=t;return(0,i.jsx)(f.l.Item,{sx:{"&:hover":{backgroundColor:"accent.emphasis"},py:0,px:0,width:"max-content",m:0,backgroundColor:a?"accent.subtle":"transparent"},role:"menuitemcheckbox","aria-checked":a,onSelect:()=>e(n,a),children:g.qG[n]},n)}try{y.displayName||(y.displayName="ReactionsMenuItem")}catch{}var b=n(8361);function j({reactionGroups:e,canReact:t=!0,onReact:n}){let[a,r]=(0,l.useState)(!1),s=e.length>0,{containerRef:o}=(0,u.G)({bindKeys:c.z0.HomeAndEnd|c.z0.ArrowHorizontal,focusOutBehavior:"wrap"});return(0,i.jsxs)("div",{role:"toolbar","aria-label":"Reactions",ref:o,className:"d-flex gap-1 flex-wrap",children:[t&&(0,i.jsx)(m.T,{open:a,onOpen:()=>r(s),onClose:()=>r(!1),anchorRef:o,focusZoneSettings:{bindKeys:c.z0.ArrowAll|c.z0.HomeAndEnd,focusOutBehavior:"wrap"},renderAnchor:e=>(0,i.jsx)(b.N,{renderAnchorProps:e,reactionsAvailable:s}),children:(0,i.jsx)(f.l,{className:"d-flex flex-row p-1 gap-1",role:"menu","aria-orientation":"horizontal",children:(e||[]).map((e,t)=>(0,i.jsx)(y,{reaction:e.reaction,onReact:(e,t)=>{n(e,t),r(!1)}},t))})}),(e||[]).map((e,t)=>(0,i.jsx)(x,{reactionGroup:e,onReact:(e,t)=>n(e,t)},t))]})}try{j.displayName||(j.displayName="ReactionViewerBase")}catch{}function C({reactionGroups:e,subjectId:t,canReact:n=!0}){let r=(0,s.useRelayEnvironment)(),c=(0,s.useFragment)(a,e),u=(0,l.useCallback)((e,i)=>{n&&(i?function({environment:e,input:{subject:t,content:n},onError:i,onCompleted:a}){return(0,s.commitMutation)(e,{mutation:d,variables:{input:{subjectId:t,content:n}},optimisticUpdater:e=>{let i=e.get(t);if(!i)return;let a=i.getLinkedRecords("reactionGroups");if(!a)return;let r=a.findIndex(e=>e.getValue("content")===n),l=a[r];if(l){l.setValue(!1,"viewerHasReacted");let n=`client:${t}:reactionGroups:${r}:reactors(first:5)`,i=e.get(n);if(i){let e=i.getValue("totalCount");i.setValue(e&&e>0?e-1:0,"totalCount")}}},onError:e=>i&&i(e),onCompleted:e=>a&&a(e)})}({environment:r,input:{subject:t,content:e}}):function({environment:e,input:{subject:t,content:n},onError:i,onCompleted:a}){return(0,s.commitMutation)(e,{mutation:o,variables:{input:{subjectId:t,content:n}},optimisticUpdater:e=>{let i=e.get(t);if(!i)return;let a=i.getLinkedRecords("reactionGroups");if(!a)return;let r=a.findIndex(e=>e.getValue("content")===n),l=a[r];if(l){l.setValue(!0,"viewerHasReacted");let n=`client:${t}:reactionGroups:${r}:reactors(first:5)`,i=e.get(n);if(i){let e=i.getValue("totalCount");i.setValue(e?e+1:1,"totalCount")}}},onError:e=>i&&i(e),onCompleted:e=>a&&a(e)})}({environment:r,input:{subject:t,content:e}}))},[n,r,t]),m=(c.reactionGroups||[]).filter(e=>!!e).map(e=>({reaction:{content:e.content,viewerHasReacted:e.viewerHasReacted},reactors:e.reactors?.nodes?.map(e=>({login:e?.__typename==="%other"?"":e?.login,typeName:e?.__typename||""}))||[],totalCount:e.reactors?.totalCount||0}));return(0,i.jsx)(j,{reactionGroups:m,canReact:n,subjectId:t,onReact:u})}function v({id:e,subjectLocked:t}){let n=(0,s.useLazyLoadQuery)(r,{id:e},{fetchPolicy:"store-or-network"});return n.node?(0,i.jsx)(C,{subjectId:e,reactionGroups:n.node,canReact:!t}):null}let N=C;try{C.displayName||(C.displayName="ReactionViewerRelay")}catch{}try{v.displayName||(v.displayName="ReactionViewerRelayQueryComponent")}catch{}},8361:(e,t,n)=>{n.d(t,{N:()=>o});var i=n(74848),a=n(38621),r=n(87330),l=n(94977);let s={addOrRemoveReaction:"Add or remove reactions",reactionsUnavailable:"Reactions are currently unavailable"};function o({renderAnchorProps:e,reactionsAvailable:t}){let n=(0,i.jsx)(d,{renderAnchorProps:e,reactionsAvailable:t});return t?n:(0,i.jsx)(l.A,{"aria-label":s.reactionsUnavailable,children:n})}let d=({renderAnchorProps:e,reactionsAvailable:t})=>(0,i.jsx)(r.K,{unsafeDisableTooltip:!0,size:"small",sx:{borderRadius:100,height:28,width:28,display:"flex",alignItems:"center","& > span":{lineHeight:1,ml:"-1px"}},icon:a.SmileyIcon,...e,"aria-label":s.addOrRemoveReaction,inactive:!t,"aria-labelledby":void 0});try{o.displayName||(o.displayName="ReactionViewerAnchor")}catch{}try{d.displayName||(d.displayName="BaseIcon")}catch{}},84386:(e,t,n)=>{n.d(t,{e:()=>r});var i=n(74848),a=n(20300);function r(){return(0,i.jsx)("div",{className:"d-flex flex-wrap gap-1",children:(0,i.jsx)(a.O,{variant:"elliptical",height:"28px",width:"28px"})})}try{r.displayName||(r.displayName="ReactionViewerLoading")}catch{}},81570:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(74848),a=n(96540),r=n(46618),l=n(95936);let s=e=>(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:"Error:"}),(0,i.jsx)("button",{onClick:e,children:"Retry"})]});let BasicPreloadedQueryBoundary=class BasicPreloadedQueryBoundary extends a.Component{static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){let t={critical:this.props.critical||!1,reactAppName:this.props.appName};(0,r.N7)(e,t)}render(){let{children:e}=this.props,{error:t}=this.state,n=this.props.fallback||s;return t?n(this._retry,t):e}constructor(...e){super(...e),this.state={error:null},this._retry=()=>{this.props.onRetry(),this.setState({error:null})}}};function o(e){let t=(0,a.useContext)(l.I),n=e.appName||t?.appName;return(0,i.jsx)(BasicPreloadedQueryBoundary,{...e,appName:n})}try{o.displayName||(o.displayName="PreloadedQueryBoundary")}catch{}},13619:(e,t,n)=>{n.d(t,{Gy:()=>l,LB:()=>c,lm:()=>d,nn:()=>u});var i=n(74848),a=n(70170),r=n(96540);let l={small:1,medium:544,large:768,xlarge:1012,xxlarge:1280,xxxlarge:1350,xxxxlarge:1440},s=[l.xxxxlarge,l.xxxlarge,l.xxlarge,l.xlarge,l.large,l.medium,l.small],o=r.createContext({screenSize:l.small});function d(){return r.useContext(o)}function c({children:e,initialValue:t}){let n=(0,r.useSyncExternalStore)(()=>()=>{},()=>t??u(window.innerWidth),()=>t??l.small),s=(0,r.useRef)(n),[d,c]=(0,r.useState)(n),m=(0,r.useCallback)(()=>{let e=u(window.innerWidth);s.current!==e&&(s.current=e,c(e))},[]);(0,r.useEffect)(()=>{let e=new ResizeObserver((0,a.s)(m));return e.observe(document.documentElement),()=>e.disconnect()},[m]);let f=(0,r.useMemo)(()=>({screenSize:d}),[d]);return(0,i.jsx)(o.Provider,{value:f,children:e})}function u(e){for(let t of s)if(e>=t)return t;return l.small}try{o.displayName||(o.displayName="ScreenContext")}catch{}try{c.displayName||(c.displayName="ScreenSizeProvider")}catch{}},84763:(e,t,n)=>{n.d(t,{k:()=>s});var i=n(74848),a=n(45079),r=n(75177),l=n(19743);function s({zIndex:e,altText:t,hovercardUrl:n,src:s,square:o,icon:d,iconColor:c,backgroundColor:u,backgroundSx:m,sx:f,size:h=20}){return(0,i.jsxs)(r.A,{sx:{position:"relative",display:"flex",gap:2,alignItems:"center",...e,...f},children:[(0,i.jsx)(a.r,{alt:t,"data-hovercard-url":n,size:h,square:o,src:s}),(0,i.jsx)(l.k,{icon:d,iconColor:c,size:12,backgroundColor:u,backgroundSx:m})]})}try{s.displayName||(s.displayName="StatusAvatar")}catch{}},19743:(e,t,n)=>{n.d(t,{k:()=>l});var i=n(74848),a=n(75177),r=n(30729);function l({iconColor:e,icon:t,size:n=12,backgroundColor:l="fg.onEmphasis",absolute:s=!0,backgroundSx:o}){let d,c;return 12===n?(d="10px",c="1px"):20===n?(d="16px",c="2px"):(d="16px",c="4px"),(0,i.jsxs)(a.A,{sx:{display:"flex",borderRadius:"100px",...s?{position:"absolute",bottom:-1,right:-1,boxShadow:"0 0 0 2px var(--bgColor-default, var(--color-canvas-default))",backgroundColor:"var(--bgColor-default, var(--color-canvas-default))"}:{position:"relative"},...o},children:[(0,i.jsx)(a.A,{sx:{display:"flex",position:"absolute",borderRadius:"100px",width:d,height:d,left:c,top:c,backgroundColor:l}}),(0,i.jsx)(r.A,{icon:t,size:n,sx:{color:e,position:"relative"}})]})}try{l.displayName||(l.displayName="StatusIcon")}catch{}},54362:(e,t,n)=>{function i(e,t){return"function"==typeof e?e(...t):!!e}function a(){}n.d(t,{G:()=>i,l:()=>a})},6907:(e,t,n)=>{n.d(t,{x:()=>r});var i=n(2642),a=n(50622);function r(e,t){let n=(0,i.a)(e);if(isNaN(n.getTime()))throw RangeError("Invalid time value");let r=t?.format??"extended",l=t?.representation??"complete",s="",o="",d="extended"===r?"-":"";if("time"!==l){let e=(0,a.F)(n.getDate(),2),t=(0,a.F)(n.getMonth()+1,2),i=(0,a.F)(n.getFullYear(),4);s=`${i}${d}${t}${d}${e}`}if("date"!==l){let e=n.getTimezoneOffset();if(0!==e){let t=Math.abs(e),n=(0,a.F)(Math.trunc(t/60),2),i=(0,a.F)(t%60,2);o=`${e<0?"+":"-"}${n}:${i}`}else o="Z";let t=(0,a.F)(n.getHours(),2),i=(0,a.F)(n.getMinutes(),2),l=(0,a.F)(n.getSeconds(),2),d=""===s?"":"T",c=[t,i,l].join("extended"===r?":":"");s=`${s}${d}${c}${o}`}return s}},46996:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(21179);let a=function(e,t){return(0,i.A)(e,t)}}},e=>{var t=t=>e(e.s=t);e.O(0,["primer-react","react-core","react-lib","octicons-react","vendors-node_modules_primer_behaviors_dist_esm_index_mjs","vendors-node_modules_emotion_is-prop-valid_dist_emotion-is-prop-valid_esm_js-node_modules_emo-62da9f","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_stacktrace-parser_dist_s-e7dcdd","vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js","vendors-node_modules_dompurify_dist_purify_js","vendors-node_modules_primer_live-region-element_dist_esm_index_js-node_modules_tanstack_query-1fdea8","vendors-node_modules_github_relative-time-element_dist_index_js","vendors-node_modules_lodash-es__Stack_js-node_modules_lodash-es__Uint8Array_js-node_modules_l-4faaa6","vendors-node_modules_react-relay_index_js","vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_githu-bb80ec","vendors-node_modules_date-fns_format_mjs","vendors-node_modules_date-fns_addWeeks_mjs-node_modules_date-fns_addYears_mjs-node_modules_da-827f4f","vendors-node_modules_focus-visible_dist_focus-visible_js-node_modules_fzy_js_index_js-node_mo-c4d1d6","vendors-node_modules_github_hotkey_dist_index_js-node_modules_date-fns_getDaysInMonth_mjs-nod-70c11b","vendors-node_modules_lodash-es__baseIsEqual_js","vendors-node_modules_github_combobox-nav_dist_index_js-node_modules_github_g-emoji-element_di-cff384","vendors-node_modules_react-relay_hooks_js-node_modules_color2k_dist_index_exports_import_es_m-05025c","vendors-node_modules_github_quote-selection_dist_index_js-node_modules_github_hydro-analytics-ea262b","ui_packages_failbot_failbot_ts","ui_packages_aria-live_aria-live_ts-ui_packages_promise-with-resolvers-polyfill_promise-with-r-014121","ui_packages_paths_index_ts","ui_packages_ui-commands_ui-commands_ts","ui_packages_list-view_src_ListItem_ListItem_tsx-ui_packages_list-view_src_ListItem_Title_tsx--68e5b9","ui_packages_date-picker_date-picker_ts-ui_packages_github-avatar_GitHubAvatar_tsx","ui_packages_item-picker_constants_labels_ts-ui_packages_item-picker_constants_values_ts-ui_pa-163a9a","ui_packages_item-picker_components_RepositoryPicker_tsx","ui_packages_copy-to-clipboard_CopyToClipboardButton_tsx-ui_packages_inline-autocomplete_Inlin-0940d3","ui_packages_comment-box_api_file-upload_ts-ui_packages_comment-box_api_preview_ts-ui_packages-820527","ui_packages_issue-create_dialog_CreateIssueDialogEntry_tsx","ui_packages_ref-selector_RefSelector_tsx","ui_packages_commit-attribution_index_ts-ui_packages_commit-checks-status_index_ts-ui_packages-530254"],()=>t(52030)),e.O()}]);
//# sourceMappingURL=commits-0b1d54ad566b.js.map